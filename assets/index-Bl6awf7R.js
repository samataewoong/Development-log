(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function dl(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function q1(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Uh={exports:{}},Ca={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function DC(){if(fb)return Ca;fb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:l,ref:s!==void 0?s:null,props:o}}return Ca.Fragment=e,Ca.jsx=t,Ca.jsxs=t,Ca}var db;function NC(){return db||(db=1,Uh.exports=DC()),Uh.exports}var J=NC(),Hh={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function zC(){if(hb)return ge;hb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function E(A,G,te){this.props=A,this.context=G,this.refs=x,this.updater=te||b}E.prototype.isReactComponent={},E.prototype.setState=function(A,G){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,G,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function T(){}T.prototype=E.prototype;function O(A,G,te){this.props=A,this.context=G,this.refs=x,this.updater=te||b}var C=O.prototype=new T;C.constructor=O,S(C,E.prototype),C.isPureReactComponent=!0;var z=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function _(A,G,te,Z,le,Oe){return te=Oe.ref,{$$typeof:n,type:A,key:G,ref:te!==void 0?te:null,props:Oe}}function R(A,G){return _(A.type,G,void 0,void 0,void 0,A.props)}function q(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function Y(A){var G={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(te){return G[te]})}var fe=/\/+/g;function re(A,G){return typeof A=="object"&&A!==null&&A.key!=null?Y(""+A.key):G.toString(36)}function Te(){}function qe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Te,Te):(A.status="pending",A.then(function(G){A.status==="pending"&&(A.status="fulfilled",A.value=G)},function(G){A.status==="pending"&&(A.status="rejected",A.reason=G)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function _e(A,G,te,Z,le){var Oe=typeof A;(Oe==="undefined"||Oe==="boolean")&&(A=null);var pe=!1;if(A===null)pe=!0;else switch(Oe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(A.$$typeof){case n:case e:pe=!0;break;case p:return pe=A._init,_e(pe(A._payload),G,te,Z,le)}}if(pe)return le=le(A),pe=Z===""?"."+re(A,0):Z,z(le)?(te="",pe!=null&&(te=pe.replace(fe,"$&/")+"/"),_e(le,G,te,"",function(wr){return wr})):le!=null&&(q(le)&&(le=R(le,te+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(fe,"$&/")+"/")+pe)),G.push(le)),1;pe=0;var Wt=Z===""?".":Z+":";if(z(A))for(var Ve=0;Ve<A.length;Ve++)Z=A[Ve],Oe=Wt+re(Z,Ve),pe+=_e(Z,G,te,Oe,le);else if(Ve=v(A),typeof Ve=="function")for(A=Ve.call(A),Ve=0;!(Z=A.next()).done;)Z=Z.value,Oe=Wt+re(Z,Ve++),pe+=_e(Z,G,te,Oe,le);else if(Oe==="object"){if(typeof A.then=="function")return _e(qe(A),G,te,Z,le);throw G=String(A),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return pe}function $(A,G,te){if(A==null)return A;var Z=[],le=0;return _e(A,Z,"","",function(Oe){return G.call(te,Oe,le++)}),Z}function Q(A){if(A._status===-1){var G=A._result;G=G(),G.then(function(te){(A._status===0||A._status===-1)&&(A._status=1,A._result=te)},function(te){(A._status===0||A._status===-1)&&(A._status=2,A._result=te)}),A._status===-1&&(A._status=0,A._result=G)}if(A._status===1)return A._result.default;throw A._result}var se=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function ke(){}return ge.Children={map:$,forEach:function(A,G,te){$(A,function(){G.apply(this,arguments)},te)},count:function(A){var G=0;return $(A,function(){G++}),G},toArray:function(A){return $(A,function(G){return G})||[]},only:function(A){if(!q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ge.Component=E,ge.Fragment=t,ge.Profiler=s,ge.PureComponent=O,ge.StrictMode=r,ge.Suspense=d,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ge.__COMPILER_RUNTIME={__proto__:null,c:function(A){return N.H.useMemoCache(A)}},ge.cache=function(A){return function(){return A.apply(null,arguments)}},ge.cloneElement=function(A,G,te){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Z=S({},A.props),le=A.key,Oe=void 0;if(G!=null)for(pe in G.ref!==void 0&&(Oe=void 0),G.key!==void 0&&(le=""+G.key),G)!j.call(G,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&G.ref===void 0||(Z[pe]=G[pe]);var pe=arguments.length-2;if(pe===1)Z.children=te;else if(1<pe){for(var Wt=Array(pe),Ve=0;Ve<pe;Ve++)Wt[Ve]=arguments[Ve+2];Z.children=Wt}return _(A.type,le,void 0,void 0,Oe,Z)},ge.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},ge.createElement=function(A,G,te){var Z,le={},Oe=null;if(G!=null)for(Z in G.key!==void 0&&(Oe=""+G.key),G)j.call(G,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(le[Z]=G[Z]);var pe=arguments.length-2;if(pe===1)le.children=te;else if(1<pe){for(var Wt=Array(pe),Ve=0;Ve<pe;Ve++)Wt[Ve]=arguments[Ve+2];le.children=Wt}if(A&&A.defaultProps)for(Z in pe=A.defaultProps,pe)le[Z]===void 0&&(le[Z]=pe[Z]);return _(A,Oe,void 0,void 0,null,le)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(A){return{$$typeof:c,render:A}},ge.isValidElement=q,ge.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:Q}},ge.memo=function(A,G){return{$$typeof:h,type:A,compare:G===void 0?null:G}},ge.startTransition=function(A){var G=N.T,te={};N.T=te;try{var Z=A(),le=N.S;le!==null&&le(te,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ke,se)}catch(Oe){se(Oe)}finally{N.T=G}},ge.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ge.use=function(A){return N.H.use(A)},ge.useActionState=function(A,G,te){return N.H.useActionState(A,G,te)},ge.useCallback=function(A,G){return N.H.useCallback(A,G)},ge.useContext=function(A){return N.H.useContext(A)},ge.useDebugValue=function(){},ge.useDeferredValue=function(A,G){return N.H.useDeferredValue(A,G)},ge.useEffect=function(A,G,te){var Z=N.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(A,G)},ge.useId=function(){return N.H.useId()},ge.useImperativeHandle=function(A,G,te){return N.H.useImperativeHandle(A,G,te)},ge.useInsertionEffect=function(A,G){return N.H.useInsertionEffect(A,G)},ge.useLayoutEffect=function(A,G){return N.H.useLayoutEffect(A,G)},ge.useMemo=function(A,G){return N.H.useMemo(A,G)},ge.useOptimistic=function(A,G){return N.H.useOptimistic(A,G)},ge.useReducer=function(A,G,te){return N.H.useReducer(A,G,te)},ge.useRef=function(A){return N.H.useRef(A)},ge.useState=function(A){return N.H.useState(A)},ge.useSyncExternalStore=function(A,G,te){return N.H.useSyncExternalStore(A,G,te)},ge.useTransition=function(){return N.H.useTransition()},ge.version="19.1.0",ge}var pb;function is(){return pb||(pb=1,Hh.exports=zC()),Hh.exports}var B=is();const Qi=dl(B);var Ih={exports:{}},_a={},$h={exports:{}},qh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function LC(){return mb||(mb=1,function(n){function e($,Q){var se=$.length;$.push(Q);e:for(;0<se;){var ke=se-1>>>1,A=$[ke];if(0<s(A,Q))$[ke]=Q,$[se]=A,se=ke;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],se=$.pop();if(se!==Q){$[0]=se;e:for(var ke=0,A=$.length,G=A>>>1;ke<G;){var te=2*(ke+1)-1,Z=$[te],le=te+1,Oe=$[le];if(0>s(Z,se))le<A&&0>s(Oe,Z)?($[ke]=Oe,$[le]=se,ke=le):($[ke]=Z,$[te]=se,ke=te);else if(le<A&&0>s(Oe,se))$[ke]=Oe,$[le]=se,ke=le;else break e}}return Q}function s($,Q){var se=$.sortIndex-Q.sortIndex;return se!==0?se:$.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,g=null,v=3,b=!1,S=!1,x=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function z($){for(var Q=t(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=$)r(h),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=t(h)}}function N($){if(x=!1,z($),!S)if(t(d)!==null)S=!0,j||(j=!0,re());else{var Q=t(h);Q!==null&&_e(N,Q.startTime-$)}}var j=!1,_=-1,R=5,q=-1;function Y(){return E?!0:!(n.unstable_now()-q<R)}function fe(){if(E=!1,j){var $=n.unstable_now();q=$;var Q=!0;try{e:{S=!1,x&&(x=!1,O(_),_=-1),b=!0;var se=v;try{t:{for(z($),g=t(d);g!==null&&!(g.expirationTime>$&&Y());){var ke=g.callback;if(typeof ke=="function"){g.callback=null,v=g.priorityLevel;var A=ke(g.expirationTime<=$);if($=n.unstable_now(),typeof A=="function"){g.callback=A,z($),Q=!0;break t}g===t(d)&&r(d),z($)}else r(d);g=t(d)}if(g!==null)Q=!0;else{var G=t(h);G!==null&&_e(N,G.startTime-$),Q=!1}}break e}finally{g=null,v=se,b=!1}Q=void 0}}finally{Q?re():j=!1}}}var re;if(typeof C=="function")re=function(){C(fe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,qe=Te.port2;Te.port1.onmessage=fe,re=function(){qe.postMessage(null)}}else re=function(){T(fe,0)};function _e($,Q){_=T(function(){$(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var se=v;v=Q;try{return $()}finally{v=se}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=v;v=$;try{return Q()}finally{v=se}},n.unstable_scheduleCallback=function($,Q,se){var ke=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ke+se:ke):se=ke,$){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=se+A,$={id:p++,callback:Q,priorityLevel:$,startTime:se,expirationTime:A,sortIndex:-1},se>ke?($.sortIndex=se,e(h,$),t(d)===null&&$===t(h)&&(x?(O(_),_=-1):x=!0,_e(N,se-ke))):($.sortIndex=A,e(d,$),S||b||(S=!0,j||(j=!0,re()))),$},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function($){var Q=v;return function(){var se=v;v=Q;try{return $.apply(this,arguments)}finally{v=se}}}}(qh)),qh}var gb;function BC(){return gb||(gb=1,$h.exports=LC()),$h.exports}var Vh={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function jC(){if(yb)return At;yb=1;var n=is();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:h,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,At.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,p)},At.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},At.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},At.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},At.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,g=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:b}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},At.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},At.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=c(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},At.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},At.requestFormReset=function(d){r.d.r(d)},At.unstable_batchedUpdates=function(d,h){return d(h)},At.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},At.useFormStatus=function(){return l.H.useHostTransitionStatus()},At.version="19.1.0",At}var vb;function rf(){if(vb)return Vh.exports;vb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vh.exports=jC(),Vh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function PC(){if(bb)return _a;bb=1;var n=BC(),e=is(),t=rf();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function l(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var u=i,f=a;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return c(m),i;if(y===f)return c(m),a;y=y.sibling}throw Error(r(188))}if(u.return!==f.return)u=m,f=y;else{for(var w=!1,k=m.child;k;){if(k===u){w=!0,u=m,f=y;break}if(k===f){w=!0,f=m,u=y;break}k=k.sibling}if(!w){for(k=y.child;k;){if(k===u){w=!0,u=y,f=m;break}if(k===f){w=!0,f=y,u=m;break}k=k.sibling}if(!w)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:a}function h(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=h(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function re(i){return i===null||typeof i!="object"?null:(i=fe&&i[fe]||i["@@iterator"],typeof i=="function"?i:null)}var Te=Symbol.for("react.client.reference");function qe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Te?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case j:return"SuspenseList";case q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case C:return(i.displayName||"Context")+".Provider";case O:return(i._context.displayName||"Context")+".Consumer";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _:return a=i.displayName||null,a!==null?a:qe(i.type)||"Memo";case R:a=i._payload,i=i._init;try{return qe(i(a))}catch{}}return null}var _e=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ke=[],A=-1;function G(i){return{current:i}}function te(i){0>A||(i.current=ke[A],ke[A]=null,A--)}function Z(i,a){A++,ke[A]=i.current,i.current=a}var le=G(null),Oe=G(null),pe=G(null),Wt=G(null);function Ve(i,a){switch(Z(pe,a),Z(Oe,i),Z(le,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Uv(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Uv(a),i=Hv(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(le),Z(le,i)}function wr(){te(le),te(Oe),te(pe)}function Tf(i){i.memoizedState!==null&&Z(Wt,i);var a=le.current,u=Hv(a,i.type);a!==u&&(Z(Oe,i),Z(le,u))}function El(i){Oe.current===i&&(te(le),te(Oe)),Wt.current===i&&(te(Wt),wa._currentValue=se)}var kf=Object.prototype.hasOwnProperty,Cf=n.unstable_scheduleCallback,_f=n.unstable_cancelCallback,cT=n.unstable_shouldYield,fT=n.unstable_requestPaint,Rn=n.unstable_now,dT=n.unstable_getCurrentPriorityLevel,bg=n.unstable_ImmediatePriority,Sg=n.unstable_UserBlockingPriority,Tl=n.unstable_NormalPriority,hT=n.unstable_LowPriority,wg=n.unstable_IdlePriority,pT=n.log,mT=n.unstable_setDisableYieldValue,Mo=null,Yt=null;function xr(i){if(typeof pT=="function"&&mT(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Mo,i)}catch{}}var Xt=Math.clz32?Math.clz32:vT,gT=Math.log,yT=Math.LN2;function vT(i){return i>>>=0,i===0?32:31-(gT(i)/yT|0)|0}var kl=256,Cl=4194304;function bi(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _l(i,a,u){var f=i.pendingLanes;if(f===0)return 0;var m=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var k=f&134217727;return k!==0?(f=k&~y,f!==0?m=bi(f):(w&=k,w!==0?m=bi(w):u||(u=k&~i,u!==0&&(m=bi(u))))):(k=f&~y,k!==0?m=bi(k):w!==0?m=bi(w):u||(u=f&~i,u!==0&&(m=bi(u)))),m===0?0:a!==0&&a!==m&&(a&y)===0&&(y=m&-m,u=a&-a,y>=u||y===32&&(u&4194048)!==0)?a:m}function Ao(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function bT(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xg(){var i=kl;return kl<<=1,(kl&4194048)===0&&(kl=256),i}function Eg(){var i=Cl;return Cl<<=1,(Cl&62914560)===0&&(Cl=4194304),i}function Of(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Ro(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ST(i,a,u,f,m,y){var w=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var k=i.entanglements,M=i.expirationTimes,U=i.hiddenUpdates;for(u=w&~u;0<u;){var V=31-Xt(u),K=1<<V;k[V]=0,M[V]=-1;var H=U[V];if(H!==null)for(U[V]=null,V=0;V<H.length;V++){var I=H[V];I!==null&&(I.lane&=-536870913)}u&=~K}f!==0&&Tg(i,f,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~a))}function Tg(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-Xt(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function kg(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var f=31-Xt(u),m=1<<f;m&a|i[f]&a&&(i[f]|=a),u&=~m}}function Mf(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Af(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Cg(){var i=Q.p;return i!==0?i:(i=window.event,i===void 0?32:sb(i.type))}function wT(i,a){var u=Q.p;try{return Q.p=i,a()}finally{Q.p=u}}var Er=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Er,Ht="__reactProps$"+Er,us="__reactContainer$"+Er,Rf="__reactEvents$"+Er,xT="__reactListeners$"+Er,ET="__reactHandles$"+Er,_g="__reactResources$"+Er,Do="__reactMarker$"+Er;function Df(i){delete i[Ot],delete i[Ht],delete i[Rf],delete i[xT],delete i[ET]}function cs(i){var a=i[Ot];if(a)return a;for(var u=i.parentNode;u;){if(a=u[us]||u[Ot]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=Vv(i);i!==null;){if(u=i[Ot])return u;i=Vv(i)}return a}i=u,u=i.parentNode}return null}function fs(i){if(i=i[Ot]||i[us]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function No(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function ds(i){var a=i[_g];return a||(a=i[_g]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function dt(i){i[Do]=!0}var Og=new Set,Mg={};function Si(i,a){hs(i,a),hs(i+"Capture",a)}function hs(i,a){for(Mg[i]=a,i=0;i<a.length;i++)Og.add(a[i])}var TT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ag={},Rg={};function kT(i){return kf.call(Rg,i)?!0:kf.call(Ag,i)?!1:TT.test(i)?Rg[i]=!0:(Ag[i]=!0,!1)}function Ol(i,a,u){if(kT(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+u)}}function Ml(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+u)}}function Gn(i,a,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(a,u,""+f)}}var Nf,Dg;function ps(i){if(Nf===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Nf=a&&a[1]||"",Dg=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nf+i+Dg}var zf=!1;function Lf(i,a){if(!i||zf)return"";zf=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(I){var H=I}Reflect.construct(i,[],K)}else{try{K.call()}catch(I){H=I}i.call(K.prototype)}}else{try{throw Error()}catch(I){H=I}(K=i())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(I){if(I&&H&&typeof I.stack=="string")return[I.stack,H.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),w=y[0],k=y[1];if(w&&k){var M=w.split(`
`),U=k.split(`
`);for(m=f=0;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;for(;m<U.length&&!U[m].includes("DetermineComponentFrameRoot");)m++;if(f===M.length||m===U.length)for(f=M.length-1,m=U.length-1;1<=f&&0<=m&&M[f]!==U[m];)m--;for(;1<=f&&0<=m;f--,m--)if(M[f]!==U[m]){if(f!==1||m!==1)do if(f--,m--,0>m||M[f]!==U[m]){var V=`
`+M[f].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=f&&0<=m);break}}}finally{zf=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?ps(u):""}function CT(i){switch(i.tag){case 26:case 27:case 5:return ps(i.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 15:return Lf(i.type,!1);case 11:return Lf(i.type.render,!1);case 1:return Lf(i.type,!0);case 31:return ps("Activity");default:return""}}function Ng(i){try{var a="";do a+=CT(i),i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function zg(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function _T(i){var a=zg(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),f=""+i[a];if(!i.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return m.call(this)},set:function(w){f=""+w,y.call(this,w)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(w){f=""+w},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Al(i){i._valueTracker||(i._valueTracker=_T(i))}function Lg(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return i&&(f=zg(i)?i.checked?"true":"false":i.value),i=f,i!==u?(a.setValue(i),!0):!1}function Rl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var OT=/[\n"\\]/g;function un(i){return i.replace(OT,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Bf(i,a,u,f,m,y,w,k){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),a!=null?w==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+ln(a)):i.value!==""+ln(a)&&(i.value=""+ln(a)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),a!=null?jf(i,w,ln(a)):u!=null?jf(i,w,ln(u)):f!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+ln(k):i.removeAttribute("name")}function Bg(i,a,u,f,m,y,w,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;u=u!=null?""+ln(u):"",a=a!=null?""+ln(a):u,k||a===i.value||(i.value=a),i.defaultValue=a}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=k?i.checked:!!f,i.defaultChecked=!!f,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function jf(i,a,u){a==="number"&&Rl(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ms(i,a,u,f){if(i=i.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=a.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+ln(u),a=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}a!==null||i[m].disabled||(a=i[m])}a!==null&&(a.selected=!0)}}function jg(i,a,u){if(a!=null&&(a=""+ln(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+ln(u):""}function Pg(i,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(r(92));if(_e(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=ln(a),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function gs(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var MT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(i,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,u):typeof u!="number"||u===0||MT.has(a)?a==="float"?i.cssFloat=u:i[a]=(""+u).trim():i[a]=u+"px"}function Hg(i,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var m in a)f=a[m],a.hasOwnProperty(m)&&u[m]!==f&&Ug(i,m,f)}else for(var y in a)a.hasOwnProperty(y)&&Ug(i,y,a[y])}function Pf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dl(i){return RT.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Uf=null;function Hf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ys=null,vs=null;function Ig(i){var a=fs(i);if(a&&(i=a.stateNode)){var u=i[Ht]||null;e:switch(i=a.stateNode,a.type){case"input":if(Bf(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+un(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==i&&f.form===i.form){var m=f[Ht]||null;if(!m)throw Error(r(90));Bf(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===i.form&&Lg(f)}break e;case"textarea":jg(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&ms(i,!!u.multiple,a,!1)}}}var If=!1;function $g(i,a,u){if(If)return i(a,u);If=!0;try{var f=i(a);return f}finally{if(If=!1,(ys!==null||vs!==null)&&(yu(),ys&&(a=ys,i=vs,vs=ys=null,Ig(a),i)))for(a=0;a<i.length;a++)Ig(i[a])}}function zo(i,a){var u=i.stateNode;if(u===null)return null;var f=u[Ht]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=!1;if(Wn)try{var Lo={};Object.defineProperty(Lo,"passive",{get:function(){$f=!0}}),window.addEventListener("test",Lo,Lo),window.removeEventListener("test",Lo,Lo)}catch{$f=!1}var Tr=null,qf=null,Nl=null;function qg(){if(Nl)return Nl;var i,a=qf,u=a.length,f,m="value"in Tr?Tr.value:Tr.textContent,y=m.length;for(i=0;i<u&&a[i]===m[i];i++);var w=u-i;for(f=1;f<=w&&a[u-f]===m[y-f];f++);return Nl=m.slice(i,1<f?1-f:void 0)}function zl(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ll(){return!0}function Vg(){return!1}function It(i){function a(u,f,m,y,w){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ll:Vg,this.isPropagationStopped=Vg,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),a}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=It(wi),Bo=p({},wi,{view:0,detail:0}),DT=It(Bo),Vf,Ff,jo,jl=p({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==jo&&(jo&&i.type==="mousemove"?(Vf=i.screenX-jo.screenX,Ff=i.screenY-jo.screenY):Ff=Vf=0,jo=i),Vf)},movementY:function(i){return"movementY"in i?i.movementY:Ff}}),Fg=It(jl),NT=p({},jl,{dataTransfer:0}),zT=It(NT),LT=p({},Bo,{relatedTarget:0}),Kf=It(LT),BT=p({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),jT=It(BT),PT=p({},wi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),UT=It(PT),HT=p({},wi,{data:0}),Kg=It(HT),IT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$T={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VT(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=qT[i])?!!a[i]:!1}function Gf(){return VT}var FT=p({},Bo,{key:function(i){if(i.key){var a=IT[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=zl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$T[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gf,charCode:function(i){return i.type==="keypress"?zl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),KT=It(FT),GT=p({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gg=It(GT),WT=p({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gf}),YT=It(WT),XT=p({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),JT=It(XT),QT=p({},jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ZT=It(QT),ek=p({},wi,{newState:0,oldState:0}),tk=It(ek),nk=[9,13,27,32],Wf=Wn&&"CompositionEvent"in window,Po=null;Wn&&"documentMode"in document&&(Po=document.documentMode);var rk=Wn&&"TextEvent"in window&&!Po,Wg=Wn&&(!Wf||Po&&8<Po&&11>=Po),Yg=" ",Xg=!1;function Jg(i,a){switch(i){case"keyup":return nk.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var bs=!1;function ik(i,a){switch(i){case"compositionend":return Qg(a);case"keypress":return a.which!==32?null:(Xg=!0,Yg);case"textInput":return i=a.data,i===Yg&&Xg?null:i;default:return null}}function sk(i,a){if(bs)return i==="compositionend"||!Wf&&Jg(i,a)?(i=qg(),Nl=qf=Tr=null,bs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wg&&a.locale!=="ko"?null:a.data;default:return null}}var ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!ok[i.type]:a==="textarea"}function ey(i,a,u,f){ys?vs?vs.push(f):vs=[f]:ys=f,a=Eu(a,"onChange"),0<a.length&&(u=new Bl("onChange","change",null,u,f),i.push({event:u,listeners:a}))}var Uo=null,Ho=null;function ak(i){zv(i,0)}function Pl(i){var a=No(i);if(Lg(a))return i}function ty(i,a){if(i==="change")return a}var ny=!1;if(Wn){var Yf;if(Wn){var Xf="oninput"in document;if(!Xf){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Xf=typeof ry.oninput=="function"}Yf=Xf}else Yf=!1;ny=Yf&&(!document.documentMode||9<document.documentMode)}function iy(){Uo&&(Uo.detachEvent("onpropertychange",sy),Ho=Uo=null)}function sy(i){if(i.propertyName==="value"&&Pl(Ho)){var a=[];ey(a,Ho,i,Hf(i)),$g(ak,a)}}function lk(i,a,u){i==="focusin"?(iy(),Uo=a,Ho=u,Uo.attachEvent("onpropertychange",sy)):i==="focusout"&&iy()}function uk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pl(Ho)}function ck(i,a){if(i==="click")return Pl(a)}function fk(i,a){if(i==="input"||i==="change")return Pl(a)}function dk(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Jt=typeof Object.is=="function"?Object.is:dk;function Io(i,a){if(Jt(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!kf.call(a,m)||!Jt(i[m],a[m]))return!1}return!0}function oy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ay(i,a){var u=oy(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=a&&f>=a)return{node:u,offset:a-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=oy(u)}}function ly(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?ly(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function uy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Rl(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)i=a.contentWindow;else break;a=Rl(i.document)}return a}function Jf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var hk=Wn&&"documentMode"in document&&11>=document.documentMode,Ss=null,Qf=null,$o=null,Zf=!1;function cy(i,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Zf||Ss==null||Ss!==Rl(f)||(f=Ss,"selectionStart"in f&&Jf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),$o&&Io($o,f)||($o=f,f=Eu(Qf,"onSelect"),0<f.length&&(a=new Bl("onSelect","select",null,a,u),i.push({event:a,listeners:f}),a.target=Ss)))}function xi(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var ws={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionrun:xi("Transition","TransitionRun"),transitionstart:xi("Transition","TransitionStart"),transitioncancel:xi("Transition","TransitionCancel"),transitionend:xi("Transition","TransitionEnd")},ed={},fy={};Wn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Ei(i){if(ed[i])return ed[i];if(!ws[i])return i;var a=ws[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in fy)return ed[i]=a[u];return i}var dy=Ei("animationend"),hy=Ei("animationiteration"),py=Ei("animationstart"),pk=Ei("transitionrun"),mk=Ei("transitionstart"),gk=Ei("transitioncancel"),my=Ei("transitionend"),gy=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function xn(i,a){gy.set(i,a),Si(a,[i])}var yy=new WeakMap;function cn(i,a){if(typeof i=="object"&&i!==null){var u=yy.get(i);return u!==void 0?u:(a={value:i,source:a,stack:Ng(a)},yy.set(i,a),a)}return{value:i,source:a,stack:Ng(a)}}var fn=[],xs=0,nd=0;function Ul(){for(var i=xs,a=nd=xs=0;a<i;){var u=fn[a];fn[a++]=null;var f=fn[a];fn[a++]=null;var m=fn[a];fn[a++]=null;var y=fn[a];if(fn[a++]=null,f!==null&&m!==null){var w=f.pending;w===null?m.next=m:(m.next=w.next,w.next=m),f.pending=m}y!==0&&vy(u,m,y)}}function Hl(i,a,u,f){fn[xs++]=i,fn[xs++]=a,fn[xs++]=u,fn[xs++]=f,nd|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function rd(i,a,u,f){return Hl(i,a,u,f),Il(i)}function Es(i,a){return Hl(i,null,null,a),Il(i)}function vy(i,a,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var m=!1,y=i.return;y!==null;)y.childLanes|=u,f=y.alternate,f!==null&&(f.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&a!==null&&(m=31-Xt(u),i=y.hiddenUpdates,f=i[m],f===null?i[m]=[a]:f.push(a),a.lane=u|536870912),y):null}function Il(i){if(50<ha)throw ha=0,uh=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ts={};function yk(i,a,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(i,a,u,f){return new yk(i,a,u,f)}function id(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Yn(i,a){var u=i.alternate;return u===null?(u=Qt(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function by(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function $l(i,a,u,f,m,y){var w=0;if(f=i,typeof i=="function")id(i)&&(w=1);else if(typeof i=="string")w=bC(i,u,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case q:return i=Qt(31,u,a,m),i.elementType=q,i.lanes=y,i;case S:return Ti(u.children,m,y,a);case x:w=8,m|=24;break;case E:return i=Qt(12,u,a,m|2),i.elementType=E,i.lanes=y,i;case N:return i=Qt(13,u,a,m),i.elementType=N,i.lanes=y,i;case j:return i=Qt(19,u,a,m),i.elementType=j,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case C:w=10;break e;case O:w=9;break e;case z:w=11;break e;case _:w=14;break e;case R:w=16,f=null;break e}w=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return a=Qt(w,u,a,m),a.elementType=i,a.type=f,a.lanes=y,a}function Ti(i,a,u,f){return i=Qt(7,i,f,a),i.lanes=u,i}function sd(i,a,u){return i=Qt(6,i,null,a),i.lanes=u,i}function od(i,a,u){return a=Qt(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var ks=[],Cs=0,ql=null,Vl=0,dn=[],hn=0,ki=null,Xn=1,Jn="";function Ci(i,a){ks[Cs++]=Vl,ks[Cs++]=ql,ql=i,Vl=a}function Sy(i,a,u){dn[hn++]=Xn,dn[hn++]=Jn,dn[hn++]=ki,ki=i;var f=Xn;i=Jn;var m=32-Xt(f)-1;f&=~(1<<m),u+=1;var y=32-Xt(a)+m;if(30<y){var w=m-m%5;y=(f&(1<<w)-1).toString(32),f>>=w,m-=w,Xn=1<<32-Xt(a)+m|u<<m|f,Jn=y+i}else Xn=1<<y|u<<m|f,Jn=i}function ad(i){i.return!==null&&(Ci(i,1),Sy(i,1,0))}function ld(i){for(;i===ql;)ql=ks[--Cs],ks[Cs]=null,Vl=ks[--Cs],ks[Cs]=null;for(;i===ki;)ki=dn[--hn],dn[hn]=null,Jn=dn[--hn],dn[hn]=null,Xn=dn[--hn],dn[hn]=null}var Lt=null,Ye=null,Ae=!1,_i=null,Dn=!1,ud=Error(r(519));function Oi(i){var a=Error(r(418,""));throw Fo(cn(a,i)),ud}function wy(i){var a=i.stateNode,u=i.type,f=i.memoizedProps;switch(a[Ot]=i,a[Ht]=f,u){case"dialog":xe("cancel",a),xe("close",a);break;case"iframe":case"object":case"embed":xe("load",a);break;case"video":case"audio":for(u=0;u<ma.length;u++)xe(ma[u],a);break;case"source":xe("error",a);break;case"img":case"image":case"link":xe("error",a),xe("load",a);break;case"details":xe("toggle",a);break;case"input":xe("invalid",a),Bg(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Al(a);break;case"select":xe("invalid",a);break;case"textarea":xe("invalid",a),Pg(a,f.value,f.defaultValue,f.children),Al(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||Pv(a.textContent,u)?(f.popover!=null&&(xe("beforetoggle",a),xe("toggle",a)),f.onScroll!=null&&xe("scroll",a),f.onScrollEnd!=null&&xe("scrollend",a),f.onClick!=null&&(a.onclick=Tu),a=!0):a=!1,a||Oi(i)}function xy(i){for(Lt=i.return;Lt;)switch(Lt.tag){case 5:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Lt=Lt.return}}function qo(i){if(i!==Lt)return!1;if(!Ae)return xy(i),Ae=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||kh(i.type,i.memoizedProps)),u=!u),u&&Ye&&Oi(i),xy(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(a===0){Ye=Tn(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;i=i.nextSibling}Ye=null}}else a===27?(a=Ye,Hr(i.type)?(i=Mh,Mh=null,Ye=i):Ye=a):Ye=Lt?Tn(i.stateNode.nextSibling):null;return!0}function Vo(){Ye=Lt=null,Ae=!1}function Ey(){var i=_i;return i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i),_i=null),i}function Fo(i){_i===null?_i=[i]:_i.push(i)}var cd=G(null),Mi=null,Qn=null;function kr(i,a,u){Z(cd,a._currentValue),a._currentValue=u}function Zn(i){i._currentValue=cd.current,te(cd)}function fd(i,a,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===u)break;i=i.return}}function dd(i,a,u,f){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var w=m.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=m;for(var M=0;M<a.length;M++)if(k.context===a[M]){y.lanes|=u,k=y.alternate,k!==null&&(k.lanes|=u),fd(y.return,u,i),f||(w=null);break e}y=k.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(r(341));w.lanes|=u,y=w.alternate,y!==null&&(y.lanes|=u),fd(w,u,i),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===i){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Ko(i,a,u,f){i=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var k=m.type;Jt(m.pendingProps.value,w.value)||(i!==null?i.push(k):i=[k])}}else if(m===Wt.current){if(w=m.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(wa):i=[wa])}m=m.return}i!==null&&dd(a,i,u,f),a.flags|=262144}function Fl(i){for(i=i.firstContext;i!==null;){if(!Jt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ai(i){Mi=i,Qn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mt(i){return Ty(Mi,i)}function Kl(i,a){return Mi===null&&Ai(i),Ty(i,a)}function Ty(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Qn===null){if(i===null)throw Error(r(308));Qn=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Qn=Qn.next=a;return u}var vk=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},bk=n.unstable_scheduleCallback,Sk=n.unstable_NormalPriority,ut={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hd(){return{controller:new vk,data:new Map,refCount:0}}function Go(i){i.refCount--,i.refCount===0&&bk(Sk,function(){i.controller.abort()})}var Wo=null,pd=0,_s=0,Os=null;function wk(i,a){if(Wo===null){var u=Wo=[];pd=0,_s=gh(),Os={status:"pending",value:void 0,then:function(f){u.push(f)}}}return pd++,a.then(ky,ky),a}function ky(){if(--pd===0&&Wo!==null){Os!==null&&(Os.status="fulfilled");var i=Wo;Wo=null,_s=0,Os=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function xk(i,a){var u=[],f={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var m=0;m<u.length;m++)(0,u[m])(a)},function(m){for(f.status="rejected",f.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),f}var Cy=$.S;$.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&wk(i,a),Cy!==null&&Cy(i,a)};var Ri=G(null);function md(){var i=Ri.current;return i!==null?i:Ue.pooledCache}function Gl(i,a){a===null?Z(Ri,Ri.current):Z(Ri,a.pool)}function _y(){var i=md();return i===null?null:{parent:ut._currentValue,pool:i}}var Yo=Error(r(460)),Oy=Error(r(474)),Wl=Error(r(542)),gd={then:function(){}};function My(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yl(){}function Ay(i,a,u){switch(u=i[u],u===void 0?i.push(a):u!==a&&(a.then(Yl,Yl),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Dy(i),i;default:if(typeof a.status=="string")a.then(Yl,Yl);else{if(i=Ue,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=f}},function(f){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Dy(i),i}throw Xo=a,Yo}}var Xo=null;function Ry(){if(Xo===null)throw Error(r(459));var i=Xo;return Xo=null,i}function Dy(i){if(i===Yo||i===Wl)throw Error(r(483))}var Cr=!1;function yd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function _r(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Or(i,a,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Re&2)!==0){var m=f.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),f.pending=a,a=Il(i),vy(i,null,u),a}return Hl(i,f,a,u),Il(i)}function Jo(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,u|=f,a.lanes=u,kg(i,u)}}function bd(i,a){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var w={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=w:y=y.next=w,u=u.next}while(u!==null);y===null?m=y=a:y=y.next=a}else m=y=a;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}var Sd=!1;function Qo(){if(Sd){var i=Os;if(i!==null)throw i}}function Zo(i,a,u,f){Sd=!1;var m=i.updateQueue;Cr=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var M=k,U=M.next;M.next=null,w===null?y=U:w.next=U,w=M;var V=i.alternate;V!==null&&(V=V.updateQueue,k=V.lastBaseUpdate,k!==w&&(k===null?V.firstBaseUpdate=U:k.next=U,V.lastBaseUpdate=M))}if(y!==null){var K=m.baseState;w=0,V=U=M=null,k=y;do{var H=k.lane&-536870913,I=H!==k.lane;if(I?(Ce&H)===H:(f&H)===H){H!==0&&H===_s&&(Sd=!0),V!==null&&(V=V.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var de=i,ue=k;H=a;var Be=u;switch(ue.tag){case 1:if(de=ue.payload,typeof de=="function"){K=de.call(Be,K,H);break e}K=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ue.payload,H=typeof de=="function"?de.call(Be,K,H):de,H==null)break e;K=p({},K,H);break e;case 2:Cr=!0}}H=k.callback,H!==null&&(i.flags|=64,I&&(i.flags|=8192),I=m.callbacks,I===null?m.callbacks=[H]:I.push(H))}else I={lane:H,tag:k.tag,payload:k.payload,callback:k.callback,next:null},V===null?(U=V=I,M=K):V=V.next=I,w|=H;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;I=k,k=I.next,I.next=null,m.lastBaseUpdate=I,m.shared.pending=null}}while(!0);V===null&&(M=K),m.baseState=M,m.firstBaseUpdate=U,m.lastBaseUpdate=V,y===null&&(m.shared.lanes=0),Br|=w,i.lanes=w,i.memoizedState=K}}function Ny(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function zy(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)Ny(u[i],a)}var Ms=G(null),Xl=G(0);function Ly(i,a){i=or,Z(Xl,i),Z(Ms,a),or=i|a.baseLanes}function wd(){Z(Xl,or),Z(Ms,Ms.current)}function xd(){or=Xl.current,te(Ms),te(Xl)}var Mr=0,be=null,ze=null,it=null,Jl=!1,As=!1,Di=!1,Ql=0,ea=0,Rs=null,Ek=0;function et(){throw Error(r(321))}function Ed(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!Jt(i[u],a[u]))return!1;return!0}function Td(i,a,u,f,m,y){return Mr=y,be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=i===null||i.memoizedState===null?v0:b0,Di=!1,y=u(f,m),Di=!1,As&&(y=jy(a,u,f,m)),By(i),y}function By(i){$.H=iu;var a=ze!==null&&ze.next!==null;if(Mr=0,it=ze=be=null,Jl=!1,ea=0,Rs=null,a)throw Error(r(300));i===null||ht||(i=i.dependencies,i!==null&&Fl(i)&&(ht=!0))}function jy(i,a,u,f){be=i;var m=0;do{if(As&&(Rs=null),ea=0,As=!1,25<=m)throw Error(r(301));if(m+=1,it=ze=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=Ak,y=a(u,f)}while(As);return y}function Tk(){var i=$.H,a=i.useState()[0];return a=typeof a.then=="function"?ta(a):a,i=i.useState()[0],(ze!==null?ze.memoizedState:null)!==i&&(be.flags|=1024),a}function kd(){var i=Ql!==0;return Ql=0,i}function Cd(i,a,u){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~u}function _d(i){if(Jl){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Jl=!1}Mr=0,it=ze=be=null,As=!1,ea=Ql=0,Rs=null}function $t(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?be.memoizedState=it=i:it=it.next=i,it}function st(){if(ze===null){var i=be.alternate;i=i!==null?i.memoizedState:null}else i=ze.next;var a=it===null?be.memoizedState:it.next;if(a!==null)it=a,ze=i;else{if(i===null)throw be.alternate===null?Error(r(467)):Error(r(310));ze=i,i={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},it===null?be.memoizedState=it=i:it=it.next=i}return it}function Od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ta(i){var a=ea;return ea+=1,Rs===null&&(Rs=[]),i=Ay(Rs,i,a),a=be,(it===null?a.memoizedState:it.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?v0:b0),i}function Zl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ta(i);if(i.$$typeof===C)return Mt(i)}throw Error(r(438,String(i)))}function Md(i){var a=null,u=be.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=be.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Od(),be.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(i),f=0;f<i;f++)u[f]=Y;return a.index++,u}function er(i,a){return typeof a=="function"?a(i):a}function eu(i){var a=st();return Ad(a,ze,i)}function Ad(i,a,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var m=i.baseQueue,y=f.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}a.baseQueue=m=y,f.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{a=m.next;var k=w=null,M=null,U=a,V=!1;do{var K=U.lane&-536870913;if(K!==U.lane?(Ce&K)===K:(Mr&K)===K){var H=U.revertLane;if(H===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),K===_s&&(V=!0);else if((Mr&H)===H){U=U.next,H===_s&&(V=!0);continue}else K={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(k=M=K,w=y):M=M.next=K,be.lanes|=H,Br|=H;K=U.action,Di&&u(y,K),y=U.hasEagerState?U.eagerState:u(y,K)}else H={lane:K,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},M===null?(k=M=H,w=y):M=M.next=H,be.lanes|=K,Br|=K;U=U.next}while(U!==null&&U!==a);if(M===null?w=y:M.next=k,!Jt(y,i.memoizedState)&&(ht=!0,V&&(u=Os,u!==null)))throw u;i.memoizedState=y,i.baseState=w,i.baseQueue=M,f.lastRenderedState=y}return m===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Rd(i){var a=st(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,y=a.memoizedState;if(m!==null){u.pending=null;var w=m=m.next;do y=i(y,w.action),w=w.next;while(w!==m);Jt(y,a.memoizedState)||(ht=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),u.lastRenderedState=y}return[y,f]}function Py(i,a,u){var f=be,m=st(),y=Ae;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=a();var w=!Jt((ze||m).memoizedState,u);w&&(m.memoizedState=u,ht=!0),m=m.queue;var k=Iy.bind(null,f,m,i);if(na(2048,8,k,[i]),m.getSnapshot!==a||w||it!==null&&it.memoizedState.tag&1){if(f.flags|=2048,Ds(9,tu(),Hy.bind(null,f,m,u,a),null),Ue===null)throw Error(r(349));y||(Mr&124)!==0||Uy(f,a,u)}return u}function Uy(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=be.updateQueue,a===null?(a=Od(),be.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function Hy(i,a,u,f){a.value=u,a.getSnapshot=f,$y(a)&&qy(i)}function Iy(i,a,u){return u(function(){$y(a)&&qy(i)})}function $y(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!Jt(i,u)}catch{return!0}}function qy(i){var a=Es(i,2);a!==null&&rn(a,i,2)}function Dd(i){var a=$t();if(typeof i=="function"){var u=i;if(i=u(),Di){xr(!0);try{u()}finally{xr(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:i},a}function Vy(i,a,u,f){return i.baseState=u,Ad(i,ze,typeof f=="function"?f:er)}function kk(i,a,u,f,m){if(ru(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};$.T!==null?u(!0):y.isTransition=!1,f(y),u=a.pending,u===null?(y.next=a.pending=y,Fy(a,y)):(y.next=u.next,a.pending=u.next=y)}}function Fy(i,a){var u=a.action,f=a.payload,m=i.state;if(a.isTransition){var y=$.T,w={};$.T=w;try{var k=u(m,f),M=$.S;M!==null&&M(w,k),Ky(i,a,k)}catch(U){Nd(i,a,U)}finally{$.T=y}}else try{y=u(m,f),Ky(i,a,y)}catch(U){Nd(i,a,U)}}function Ky(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Gy(i,a,f)},function(f){return Nd(i,a,f)}):Gy(i,a,u)}function Gy(i,a,u){a.status="fulfilled",a.value=u,Wy(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,Fy(i,u)))}function Nd(i,a,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,Wy(a),a=a.next;while(a!==f)}i.action=null}function Wy(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Yy(i,a){return a}function Xy(i,a){if(Ae){var u=Ue.formState;if(u!==null){e:{var f=be;if(Ae){if(Ye){t:{for(var m=Ye,y=Dn;m.nodeType!==8;){if(!y){m=null;break t}if(m=Tn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Ye=Tn(m.nextSibling),f=m.data==="F!";break e}}Oi(f)}f=!1}f&&(a=u[0])}}return u=$t(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:a},u.queue=f,u=m0.bind(null,be,f),f.dispatch=u,f=Dd(!1),y=Pd.bind(null,be,!1,f.queue),f=$t(),m={state:a,dispatch:null,action:i,pending:null},f.queue=m,u=kk.bind(null,be,m,y,u),m.dispatch=u,f.memoizedState=i,[a,u,!1]}function Jy(i){var a=st();return Qy(a,ze,i)}function Qy(i,a,u){if(a=Ad(i,a,Yy)[0],i=eu(er)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=ta(a)}catch(w){throw w===Yo?Wl:w}else f=a;a=st();var m=a.queue,y=m.dispatch;return u!==a.memoizedState&&(be.flags|=2048,Ds(9,tu(),Ck.bind(null,m,u),null)),[f,y,i]}function Ck(i,a){i.action=a}function Zy(i){var a=st(),u=ze;if(u!==null)return Qy(a,u,i);st(),a=a.memoizedState,u=st();var f=u.queue.dispatch;return u.memoizedState=i,[a,f,!1]}function Ds(i,a,u,f){return i={tag:i,create:u,deps:f,inst:a,next:null},a=be.updateQueue,a===null&&(a=Od(),be.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,a.lastEffect=i),i}function tu(){return{destroy:void 0,resource:void 0}}function e0(){return st().memoizedState}function nu(i,a,u,f){var m=$t();f=f===void 0?null:f,be.flags|=i,m.memoizedState=Ds(1|a,tu(),u,f)}function na(i,a,u,f){var m=st();f=f===void 0?null:f;var y=m.memoizedState.inst;ze!==null&&f!==null&&Ed(f,ze.memoizedState.deps)?m.memoizedState=Ds(a,y,u,f):(be.flags|=i,m.memoizedState=Ds(1|a,y,u,f))}function t0(i,a){nu(8390656,8,i,a)}function n0(i,a){na(2048,8,i,a)}function r0(i,a){return na(4,2,i,a)}function i0(i,a){return na(4,4,i,a)}function s0(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function o0(i,a,u){u=u!=null?u.concat([i]):null,na(4,4,s0.bind(null,a,i),u)}function zd(){}function a0(i,a){var u=st();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&Ed(a,f[1])?f[0]:(u.memoizedState=[i,a],i)}function l0(i,a){var u=st();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&Ed(a,f[1]))return f[0];if(f=i(),Di){xr(!0);try{i()}finally{xr(!1)}}return u.memoizedState=[f,a],f}function Ld(i,a,u){return u===void 0||(Mr&1073741824)!==0?i.memoizedState=a:(i.memoizedState=u,i=fv(),be.lanes|=i,Br|=i,u)}function u0(i,a,u,f){return Jt(u,a)?u:Ms.current!==null?(i=Ld(i,u,f),Jt(i,a)||(ht=!0),i):(Mr&42)===0?(ht=!0,i.memoizedState=u):(i=fv(),be.lanes|=i,Br|=i,a)}function c0(i,a,u,f,m){var y=Q.p;Q.p=y!==0&&8>y?y:8;var w=$.T,k={};$.T=k,Pd(i,!1,a,u);try{var M=m(),U=$.S;if(U!==null&&U(k,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var V=xk(M,f);ra(i,a,V,nn(i))}else ra(i,a,f,nn(i))}catch(K){ra(i,a,{then:function(){},status:"rejected",reason:K},nn())}finally{Q.p=y,$.T=w}}function _k(){}function Bd(i,a,u,f){if(i.tag!==5)throw Error(r(476));var m=f0(i).queue;c0(i,m,a,se,u===null?_k:function(){return d0(i),u(f)})}function f0(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:se},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function d0(i){var a=f0(i).next.queue;ra(i,a,{},nn())}function jd(){return Mt(wa)}function h0(){return st().memoizedState}function p0(){return st().memoizedState}function Ok(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var u=nn();i=_r(u);var f=Or(a,i,u);f!==null&&(rn(f,a,u),Jo(f,a,u)),a={cache:hd()},i.payload=a;return}a=a.return}}function Mk(i,a,u){var f=nn();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},ru(i)?g0(a,u):(u=rd(i,a,u,f),u!==null&&(rn(u,i,f),y0(u,a,f)))}function m0(i,a,u){var f=nn();ra(i,a,u,f)}function ra(i,a,u,f){var m={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(ru(i))g0(a,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,k=y(w,u);if(m.hasEagerState=!0,m.eagerState=k,Jt(k,w))return Hl(i,a,m,0),Ue===null&&Ul(),!1}catch{}finally{}if(u=rd(i,a,m,f),u!==null)return rn(u,i,f),y0(u,a,f),!0}return!1}function Pd(i,a,u,f){if(f={lane:2,revertLane:gh(),action:f,hasEagerState:!1,eagerState:null,next:null},ru(i)){if(a)throw Error(r(479))}else a=rd(i,u,f,2),a!==null&&rn(a,i,2)}function ru(i){var a=i.alternate;return i===be||a!==null&&a===be}function g0(i,a){As=Jl=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function y0(i,a,u){if((u&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,u|=f,a.lanes=u,kg(i,u)}}var iu={readContext:Mt,use:Zl,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et},v0={readContext:Mt,use:Zl,useCallback:function(i,a){return $t().memoizedState=[i,a===void 0?null:a],i},useContext:Mt,useEffect:t0,useImperativeHandle:function(i,a,u){u=u!=null?u.concat([i]):null,nu(4194308,4,s0.bind(null,a,i),u)},useLayoutEffect:function(i,a){return nu(4194308,4,i,a)},useInsertionEffect:function(i,a){nu(4,2,i,a)},useMemo:function(i,a){var u=$t();a=a===void 0?null:a;var f=i();if(Di){xr(!0);try{i()}finally{xr(!1)}}return u.memoizedState=[f,a],f},useReducer:function(i,a,u){var f=$t();if(u!==void 0){var m=u(a);if(Di){xr(!0);try{u(a)}finally{xr(!1)}}}else m=a;return f.memoizedState=f.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},f.queue=i,i=i.dispatch=Mk.bind(null,be,i),[f.memoizedState,i]},useRef:function(i){var a=$t();return i={current:i},a.memoizedState=i},useState:function(i){i=Dd(i);var a=i.queue,u=m0.bind(null,be,a);return a.dispatch=u,[i.memoizedState,u]},useDebugValue:zd,useDeferredValue:function(i,a){var u=$t();return Ld(u,i,a)},useTransition:function(){var i=Dd(!1);return i=c0.bind(null,be,i.queue,!0,!1),$t().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,u){var f=be,m=$t();if(Ae){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Ue===null)throw Error(r(349));(Ce&124)!==0||Uy(f,a,u)}m.memoizedState=u;var y={value:u,getSnapshot:a};return m.queue=y,t0(Iy.bind(null,f,y,i),[i]),f.flags|=2048,Ds(9,tu(),Hy.bind(null,f,y,u,a),null),u},useId:function(){var i=$t(),a=Ue.identifierPrefix;if(Ae){var u=Jn,f=Xn;u=(f&~(1<<32-Xt(f)-1)).toString(32)+u,a="«"+a+"R"+u,u=Ql++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=Ek++,a="«"+a+"r"+u.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:jd,useFormState:Xy,useActionState:Xy,useOptimistic:function(i){var a=$t();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Pd.bind(null,be,!0,u),u.dispatch=a,[i,a]},useMemoCache:Md,useCacheRefresh:function(){return $t().memoizedState=Ok.bind(null,be)}},b0={readContext:Mt,use:Zl,useCallback:a0,useContext:Mt,useEffect:n0,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:eu,useRef:e0,useState:function(){return eu(er)},useDebugValue:zd,useDeferredValue:function(i,a){var u=st();return u0(u,ze.memoizedState,i,a)},useTransition:function(){var i=eu(er)[0],a=st().memoizedState;return[typeof i=="boolean"?i:ta(i),a]},useSyncExternalStore:Py,useId:h0,useHostTransitionStatus:jd,useFormState:Jy,useActionState:Jy,useOptimistic:function(i,a){var u=st();return Vy(u,ze,i,a)},useMemoCache:Md,useCacheRefresh:p0},Ak={readContext:Mt,use:Zl,useCallback:a0,useContext:Mt,useEffect:n0,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:i0,useMemo:l0,useReducer:Rd,useRef:e0,useState:function(){return Rd(er)},useDebugValue:zd,useDeferredValue:function(i,a){var u=st();return ze===null?Ld(u,i,a):u0(u,ze.memoizedState,i,a)},useTransition:function(){var i=Rd(er)[0],a=st().memoizedState;return[typeof i=="boolean"?i:ta(i),a]},useSyncExternalStore:Py,useId:h0,useHostTransitionStatus:jd,useFormState:Zy,useActionState:Zy,useOptimistic:function(i,a){var u=st();return ze!==null?Vy(u,ze,i,a):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Md,useCacheRefresh:p0},Ns=null,ia=0;function su(i){var a=ia;return ia+=1,Ns===null&&(Ns=[]),Ay(Ns,i,a)}function sa(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function ou(i,a){throw a.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function S0(i){var a=i._init;return a(i._payload)}function w0(i){function a(L,D){if(i){var P=L.deletions;P===null?(L.deletions=[D],L.flags|=16):P.push(D)}}function u(L,D){if(!i)return null;for(;D!==null;)a(L,D),D=D.sibling;return null}function f(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function m(L,D){return L=Yn(L,D),L.index=0,L.sibling=null,L}function y(L,D,P){return L.index=P,i?(P=L.alternate,P!==null?(P=P.index,P<D?(L.flags|=67108866,D):P):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function w(L){return i&&L.alternate===null&&(L.flags|=67108866),L}function k(L,D,P,F){return D===null||D.tag!==6?(D=sd(P,L.mode,F),D.return=L,D):(D=m(D,P),D.return=L,D)}function M(L,D,P,F){var ne=P.type;return ne===S?V(L,D,P.props.children,F,P.key):D!==null&&(D.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===R&&S0(ne)===D.type)?(D=m(D,P.props),sa(D,P),D.return=L,D):(D=$l(P.type,P.key,P.props,null,L.mode,F),sa(D,P),D.return=L,D)}function U(L,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=od(P,L.mode,F),D.return=L,D):(D=m(D,P.children||[]),D.return=L,D)}function V(L,D,P,F,ne){return D===null||D.tag!==7?(D=Ti(P,L.mode,F,ne),D.return=L,D):(D=m(D,P),D.return=L,D)}function K(L,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=sd(""+D,L.mode,P),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case v:return P=$l(D.type,D.key,D.props,null,L.mode,P),sa(P,D),P.return=L,P;case b:return D=od(D,L.mode,P),D.return=L,D;case R:var F=D._init;return D=F(D._payload),K(L,D,P)}if(_e(D)||re(D))return D=Ti(D,L.mode,P,null),D.return=L,D;if(typeof D.then=="function")return K(L,su(D),P);if(D.$$typeof===C)return K(L,Kl(L,D),P);ou(L,D)}return null}function H(L,D,P,F){var ne=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ne!==null?null:k(L,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return P.key===ne?M(L,D,P,F):null;case b:return P.key===ne?U(L,D,P,F):null;case R:return ne=P._init,P=ne(P._payload),H(L,D,P,F)}if(_e(P)||re(P))return ne!==null?null:V(L,D,P,F,null);if(typeof P.then=="function")return H(L,D,su(P),F);if(P.$$typeof===C)return H(L,D,Kl(L,P),F);ou(L,P)}return null}function I(L,D,P,F,ne){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return L=L.get(P)||null,k(D,L,""+F,ne);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case v:return L=L.get(F.key===null?P:F.key)||null,M(D,L,F,ne);case b:return L=L.get(F.key===null?P:F.key)||null,U(D,L,F,ne);case R:var Se=F._init;return F=Se(F._payload),I(L,D,P,F,ne)}if(_e(F)||re(F))return L=L.get(P)||null,V(D,L,F,ne,null);if(typeof F.then=="function")return I(L,D,P,su(F),ne);if(F.$$typeof===C)return I(L,D,P,Kl(D,F),ne);ou(D,F)}return null}function de(L,D,P,F){for(var ne=null,Se=null,ie=D,ce=D=0,mt=null;ie!==null&&ce<P.length;ce++){ie.index>ce?(mt=ie,ie=null):mt=ie.sibling;var Me=H(L,ie,P[ce],F);if(Me===null){ie===null&&(ie=mt);break}i&&ie&&Me.alternate===null&&a(L,ie),D=y(Me,D,ce),Se===null?ne=Me:Se.sibling=Me,Se=Me,ie=mt}if(ce===P.length)return u(L,ie),Ae&&Ci(L,ce),ne;if(ie===null){for(;ce<P.length;ce++)ie=K(L,P[ce],F),ie!==null&&(D=y(ie,D,ce),Se===null?ne=ie:Se.sibling=ie,Se=ie);return Ae&&Ci(L,ce),ne}for(ie=f(ie);ce<P.length;ce++)mt=I(ie,L,ce,P[ce],F),mt!==null&&(i&&mt.alternate!==null&&ie.delete(mt.key===null?ce:mt.key),D=y(mt,D,ce),Se===null?ne=mt:Se.sibling=mt,Se=mt);return i&&ie.forEach(function(Fr){return a(L,Fr)}),Ae&&Ci(L,ce),ne}function ue(L,D,P,F){if(P==null)throw Error(r(151));for(var ne=null,Se=null,ie=D,ce=D=0,mt=null,Me=P.next();ie!==null&&!Me.done;ce++,Me=P.next()){ie.index>ce?(mt=ie,ie=null):mt=ie.sibling;var Fr=H(L,ie,Me.value,F);if(Fr===null){ie===null&&(ie=mt);break}i&&ie&&Fr.alternate===null&&a(L,ie),D=y(Fr,D,ce),Se===null?ne=Fr:Se.sibling=Fr,Se=Fr,ie=mt}if(Me.done)return u(L,ie),Ae&&Ci(L,ce),ne;if(ie===null){for(;!Me.done;ce++,Me=P.next())Me=K(L,Me.value,F),Me!==null&&(D=y(Me,D,ce),Se===null?ne=Me:Se.sibling=Me,Se=Me);return Ae&&Ci(L,ce),ne}for(ie=f(ie);!Me.done;ce++,Me=P.next())Me=I(ie,L,ce,Me.value,F),Me!==null&&(i&&Me.alternate!==null&&ie.delete(Me.key===null?ce:Me.key),D=y(Me,D,ce),Se===null?ne=Me:Se.sibling=Me,Se=Me);return i&&ie.forEach(function(RC){return a(L,RC)}),Ae&&Ci(L,ce),ne}function Be(L,D,P,F){if(typeof P=="object"&&P!==null&&P.type===S&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case v:e:{for(var ne=P.key;D!==null;){if(D.key===ne){if(ne=P.type,ne===S){if(D.tag===7){u(L,D.sibling),F=m(D,P.props.children),F.return=L,L=F;break e}}else if(D.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===R&&S0(ne)===D.type){u(L,D.sibling),F=m(D,P.props),sa(F,P),F.return=L,L=F;break e}u(L,D);break}else a(L,D);D=D.sibling}P.type===S?(F=Ti(P.props.children,L.mode,F,P.key),F.return=L,L=F):(F=$l(P.type,P.key,P.props,null,L.mode,F),sa(F,P),F.return=L,L=F)}return w(L);case b:e:{for(ne=P.key;D!==null;){if(D.key===ne)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){u(L,D.sibling),F=m(D,P.children||[]),F.return=L,L=F;break e}else{u(L,D);break}else a(L,D);D=D.sibling}F=od(P,L.mode,F),F.return=L,L=F}return w(L);case R:return ne=P._init,P=ne(P._payload),Be(L,D,P,F)}if(_e(P))return de(L,D,P,F);if(re(P)){if(ne=re(P),typeof ne!="function")throw Error(r(150));return P=ne.call(P),ue(L,D,P,F)}if(typeof P.then=="function")return Be(L,D,su(P),F);if(P.$$typeof===C)return Be(L,D,Kl(L,P),F);ou(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(u(L,D.sibling),F=m(D,P),F.return=L,L=F):(u(L,D),F=sd(P,L.mode,F),F.return=L,L=F),w(L)):u(L,D)}return function(L,D,P,F){try{ia=0;var ne=Be(L,D,P,F);return Ns=null,ne}catch(ie){if(ie===Yo||ie===Wl)throw ie;var Se=Qt(29,ie,null,L.mode);return Se.lanes=F,Se.return=L,Se}finally{}}}var zs=w0(!0),x0=w0(!1),pn=G(null),Nn=null;function Ar(i){var a=i.alternate;Z(ct,ct.current&1),Z(pn,i),Nn===null&&(a===null||Ms.current!==null||a.memoizedState!==null)&&(Nn=i)}function E0(i){if(i.tag===22){if(Z(ct,ct.current),Z(pn,i),Nn===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Nn=i)}}else Rr()}function Rr(){Z(ct,ct.current),Z(pn,pn.current)}function tr(i){te(pn),Nn===i&&(Nn=null),te(ct)}var ct=G(0);function au(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Oh(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Ud(i,a,u,f){a=i.memoizedState,u=u(f,a),u=u==null?a:p({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Hd={enqueueSetState:function(i,a,u){i=i._reactInternals;var f=nn(),m=_r(f);m.payload=a,u!=null&&(m.callback=u),a=Or(i,m,f),a!==null&&(rn(a,i,f),Jo(a,i,f))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var f=nn(),m=_r(f);m.tag=1,m.payload=a,u!=null&&(m.callback=u),a=Or(i,m,f),a!==null&&(rn(a,i,f),Jo(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=nn(),f=_r(u);f.tag=2,a!=null&&(f.callback=a),a=Or(i,f,u),a!==null&&(rn(a,i,u),Jo(a,i,u))}};function T0(i,a,u,f,m,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,w):a.prototype&&a.prototype.isPureReactComponent?!Io(u,f)||!Io(m,y):!0}function k0(i,a,u,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==i&&Hd.enqueueReplaceState(a,a.state,null)}function Ni(i,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(i=i.defaultProps){u===a&&(u=p({},u));for(var m in i)u[m]===void 0&&(u[m]=i[m])}return u}var lu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function C0(i){lu(i)}function _0(i){console.error(i)}function O0(i){lu(i)}function uu(i,a){try{var u=i.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function M0(i,a,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Id(i,a,u){return u=_r(u),u.tag=3,u.payload={element:null},u.callback=function(){uu(i,a)},u}function A0(i){return i=_r(i),i.tag=3,i}function R0(i,a,u,f){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=f.value;i.payload=function(){return m(y)},i.callback=function(){M0(a,u,f)}}var w=u.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){M0(a,u,f),typeof m!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function Rk(i,a,u,f,m){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Ko(a,u,m,!0),u=pn.current,u!==null){switch(u.tag){case 13:return Nn===null?fh():u.alternate===null&&Xe===0&&(Xe=3),u.flags&=-257,u.flags|=65536,u.lanes=m,f===gd?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),hh(i,f,m)),!1;case 22:return u.flags|=65536,f===gd?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),hh(i,f,m)),!1}throw Error(r(435,u.tag))}return hh(i,f,m),fh(),!1}if(Ae)return a=pn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,f!==ud&&(i=Error(r(422),{cause:f}),Fo(cn(i,u)))):(f!==ud&&(a=Error(r(423),{cause:f}),Fo(cn(a,u))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,f=cn(f,u),m=Id(i.stateNode,f,m),bd(i,m),Xe!==4&&(Xe=2)),!1;var y=Error(r(520),{cause:f});if(y=cn(y,u),da===null?da=[y]:da.push(y),Xe!==4&&(Xe=2),a===null)return!0;f=cn(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=m&-m,u.lanes|=i,i=Id(u.stateNode,f,i),bd(u,i),!1;case 1:if(a=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(jr===null||!jr.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=A0(m),R0(m,i,u,f),bd(u,m),!1}u=u.return}while(u!==null);return!1}var D0=Error(r(461)),ht=!1;function xt(i,a,u,f){a.child=i===null?x0(a,null,u,f):zs(a,i.child,u,f)}function N0(i,a,u,f,m){u=u.render;var y=a.ref;if("ref"in f){var w={};for(var k in f)k!=="ref"&&(w[k]=f[k])}else w=f;return Ai(a),f=Td(i,a,u,w,y,m),k=kd(),i!==null&&!ht?(Cd(i,a,m),nr(i,a,m)):(Ae&&k&&ad(a),a.flags|=1,xt(i,a,f,m),a.child)}function z0(i,a,u,f,m){if(i===null){var y=u.type;return typeof y=="function"&&!id(y)&&y.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=y,L0(i,a,y,f,m)):(i=$l(u.type,null,f,a,a.mode,m),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!Yd(i,m)){var w=y.memoizedProps;if(u=u.compare,u=u!==null?u:Io,u(w,f)&&i.ref===a.ref)return nr(i,a,m)}return a.flags|=1,i=Yn(y,f),i.ref=a.ref,i.return=a,a.child=i}function L0(i,a,u,f,m){if(i!==null){var y=i.memoizedProps;if(Io(y,f)&&i.ref===a.ref)if(ht=!1,a.pendingProps=f=y,Yd(i,m))(i.flags&131072)!==0&&(ht=!0);else return a.lanes=i.lanes,nr(i,a,m)}return $d(i,a,u,f,m)}function B0(i,a,u){var f=a.pendingProps,m=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=y!==null?y.baseLanes|u:u,i!==null){for(m=a.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~f}else a.childLanes=0,a.child=null;return j0(i,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Gl(a,y!==null?y.cachePool:null),y!==null?Ly(a,y):wd(),E0(a);else return a.lanes=a.childLanes=536870912,j0(i,a,y!==null?y.baseLanes|u:u,u)}else y!==null?(Gl(a,y.cachePool),Ly(a,y),Rr(),a.memoizedState=null):(i!==null&&Gl(a,null),wd(),Rr());return xt(i,a,m,u),a.child}function j0(i,a,u,f){var m=md();return m=m===null?null:{parent:ut._currentValue,pool:m},a.memoizedState={baseLanes:u,cachePool:m},i!==null&&Gl(a,null),wd(),E0(a),i!==null&&Ko(i,a,f,!0),null}function cu(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(a.flags|=4194816)}}function $d(i,a,u,f,m){return Ai(a),u=Td(i,a,u,f,void 0,m),f=kd(),i!==null&&!ht?(Cd(i,a,m),nr(i,a,m)):(Ae&&f&&ad(a),a.flags|=1,xt(i,a,u,m),a.child)}function P0(i,a,u,f,m,y){return Ai(a),a.updateQueue=null,u=jy(a,f,u,m),By(i),f=kd(),i!==null&&!ht?(Cd(i,a,y),nr(i,a,y)):(Ae&&f&&ad(a),a.flags|=1,xt(i,a,u,y),a.child)}function U0(i,a,u,f,m){if(Ai(a),a.stateNode===null){var y=Ts,w=u.contextType;typeof w=="object"&&w!==null&&(y=Mt(w)),y=new u(f,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Hd,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=f,y.state=a.memoizedState,y.refs={},yd(a),w=u.contextType,y.context=typeof w=="object"&&w!==null?Mt(w):Ts,y.state=a.memoizedState,w=u.getDerivedStateFromProps,typeof w=="function"&&(Ud(a,u,w,f),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Hd.enqueueReplaceState(y,y.state,null),Zo(a,f,y,m),Qo(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){y=a.stateNode;var k=a.memoizedProps,M=Ni(u,k);y.props=M;var U=y.context,V=u.contextType;w=Ts,typeof V=="object"&&V!==null&&(w=Mt(V));var K=u.getDerivedStateFromProps;V=typeof K=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,V||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||U!==w)&&k0(a,y,f,w),Cr=!1;var H=a.memoizedState;y.state=H,Zo(a,f,y,m),Qo(),U=a.memoizedState,k||H!==U||Cr?(typeof K=="function"&&(Ud(a,u,K,f),U=a.memoizedState),(M=Cr||T0(a,u,M,f,H,U,w))?(V||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=U),y.props=f,y.state=U,y.context=w,f=M):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{y=a.stateNode,vd(i,a),w=a.memoizedProps,V=Ni(u,w),y.props=V,K=a.pendingProps,H=y.context,U=u.contextType,M=Ts,typeof U=="object"&&U!==null&&(M=Mt(U)),k=u.getDerivedStateFromProps,(U=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==K||H!==M)&&k0(a,y,f,M),Cr=!1,H=a.memoizedState,y.state=H,Zo(a,f,y,m),Qo();var I=a.memoizedState;w!==K||H!==I||Cr||i!==null&&i.dependencies!==null&&Fl(i.dependencies)?(typeof k=="function"&&(Ud(a,u,k,f),I=a.memoizedState),(V=Cr||T0(a,u,V,f,H,I,M)||i!==null&&i.dependencies!==null&&Fl(i.dependencies))?(U||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,I,M),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,I,M)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=I),y.props=f,y.state=I,y.context=M,f=V):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&H===i.memoizedState||(a.flags|=1024),f=!1)}return y=f,cu(i,a),f=(a.flags&128)!==0,y||f?(y=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&f?(a.child=zs(a,i.child,null,m),a.child=zs(a,null,u,m)):xt(i,a,u,m),a.memoizedState=y.state,i=a.child):i=nr(i,a,m),i}function H0(i,a,u,f){return Vo(),a.flags|=256,xt(i,a,u,f),a.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vd(i){return{baseLanes:i,cachePool:_y()}}function Fd(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=mn),i}function I0(i,a,u){var f=a.pendingProps,m=!1,y=(a.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(ct.current&2)!==0),w&&(m=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ae){if(m?Ar(a):Rr(),Ae){var k=Ye,M;if(M=k){e:{for(M=k,k=Dn;M.nodeType!==8;){if(!k){k=null;break e}if(M=Tn(M.nextSibling),M===null){k=null;break e}}k=M}k!==null?(a.memoizedState={dehydrated:k,treeContext:ki!==null?{id:Xn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},M=Qt(18,null,null,0),M.stateNode=k,M.return=a,a.child=M,Lt=a,Ye=null,M=!0):M=!1}M||Oi(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return Oh(k)?a.lanes=32:a.lanes=536870912,null;tr(a)}return k=f.children,f=f.fallback,m?(Rr(),m=a.mode,k=fu({mode:"hidden",children:k},m),f=Ti(f,m,u,null),k.return=a,f.return=a,k.sibling=f,a.child=k,m=a.child,m.memoizedState=Vd(u),m.childLanes=Fd(i,w,u),a.memoizedState=qd,f):(Ar(a),Kd(a,k))}if(M=i.memoizedState,M!==null&&(k=M.dehydrated,k!==null)){if(y)a.flags&256?(Ar(a),a.flags&=-257,a=Gd(i,a,u)):a.memoizedState!==null?(Rr(),a.child=i.child,a.flags|=128,a=null):(Rr(),m=f.fallback,k=a.mode,f=fu({mode:"visible",children:f.children},k),m=Ti(m,k,u,null),m.flags|=2,f.return=a,m.return=a,f.sibling=m,a.child=f,zs(a,i.child,null,u),f=a.child,f.memoizedState=Vd(u),f.childLanes=Fd(i,w,u),a.memoizedState=qd,a=m);else if(Ar(a),Oh(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var U=w.dgst;w=U,f=Error(r(419)),f.stack="",f.digest=w,Fo({value:f,source:null,stack:null}),a=Gd(i,a,u)}else if(ht||Ko(i,a,u,!1),w=(u&i.childLanes)!==0,ht||w){if(w=Ue,w!==null&&(f=u&-u,f=(f&42)!==0?1:Mf(f),f=(f&(w.suspendedLanes|u))!==0?0:f,f!==0&&f!==M.retryLane))throw M.retryLane=f,Es(i,f),rn(w,i,f),D0;k.data==="$?"||fh(),a=Gd(i,a,u)}else k.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=M.treeContext,Ye=Tn(k.nextSibling),Lt=a,Ae=!0,_i=null,Dn=!1,i!==null&&(dn[hn++]=Xn,dn[hn++]=Jn,dn[hn++]=ki,Xn=i.id,Jn=i.overflow,ki=a),a=Kd(a,f.children),a.flags|=4096);return a}return m?(Rr(),m=f.fallback,k=a.mode,M=i.child,U=M.sibling,f=Yn(M,{mode:"hidden",children:f.children}),f.subtreeFlags=M.subtreeFlags&65011712,U!==null?m=Yn(U,m):(m=Ti(m,k,u,null),m.flags|=2),m.return=a,f.return=a,f.sibling=m,a.child=f,f=m,m=a.child,k=i.child.memoizedState,k===null?k=Vd(u):(M=k.cachePool,M!==null?(U=ut._currentValue,M=M.parent!==U?{parent:U,pool:U}:M):M=_y(),k={baseLanes:k.baseLanes|u,cachePool:M}),m.memoizedState=k,m.childLanes=Fd(i,w,u),a.memoizedState=qd,f):(Ar(a),u=i.child,i=u.sibling,u=Yn(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,i!==null&&(w=a.deletions,w===null?(a.deletions=[i],a.flags|=16):w.push(i)),a.child=u,a.memoizedState=null,u)}function Kd(i,a){return a=fu({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function fu(i,a){return i=Qt(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Gd(i,a,u){return zs(a,i.child,null,u),i=Kd(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function $0(i,a,u){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),fd(i.return,a,u)}function Wd(i,a,u,f,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=m)}function q0(i,a,u){var f=a.pendingProps,m=f.revealOrder,y=f.tail;if(xt(i,a,f.children,u),f=ct.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$0(i,u,a);else if(i.tag===19)$0(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(Z(ct,f),m){case"forwards":for(u=a.child,m=null;u!==null;)i=u.alternate,i!==null&&au(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),Wd(a,!1,m,u,y);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(i=m.alternate,i!==null&&au(i)===null){a.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Wd(a,!0,u,null,y);break;case"together":Wd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function nr(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Br|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(Ko(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,u=Yn(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=Yn(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function Yd(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Fl(i)))}function Dk(i,a,u){switch(a.tag){case 3:Ve(a,a.stateNode.containerInfo),kr(a,ut,i.memoizedState.cache),Vo();break;case 27:case 5:Tf(a);break;case 4:Ve(a,a.stateNode.containerInfo);break;case 10:kr(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Ar(a),a.flags|=128,null):(u&a.child.childLanes)!==0?I0(i,a,u):(Ar(a),i=nr(i,a,u),i!==null?i.sibling:null);Ar(a);break;case 19:var m=(i.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Ko(i,a,u,!1),f=(u&a.childLanes)!==0),m){if(f)return q0(i,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Z(ct,ct.current),f)break;return null;case 22:case 23:return a.lanes=0,B0(i,a,u);case 24:kr(a,ut,i.memoizedState.cache)}return nr(i,a,u)}function V0(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps)ht=!0;else{if(!Yd(i,u)&&(a.flags&128)===0)return ht=!1,Dk(i,a,u);ht=(i.flags&131072)!==0}else ht=!1,Ae&&(a.flags&1048576)!==0&&Sy(a,Vl,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var f=a.elementType,m=f._init;if(f=m(f._payload),a.type=f,typeof f=="function")id(f)?(i=Ni(f,i),a.tag=1,a=U0(null,a,f,i,u)):(a.tag=0,a=$d(null,a,f,i,u));else{if(f!=null){if(m=f.$$typeof,m===z){a.tag=11,a=N0(null,a,f,i,u);break e}else if(m===_){a.tag=14,a=z0(null,a,f,i,u);break e}}throw a=qe(f)||f,Error(r(306,a,""))}}return a;case 0:return $d(i,a,a.type,a.pendingProps,u);case 1:return f=a.type,m=Ni(f,a.pendingProps),U0(i,a,f,m,u);case 3:e:{if(Ve(a,a.stateNode.containerInfo),i===null)throw Error(r(387));f=a.pendingProps;var y=a.memoizedState;m=y.element,vd(i,a),Zo(a,f,null,u);var w=a.memoizedState;if(f=w.cache,kr(a,ut,f),f!==y.cache&&dd(a,[ut],u,!0),Qo(),f=w.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=H0(i,a,f,u);break e}else if(f!==m){m=cn(Error(r(424)),a),Fo(m),a=H0(i,a,f,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ye=Tn(i.firstChild),Lt=a,Ae=!0,_i=null,Dn=!0,u=x0(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Vo(),f===m){a=nr(i,a,u);break e}xt(i,a,f,u)}a=a.child}return a;case 26:return cu(i,a),i===null?(u=Wv(a.type,null,a.pendingProps,null))?a.memoizedState=u:Ae||(u=a.type,i=a.pendingProps,f=ku(pe.current).createElement(u),f[Ot]=a,f[Ht]=i,Tt(f,u,i),dt(f),a.stateNode=f):a.memoizedState=Wv(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Tf(a),i===null&&Ae&&(f=a.stateNode=Fv(a.type,a.pendingProps,pe.current),Lt=a,Dn=!0,m=Ye,Hr(a.type)?(Mh=m,Ye=Tn(f.firstChild)):Ye=m),xt(i,a,a.pendingProps.children,u),cu(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ae&&((m=f=Ye)&&(f=oC(f,a.type,a.pendingProps,Dn),f!==null?(a.stateNode=f,Lt=a,Ye=Tn(f.firstChild),Dn=!1,m=!0):m=!1),m||Oi(a)),Tf(a),m=a.type,y=a.pendingProps,w=i!==null?i.memoizedProps:null,f=y.children,kh(m,y)?f=null:w!==null&&kh(m,w)&&(a.flags|=32),a.memoizedState!==null&&(m=Td(i,a,Tk,null,null,u),wa._currentValue=m),cu(i,a),xt(i,a,f,u),a.child;case 6:return i===null&&Ae&&((i=u=Ye)&&(u=aC(u,a.pendingProps,Dn),u!==null?(a.stateNode=u,Lt=a,Ye=null,i=!0):i=!1),i||Oi(a)),null;case 13:return I0(i,a,u);case 4:return Ve(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=zs(a,null,f,u):xt(i,a,f,u),a.child;case 11:return N0(i,a,a.type,a.pendingProps,u);case 7:return xt(i,a,a.pendingProps,u),a.child;case 8:return xt(i,a,a.pendingProps.children,u),a.child;case 12:return xt(i,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,kr(a,a.type,f.value),xt(i,a,f.children,u),a.child;case 9:return m=a.type._context,f=a.pendingProps.children,Ai(a),m=Mt(m),f=f(m),a.flags|=1,xt(i,a,f,u),a.child;case 14:return z0(i,a,a.type,a.pendingProps,u);case 15:return L0(i,a,a.type,a.pendingProps,u);case 19:return q0(i,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},i===null?(u=fu(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=Yn(i.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return B0(i,a,u);case 24:return Ai(a),f=Mt(ut),i===null?(m=md(),m===null&&(m=Ue,y=hd(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),a.memoizedState={parent:f,cache:m},yd(a),kr(a,ut,m)):((i.lanes&u)!==0&&(vd(i,a),Zo(a,null,null,u),Qo()),m=i.memoizedState,y=a.memoizedState,m.parent!==f?(m={parent:f,cache:f},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),kr(a,ut,f)):(f=y.cache,kr(a,ut,f),f!==m.cache&&dd(a,[ut],u,!0))),xt(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function rr(i){i.flags|=4}function F0(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Zv(a)){if(a=pn.current,a!==null&&((Ce&4194048)===Ce?Nn!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||a!==Nn))throw Xo=gd,Oy;i.flags|=8192}}function du(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Eg():536870912,i.lanes|=a,Ps|=a)}function oa(i,a){if(!Ae)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ke(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(a)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,a}function Nk(i,a,u){var f=a.pendingProps;switch(ld(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(a),null;case 1:return Ke(a),null;case 3:return u=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Zn(ut),wr(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(qo(a)?rr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ey())),Ke(a),null;case 26:return u=a.memoizedState,i===null?(rr(a),u!==null?(Ke(a),F0(a,u)):(Ke(a),a.flags&=-16777217)):u?u!==i.memoizedState?(rr(a),Ke(a),F0(a,u)):(Ke(a),a.flags&=-16777217):(i.memoizedProps!==f&&rr(a),Ke(a),a.flags&=-16777217),null;case 27:El(a),u=pe.current;var m=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==f&&rr(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Ke(a),null}i=le.current,qo(a)?wy(a):(i=Fv(m,f,u),a.stateNode=i,rr(a))}return Ke(a),null;case 5:if(El(a),u=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&rr(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Ke(a),null}if(i=le.current,qo(a))wy(a);else{switch(m=ku(pe.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?m.createElement("select",{is:f.is}):m.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?m.createElement(u,{is:f.is}):m.createElement(u)}}i[Ot]=a,i[Ht]=f;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=i;e:switch(Tt(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&rr(a)}}return Ke(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&rr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(i=pe.current,qo(a)){if(i=a.stateNode,u=a.memoizedProps,f=null,m=Lt,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}i[Ot]=a,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Pv(i.nodeValue,u)),i||Oi(a)}else i=ku(i).createTextNode(f),i[Ot]=a,a.stateNode=i}return Ke(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=qo(a),f!==null&&f.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ot]=a}else Vo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ke(a),m=!1}else m=Ey(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(tr(a),a):(tr(a),null)}if(tr(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=a.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==m&&(f.flags|=2048)}return u!==i&&u&&(a.child.flags|=8192),du(a,a.updateQueue),Ke(a),null;case 4:return wr(),i===null&&Sh(a.stateNode.containerInfo),Ke(a),null;case 10:return Zn(a.type),Ke(a),null;case 19:if(te(ct),m=a.memoizedState,m===null)return Ke(a),null;if(f=(a.flags&128)!==0,y=m.rendering,y===null)if(f)oa(m,!1);else{if(Xe!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=au(i),y!==null){for(a.flags|=128,oa(m,!1),i=y.updateQueue,a.updateQueue=i,du(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)by(u,i),u=u.sibling;return Z(ct,ct.current&1|2),a.child}i=i.sibling}m.tail!==null&&Rn()>mu&&(a.flags|=128,f=!0,oa(m,!1),a.lanes=4194304)}else{if(!f)if(i=au(y),i!==null){if(a.flags|=128,f=!0,i=i.updateQueue,a.updateQueue=i,du(a,i),oa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Ae)return Ke(a),null}else 2*Rn()-m.renderingStartTime>mu&&u!==536870912&&(a.flags|=128,f=!0,oa(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(i=m.last,i!==null?i.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Rn(),a.sibling=null,i=ct.current,Z(ct,f?i&1|2:i&1),a):(Ke(a),null);case 22:case 23:return tr(a),xd(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Ke(a),a.subtreeFlags&6&&(a.flags|=8192)):Ke(a),u=a.updateQueue,u!==null&&du(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),i!==null&&te(Ri),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Zn(ut),Ke(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function zk(i,a){switch(ld(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Zn(ut),wr(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return El(a),null;case 13:if(tr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Vo()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return te(ct),null;case 4:return wr(),null;case 10:return Zn(a.type),null;case 22:case 23:return tr(a),xd(),i!==null&&te(Ri),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Zn(ut),null;case 25:return null;default:return null}}function K0(i,a){switch(ld(a),a.tag){case 3:Zn(ut),wr();break;case 26:case 27:case 5:El(a);break;case 4:wr();break;case 13:tr(a);break;case 19:te(ct);break;case 10:Zn(a.type);break;case 22:case 23:tr(a),xd(),i!==null&&te(Ri);break;case 24:Zn(ut)}}function aa(i,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&i)===i){f=void 0;var y=u.create,w=u.inst;f=y(),w.destroy=f}u=u.next}while(u!==m)}}catch(k){je(a,a.return,k)}}function Dr(i,a,u){try{var f=a.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var y=m.next;f=y;do{if((f.tag&i)===i){var w=f.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,m=a;var M=u,U=k;try{U()}catch(V){je(m,M,V)}}}f=f.next}while(f!==y)}}catch(V){je(a,a.return,V)}}function G0(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;try{zy(a,u)}catch(f){je(i,i.return,f)}}}function W0(i,a,u){u.props=Ni(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){je(i,a,f)}}function la(i,a){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(m){je(i,a,m)}}function zn(i,a){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(m){je(i,a,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){je(i,a,m)}else u.current=null}function Y0(i){var a=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(m){je(i,i.return,m)}}function Xd(i,a,u){try{var f=i.stateNode;tC(f,i.type,u,a),f[Ht]=a}catch(m){je(i,i.return,m)}}function X0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Hr(i.type)||i.tag===4}function Jd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||X0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Hr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qd(i,a,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Tu));else if(f!==4&&(f===27&&Hr(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for(Qd(i,a,u),i=i.sibling;i!==null;)Qd(i,a,u),i=i.sibling}function hu(i,a,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(f!==4&&(f===27&&Hr(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(hu(i,a,u),i=i.sibling;i!==null;)hu(i,a,u),i=i.sibling}function J0(i){var a=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Tt(a,f,u),a[Ot]=i,a[Ht]=u}catch(y){je(i,i.return,y)}}var ir=!1,tt=!1,Zd=!1,Q0=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Lk(i,a){if(i=i.containerInfo,Eh=Ru,i=uy(i),Jf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var w=0,k=-1,M=-1,U=0,V=0,K=i,H=null;t:for(;;){for(var I;K!==u||m!==0&&K.nodeType!==3||(k=w+m),K!==y||f!==0&&K.nodeType!==3||(M=w+f),K.nodeType===3&&(w+=K.nodeValue.length),(I=K.firstChild)!==null;)H=K,K=I;for(;;){if(K===i)break t;if(H===u&&++U===m&&(k=w),H===y&&++V===f&&(M=w),(I=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=I}u=k===-1||M===-1?null:{start:k,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Th={focusedElem:i,selectionRange:u},Ru=!1,pt=a;pt!==null;)if(a=pt,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,pt=i;else for(;pt!==null;){switch(a=pt,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,u=a,m=y.memoizedProps,y=y.memoizedState,f=u.stateNode;try{var de=Ni(u.type,m,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(de,y),f.__reactInternalSnapshotBeforeUpdate=i}catch(ue){je(u,u.return,ue)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,u=i.nodeType,u===9)_h(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":_h(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,pt=i;break}pt=a.return}}function Z0(i,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Nr(i,u),f&4&&aa(5,u);break;case 1:if(Nr(i,u),f&4)if(i=u.stateNode,a===null)try{i.componentDidMount()}catch(w){je(u,u.return,w)}else{var m=Ni(u.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(m,a,i.__reactInternalSnapshotBeforeUpdate)}catch(w){je(u,u.return,w)}}f&64&&G0(u),f&512&&la(u,u.return);break;case 3:if(Nr(i,u),f&64&&(i=u.updateQueue,i!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{zy(i,a)}catch(w){je(u,u.return,w)}}break;case 27:a===null&&f&4&&J0(u);case 26:case 5:Nr(i,u),a===null&&f&4&&Y0(u),f&512&&la(u,u.return);break;case 12:Nr(i,u);break;case 13:Nr(i,u),f&4&&nv(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=Vk.bind(null,u),lC(i,u))));break;case 22:if(f=u.memoizedState!==null||ir,!f){a=a!==null&&a.memoizedState!==null||tt,m=ir;var y=tt;ir=f,(tt=a)&&!y?zr(i,u,(u.subtreeFlags&8772)!==0):Nr(i,u),ir=m,tt=y}break;case 30:break;default:Nr(i,u)}}function ev(i){var a=i.alternate;a!==null&&(i.alternate=null,ev(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Df(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Fe=null,qt=!1;function sr(i,a,u){for(u=u.child;u!==null;)tv(i,a,u),u=u.sibling}function tv(i,a,u){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Mo,u)}catch{}switch(u.tag){case 26:tt||zn(u,a),sr(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:tt||zn(u,a);var f=Fe,m=qt;Hr(u.type)&&(Fe=u.stateNode,qt=!1),sr(i,a,u),ya(u.stateNode),Fe=f,qt=m;break;case 5:tt||zn(u,a);case 6:if(f=Fe,m=qt,Fe=null,sr(i,a,u),Fe=f,qt=m,Fe!==null)if(qt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(u.stateNode)}catch(y){je(u,a,y)}else try{Fe.removeChild(u.stateNode)}catch(y){je(u,a,y)}break;case 18:Fe!==null&&(qt?(i=Fe,qv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),ka(i)):qv(Fe,u.stateNode));break;case 4:f=Fe,m=qt,Fe=u.stateNode.containerInfo,qt=!0,sr(i,a,u),Fe=f,qt=m;break;case 0:case 11:case 14:case 15:tt||Dr(2,u,a),tt||Dr(4,u,a),sr(i,a,u);break;case 1:tt||(zn(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&W0(u,a,f)),sr(i,a,u);break;case 21:sr(i,a,u);break;case 22:tt=(f=tt)||u.memoizedState!==null,sr(i,a,u),tt=f;break;default:sr(i,a,u)}}function nv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ka(i)}catch(u){je(a,a.return,u)}}function Bk(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Q0),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Q0),a;default:throw Error(r(435,i.tag))}}function eh(i,a){var u=Bk(i);a.forEach(function(f){var m=Fk.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}function Zt(i,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f],y=i,w=a,k=w;e:for(;k!==null;){switch(k.tag){case 27:if(Hr(k.type)){Fe=k.stateNode,qt=!1;break e}break;case 5:Fe=k.stateNode,qt=!1;break e;case 3:case 4:Fe=k.stateNode.containerInfo,qt=!0;break e}k=k.return}if(Fe===null)throw Error(r(160));tv(y,w,m),Fe=null,qt=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)rv(a,i),a=a.sibling}var En=null;function rv(i,a){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Zt(a,i),en(i),f&4&&(Dr(3,i,i.return),aa(3,i),Dr(5,i,i.return));break;case 1:Zt(a,i),en(i),f&512&&(tt||u===null||zn(u,u.return)),f&64&&ir&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var m=En;if(Zt(a,i),en(i),f&512&&(tt||u===null||zn(u,u.return)),f&4){var y=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Do]||y[Ot]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(f),m.head.insertBefore(y,m.querySelector("head > title"))),Tt(y,f,u),y[Ot]=i,dt(y),f=y;break e;case"link":var w=Jv("link","href",m).get(f+(u.href||""));if(w){for(var k=0;k<w.length;k++)if(y=w[k],y.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){w.splice(k,1);break t}}y=m.createElement(f),Tt(y,f,u),m.head.appendChild(y);break;case"meta":if(w=Jv("meta","content",m).get(f+(u.content||""))){for(k=0;k<w.length;k++)if(y=w[k],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){w.splice(k,1);break t}}y=m.createElement(f),Tt(y,f,u),m.head.appendChild(y);break;default:throw Error(r(468,f))}y[Ot]=i,dt(y),f=y}i.stateNode=f}else Qv(m,i.type,i.stateNode);else i.stateNode=Xv(m,f,i.memoizedProps);else y!==f?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,f===null?Qv(m,i.type,i.stateNode):Xv(m,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Xd(i,i.memoizedProps,u.memoizedProps)}break;case 27:Zt(a,i),en(i),f&512&&(tt||u===null||zn(u,u.return)),u!==null&&f&4&&Xd(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Zt(a,i),en(i),f&512&&(tt||u===null||zn(u,u.return)),i.flags&32){m=i.stateNode;try{gs(m,"")}catch(I){je(i,i.return,I)}}f&4&&i.stateNode!=null&&(m=i.memoizedProps,Xd(i,m,u!==null?u.memoizedProps:m)),f&1024&&(Zd=!0);break;case 6:if(Zt(a,i),en(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(I){je(i,i.return,I)}}break;case 3:if(Ou=null,m=En,En=Cu(a.containerInfo),Zt(a,i),En=m,en(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ka(a.containerInfo)}catch(I){je(i,i.return,I)}Zd&&(Zd=!1,iv(i));break;case 4:f=En,En=Cu(i.stateNode.containerInfo),Zt(a,i),en(i),En=f;break;case 12:Zt(a,i),en(i);break;case 13:Zt(a,i),en(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(oh=Rn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,eh(i,f)));break;case 22:m=i.memoizedState!==null;var M=u!==null&&u.memoizedState!==null,U=ir,V=tt;if(ir=U||m,tt=V||M,Zt(a,i),tt=V,ir=U,en(i),f&8192)e:for(a=i.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(u===null||M||ir||tt||zi(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){M=u=a;try{if(y=M.stateNode,m)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=M.stateNode;var K=M.memoizedProps.style,H=K!=null&&K.hasOwnProperty("display")?K.display:null;k.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(I){je(M,M.return,I)}}}else if(a.tag===6){if(u===null){M=a;try{M.stateNode.nodeValue=m?"":M.memoizedProps}catch(I){je(M,M.return,I)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,eh(i,u))));break;case 19:Zt(a,i),en(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,eh(i,f)));break;case 30:break;case 21:break;default:Zt(a,i),en(i)}}function en(i){var a=i.flags;if(a&2){try{for(var u,f=i.return;f!==null;){if(X0(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var m=u.stateNode,y=Jd(i);hu(i,y,m);break;case 5:var w=u.stateNode;u.flags&32&&(gs(w,""),u.flags&=-33);var k=Jd(i);hu(i,k,w);break;case 3:case 4:var M=u.stateNode.containerInfo,U=Jd(i);Qd(i,U,M);break;default:throw Error(r(161))}}catch(V){je(i,i.return,V)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function iv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;iv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Nr(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Z0(i,a.alternate,a),a=a.sibling}function zi(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Dr(4,a,a.return),zi(a);break;case 1:zn(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&W0(a,a.return,u),zi(a);break;case 27:ya(a.stateNode);case 26:case 5:zn(a,a.return),zi(a);break;case 22:a.memoizedState===null&&zi(a);break;case 30:zi(a);break;default:zi(a)}i=i.sibling}}function zr(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,m=i,y=a,w=y.flags;switch(y.tag){case 0:case 11:case 15:zr(m,y,u),aa(4,y);break;case 1:if(zr(m,y,u),f=y,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(U){je(f,f.return,U)}if(f=y,m=f.updateQueue,m!==null){var k=f.stateNode;try{var M=m.shared.hiddenCallbacks;if(M!==null)for(m.shared.hiddenCallbacks=null,m=0;m<M.length;m++)Ny(M[m],k)}catch(U){je(f,f.return,U)}}u&&w&64&&G0(y),la(y,y.return);break;case 27:J0(y);case 26:case 5:zr(m,y,u),u&&f===null&&w&4&&Y0(y),la(y,y.return);break;case 12:zr(m,y,u);break;case 13:zr(m,y,u),u&&w&4&&nv(m,y);break;case 22:y.memoizedState===null&&zr(m,y,u),la(y,y.return);break;case 30:break;default:zr(m,y,u)}a=a.sibling}}function th(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Go(u))}function nh(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Go(i))}function Ln(i,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)sv(i,a,u,f),a=a.sibling}function sv(i,a,u,f){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ln(i,a,u,f),m&2048&&aa(9,a);break;case 1:Ln(i,a,u,f);break;case 3:Ln(i,a,u,f),m&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Go(i)));break;case 12:if(m&2048){Ln(i,a,u,f),i=a.stateNode;try{var y=a.memoizedProps,w=y.id,k=y.onPostCommit;typeof k=="function"&&k(w,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(M){je(a,a.return,M)}}else Ln(i,a,u,f);break;case 13:Ln(i,a,u,f);break;case 23:break;case 22:y=a.stateNode,w=a.alternate,a.memoizedState!==null?y._visibility&2?Ln(i,a,u,f):ua(i,a):y._visibility&2?Ln(i,a,u,f):(y._visibility|=2,Ls(i,a,u,f,(a.subtreeFlags&10256)!==0)),m&2048&&th(w,a);break;case 24:Ln(i,a,u,f),m&2048&&nh(a.alternate,a);break;default:Ln(i,a,u,f)}}function Ls(i,a,u,f,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,w=a,k=u,M=f,U=w.flags;switch(w.tag){case 0:case 11:case 15:Ls(y,w,k,M,m),aa(8,w);break;case 23:break;case 22:var V=w.stateNode;w.memoizedState!==null?V._visibility&2?Ls(y,w,k,M,m):ua(y,w):(V._visibility|=2,Ls(y,w,k,M,m)),m&&U&2048&&th(w.alternate,w);break;case 24:Ls(y,w,k,M,m),m&&U&2048&&nh(w.alternate,w);break;default:Ls(y,w,k,M,m)}a=a.sibling}}function ua(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,f=a,m=f.flags;switch(f.tag){case 22:ua(u,f),m&2048&&th(f.alternate,f);break;case 24:ua(u,f),m&2048&&nh(f.alternate,f);break;default:ua(u,f)}a=a.sibling}}var ca=8192;function Bs(i){if(i.subtreeFlags&ca)for(i=i.child;i!==null;)ov(i),i=i.sibling}function ov(i){switch(i.tag){case 26:Bs(i),i.flags&ca&&i.memoizedState!==null&&wC(En,i.memoizedState,i.memoizedProps);break;case 5:Bs(i);break;case 3:case 4:var a=En;En=Cu(i.stateNode.containerInfo),Bs(i),En=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=ca,ca=16777216,Bs(i),ca=a):Bs(i));break;default:Bs(i)}}function av(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function fa(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];pt=f,uv(f,i)}av(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lv(i),i=i.sibling}function lv(i){switch(i.tag){case 0:case 11:case 15:fa(i),i.flags&2048&&Dr(9,i,i.return);break;case 3:fa(i);break;case 12:fa(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,pu(i)):fa(i);break;default:fa(i)}}function pu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];pt=f,uv(f,i)}av(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Dr(8,a,a.return),pu(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,pu(a));break;default:pu(a)}i=i.sibling}}function uv(i,a){for(;pt!==null;){var u=pt;switch(u.tag){case 0:case 11:case 15:Dr(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Go(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,pt=f;else e:for(u=i;pt!==null;){f=pt;var m=f.sibling,y=f.return;if(ev(f),f===u){pt=null;break e}if(m!==null){m.return=y,pt=m;break e}pt=y}}}var jk={getCacheForType:function(i){var a=Mt(ut),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u}},Pk=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ue=null,we=null,Ce=0,De=0,tn=null,Lr=!1,js=!1,rh=!1,or=0,Xe=0,Br=0,Li=0,ih=0,mn=0,Ps=0,da=null,Vt=null,sh=!1,oh=0,mu=1/0,gu=null,jr=null,Et=0,Pr=null,Us=null,Hs=0,ah=0,lh=null,cv=null,ha=0,uh=null;function nn(){if((Re&2)!==0&&Ce!==0)return Ce&-Ce;if($.T!==null){var i=_s;return i!==0?i:gh()}return Cg()}function fv(){mn===0&&(mn=(Ce&536870912)===0||Ae?xg():536870912);var i=pn.current;return i!==null&&(i.flags|=32),mn}function rn(i,a,u){(i===Ue&&(De===2||De===9)||i.cancelPendingCommit!==null)&&(Is(i,0),Ur(i,Ce,mn,!1)),Ro(i,u),((Re&2)===0||i!==Ue)&&(i===Ue&&((Re&2)===0&&(Li|=u),Xe===4&&Ur(i,Ce,mn,!1)),Bn(i))}function dv(i,a,u){if((Re&6)!==0)throw Error(r(327));var f=!u&&(a&124)===0&&(a&i.expiredLanes)===0||Ao(i,a),m=f?Ik(i,a):dh(i,a,!0),y=f;do{if(m===0){js&&!f&&Ur(i,a,0,!1);break}else{if(u=i.current.alternate,y&&!Uk(u)){m=dh(i,a,!1),y=!1;continue}if(m===2){if(y=a,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var k=i;m=da;var M=k.current.memoizedState.isDehydrated;if(M&&(Is(k,w).flags|=256),w=dh(k,w,!1),w!==2){if(rh&&!M){k.errorRecoveryDisabledLanes|=y,Li|=y,m=4;break e}y=Vt,Vt=m,y!==null&&(Vt===null?Vt=y:Vt.push.apply(Vt,y))}m=w}if(y=!1,m!==2)continue}}if(m===1){Is(i,0),Ur(i,a,0,!0);break}e:{switch(f=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Ur(f,a,mn,!Lr);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=oh+300-Rn(),10<m)){if(Ur(f,a,mn,!Lr),_l(f,0,!0)!==0)break e;f.timeoutHandle=Iv(hv.bind(null,f,u,Vt,gu,sh,a,mn,Li,Ps,Lr,y,2,-0,0),m);break e}hv(f,u,Vt,gu,sh,a,mn,Li,Ps,Lr,y,0,-0,0)}}break}while(!0);Bn(i)}function hv(i,a,u,f,m,y,w,k,M,U,V,K,H,I){if(i.timeoutHandle=-1,K=a.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Sa={stylesheets:null,count:0,unsuspend:SC},ov(a),K=xC(),K!==null)){i.cancelPendingCommit=K(Sv.bind(null,i,a,y,u,f,m,w,k,M,V,1,H,I)),Ur(i,y,w,!U);return}Sv(i,a,y,u,f,m,w,k,M)}function Uk(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var m=u[f],y=m.getSnapshot;m=m.value;try{if(!Jt(y(),m))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ur(i,a,u,f){a&=~ih,a&=~Li,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var m=a;0<m;){var y=31-Xt(m),w=1<<y;f[y]=-1,m&=~w}u!==0&&Tg(i,u,a)}function yu(){return(Re&6)===0?(pa(0),!1):!0}function ch(){if(we!==null){if(De===0)var i=we.return;else i=we,Qn=Mi=null,_d(i),Ns=null,ia=0,i=we;for(;i!==null;)K0(i.alternate,i),i=i.return;we=null}}function Is(i,a){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,rC(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ch(),Ue=i,we=u=Yn(i.current,null),Ce=a,De=0,tn=null,Lr=!1,js=Ao(i,a),rh=!1,Ps=mn=ih=Li=Br=Xe=0,Vt=da=null,sh=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var m=31-Xt(f),y=1<<m;a|=i[m],f&=~y}return or=a,Ul(),u}function pv(i,a){be=null,$.H=iu,a===Yo||a===Wl?(a=Ry(),De=3):a===Oy?(a=Ry(),De=4):De=a===D0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,tn=a,we===null&&(Xe=1,uu(i,cn(a,i.current)))}function mv(){var i=$.H;return $.H=iu,i===null?iu:i}function gv(){var i=$.A;return $.A=jk,i}function fh(){Xe=4,Lr||(Ce&4194048)!==Ce&&pn.current!==null||(js=!0),(Br&134217727)===0&&(Li&134217727)===0||Ue===null||Ur(Ue,Ce,mn,!1)}function dh(i,a,u){var f=Re;Re|=2;var m=mv(),y=gv();(Ue!==i||Ce!==a)&&(gu=null,Is(i,a)),a=!1;var w=Xe;e:do try{if(De!==0&&we!==null){var k=we,M=tn;switch(De){case 8:ch(),w=6;break e;case 3:case 2:case 9:case 6:pn.current===null&&(a=!0);var U=De;if(De=0,tn=null,$s(i,k,M,U),u&&js){w=0;break e}break;default:U=De,De=0,tn=null,$s(i,k,M,U)}}Hk(),w=Xe;break}catch(V){pv(i,V)}while(!0);return a&&i.shellSuspendCounter++,Qn=Mi=null,Re=f,$.H=m,$.A=y,we===null&&(Ue=null,Ce=0,Ul()),w}function Hk(){for(;we!==null;)yv(we)}function Ik(i,a){var u=Re;Re|=2;var f=mv(),m=gv();Ue!==i||Ce!==a?(gu=null,mu=Rn()+500,Is(i,a)):js=Ao(i,a);e:do try{if(De!==0&&we!==null){a=we;var y=tn;t:switch(De){case 1:De=0,tn=null,$s(i,a,y,1);break;case 2:case 9:if(My(y)){De=0,tn=null,vv(a);break}a=function(){De!==2&&De!==9||Ue!==i||(De=7),Bn(i)},y.then(a,a);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:My(y)?(De=0,tn=null,vv(a)):(De=0,tn=null,$s(i,a,y,7));break;case 5:var w=null;switch(we.tag){case 26:w=we.memoizedState;case 5:case 27:var k=we;if(!w||Zv(w)){De=0,tn=null;var M=k.sibling;if(M!==null)we=M;else{var U=k.return;U!==null?(we=U,vu(U)):we=null}break t}}De=0,tn=null,$s(i,a,y,5);break;case 6:De=0,tn=null,$s(i,a,y,6);break;case 8:ch(),Xe=6;break e;default:throw Error(r(462))}}$k();break}catch(V){pv(i,V)}while(!0);return Qn=Mi=null,$.H=f,$.A=m,Re=u,we!==null?0:(Ue=null,Ce=0,Ul(),Xe)}function $k(){for(;we!==null&&!cT();)yv(we)}function yv(i){var a=V0(i.alternate,i,or);i.memoizedProps=i.pendingProps,a===null?vu(i):we=a}function vv(i){var a=i,u=a.alternate;switch(a.tag){case 15:case 0:a=P0(u,a,a.pendingProps,a.type,void 0,Ce);break;case 11:a=P0(u,a,a.pendingProps,a.type.render,a.ref,Ce);break;case 5:_d(a);default:K0(u,a),a=we=by(a,or),a=V0(u,a,or)}i.memoizedProps=i.pendingProps,a===null?vu(i):we=a}function $s(i,a,u,f){Qn=Mi=null,_d(a),Ns=null,ia=0;var m=a.return;try{if(Rk(i,m,a,u,Ce)){Xe=1,uu(i,cn(u,i.current)),we=null;return}}catch(y){if(m!==null)throw we=m,y;Xe=1,uu(i,cn(u,i.current)),we=null;return}a.flags&32768?(Ae||f===1?i=!0:js||(Ce&536870912)!==0?i=!1:(Lr=i=!0,(f===2||f===9||f===3||f===6)&&(f=pn.current,f!==null&&f.tag===13&&(f.flags|=16384))),bv(a,i)):vu(a)}function vu(i){var a=i;do{if((a.flags&32768)!==0){bv(a,Lr);return}i=a.return;var u=Nk(a.alternate,a,or);if(u!==null){we=u;return}if(a=a.sibling,a!==null){we=a;return}we=a=i}while(a!==null);Xe===0&&(Xe=5)}function bv(i,a){do{var u=zk(i.alternate,i);if(u!==null){u.flags&=32767,we=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){we=i;return}we=i=u}while(i!==null);Xe=6,we=null}function Sv(i,a,u,f,m,y,w,k,M){i.cancelPendingCommit=null;do bu();while(Et!==0);if((Re&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=nd,ST(i,u,y,w,k,M),i===Ue&&(we=Ue=null,Ce=0),Us=a,Pr=i,Hs=u,ah=y,lh=m,cv=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Kk(Tl,function(){return kv(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=$.T,$.T=null,m=Q.p,Q.p=2,w=Re,Re|=4;try{Lk(i,a,u)}finally{Re=w,Q.p=m,$.T=f}}Et=1,wv(),xv(),Ev()}}function wv(){if(Et===1){Et=0;var i=Pr,a=Us,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var f=Q.p;Q.p=2;var m=Re;Re|=4;try{rv(a,i);var y=Th,w=uy(i.containerInfo),k=y.focusedElem,M=y.selectionRange;if(w!==k&&k&&k.ownerDocument&&ly(k.ownerDocument.documentElement,k)){if(M!==null&&Jf(k)){var U=M.start,V=M.end;if(V===void 0&&(V=U),"selectionStart"in k)k.selectionStart=U,k.selectionEnd=Math.min(V,k.value.length);else{var K=k.ownerDocument||document,H=K&&K.defaultView||window;if(H.getSelection){var I=H.getSelection(),de=k.textContent.length,ue=Math.min(M.start,de),Be=M.end===void 0?ue:Math.min(M.end,de);!I.extend&&ue>Be&&(w=Be,Be=ue,ue=w);var L=ay(k,ue),D=ay(k,Be);if(L&&D&&(I.rangeCount!==1||I.anchorNode!==L.node||I.anchorOffset!==L.offset||I.focusNode!==D.node||I.focusOffset!==D.offset)){var P=K.createRange();P.setStart(L.node,L.offset),I.removeAllRanges(),ue>Be?(I.addRange(P),I.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),I.addRange(P))}}}}for(K=[],I=k;I=I.parentNode;)I.nodeType===1&&K.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<K.length;k++){var F=K[k];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Ru=!!Eh,Th=Eh=null}finally{Re=m,Q.p=f,$.T=u}}i.current=a,Et=2}}function xv(){if(Et===2){Et=0;var i=Pr,a=Us,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var f=Q.p;Q.p=2;var m=Re;Re|=4;try{Z0(i,a.alternate,a)}finally{Re=m,Q.p=f,$.T=u}}Et=3}}function Ev(){if(Et===4||Et===3){Et=0,fT();var i=Pr,a=Us,u=Hs,f=cv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Et=5:(Et=0,Us=Pr=null,Tv(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(jr=null),Af(u),a=a.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Mo,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=$.T,m=Q.p,Q.p=2,$.T=null;try{for(var y=i.onRecoverableError,w=0;w<f.length;w++){var k=f[w];y(k.value,{componentStack:k.stack})}}finally{$.T=a,Q.p=m}}(Hs&3)!==0&&bu(),Bn(i),m=i.pendingLanes,(u&4194090)!==0&&(m&42)!==0?i===uh?ha++:(ha=0,uh=i):ha=0,pa(0)}}function Tv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Go(a)))}function bu(i){return wv(),xv(),Ev(),kv()}function kv(){if(Et!==5)return!1;var i=Pr,a=ah;ah=0;var u=Af(Hs),f=$.T,m=Q.p;try{Q.p=32>u?32:u,$.T=null,u=lh,lh=null;var y=Pr,w=Hs;if(Et=0,Us=Pr=null,Hs=0,(Re&6)!==0)throw Error(r(331));var k=Re;if(Re|=4,lv(y.current),sv(y,y.current,w,u),Re=k,pa(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Mo,y)}catch{}return!0}finally{Q.p=m,$.T=f,Tv(i,a)}}function Cv(i,a,u){a=cn(u,a),a=Id(i.stateNode,a,2),i=Or(i,a,2),i!==null&&(Ro(i,2),Bn(i))}function je(i,a,u){if(i.tag===3)Cv(i,i,u);else for(;a!==null;){if(a.tag===3){Cv(a,i,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(jr===null||!jr.has(f))){i=cn(u,i),u=A0(2),f=Or(a,u,2),f!==null&&(R0(u,f,a,i),Ro(f,2),Bn(f));break}}a=a.return}}function hh(i,a,u){var f=i.pingCache;if(f===null){f=i.pingCache=new Pk;var m=new Set;f.set(a,m)}else m=f.get(a),m===void 0&&(m=new Set,f.set(a,m));m.has(u)||(rh=!0,m.add(u),i=qk.bind(null,i,a,u),a.then(i,i))}function qk(i,a,u){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ue===i&&(Ce&u)===u&&(Xe===4||Xe===3&&(Ce&62914560)===Ce&&300>Rn()-oh?(Re&2)===0&&Is(i,0):ih|=u,Ps===Ce&&(Ps=0)),Bn(i)}function _v(i,a){a===0&&(a=Eg()),i=Es(i,a),i!==null&&(Ro(i,a),Bn(i))}function Vk(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),_v(i,u)}function Fk(i,a){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),_v(i,u)}function Kk(i,a){return Cf(i,a)}var Su=null,qs=null,ph=!1,wu=!1,mh=!1,Bi=0;function Bn(i){i!==qs&&i.next===null&&(qs===null?Su=qs=i:qs=qs.next=i),wu=!0,ph||(ph=!0,Wk())}function pa(i,a){if(!mh&&wu){mh=!0;do for(var u=!1,f=Su;f!==null;){if(i!==0){var m=f.pendingLanes;if(m===0)var y=0;else{var w=f.suspendedLanes,k=f.pingedLanes;y=(1<<31-Xt(42|i)+1)-1,y&=m&~(w&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(u=!0,Rv(f,y))}else y=Ce,y=_l(f,f===Ue?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Ao(f,y)||(u=!0,Rv(f,y));f=f.next}while(u);mh=!1}}function Gk(){Ov()}function Ov(){wu=ph=!1;var i=0;Bi!==0&&(nC()&&(i=Bi),Bi=0);for(var a=Rn(),u=null,f=Su;f!==null;){var m=f.next,y=Mv(f,a);y===0?(f.next=null,u===null?Su=m:u.next=m,m===null&&(qs=u)):(u=f,(i!==0||(y&3)!==0)&&(wu=!0)),f=m}pa(i)}function Mv(i,a){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-Xt(y),k=1<<w,M=m[w];M===-1?((k&u)===0||(k&f)!==0)&&(m[w]=bT(k,a)):M<=a&&(i.expiredLanes|=k),y&=~k}if(a=Ue,u=Ce,u=_l(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===a&&(De===2||De===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&_f(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Ao(i,u)){if(a=u&-u,a===i.callbackPriority)return a;switch(f!==null&&_f(f),Af(u)){case 2:case 8:u=Sg;break;case 32:u=Tl;break;case 268435456:u=wg;break;default:u=Tl}return f=Av.bind(null,i),u=Cf(u,f),i.callbackPriority=a,i.callbackNode=u,a}return f!==null&&f!==null&&_f(f),i.callbackPriority=2,i.callbackNode=null,2}function Av(i,a){if(Et!==0&&Et!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(bu()&&i.callbackNode!==u)return null;var f=Ce;return f=_l(i,i===Ue?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(dv(i,f,a),Mv(i,Rn()),i.callbackNode!=null&&i.callbackNode===u?Av.bind(null,i):null)}function Rv(i,a){if(bu())return null;dv(i,a,!0)}function Wk(){iC(function(){(Re&6)!==0?Cf(bg,Gk):Ov()})}function gh(){return Bi===0&&(Bi=xg()),Bi}function Dv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Dl(""+i)}function Nv(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function Yk(i,a,u,f,m){if(a==="submit"&&u&&u.stateNode===m){var y=Dv((m[Ht]||null).action),w=f.submitter;w&&(a=(a=w[Ht]||null)?Dv(a.formAction):w.getAttribute("formAction"),a!==null&&(y=a,w=null));var k=new Bl("action","action",null,f,m);i.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Bi!==0){var M=w?Nv(m,w):new FormData(m);Bd(u,{pending:!0,data:M,method:m.method,action:y},null,M)}}else typeof y=="function"&&(k.preventDefault(),M=w?Nv(m,w):new FormData(m),Bd(u,{pending:!0,data:M,method:m.method,action:y},y,M))},currentTarget:m}]})}}for(var yh=0;yh<td.length;yh++){var vh=td[yh],Xk=vh.toLowerCase(),Jk=vh[0].toUpperCase()+vh.slice(1);xn(Xk,"on"+Jk)}xn(dy,"onAnimationEnd"),xn(hy,"onAnimationIteration"),xn(py,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(pk,"onTransitionRun"),xn(mk,"onTransitionStart"),xn(gk,"onTransitionCancel"),xn(my,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ma));function zv(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var w=f.length-1;0<=w;w--){var k=f[w],M=k.instance,U=k.currentTarget;if(k=k.listener,M!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=U;try{y(m)}catch(V){lu(V)}m.currentTarget=null,y=M}else for(w=0;w<f.length;w++){if(k=f[w],M=k.instance,U=k.currentTarget,k=k.listener,M!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=U;try{y(m)}catch(V){lu(V)}m.currentTarget=null,y=M}}}}function xe(i,a){var u=a[Rf];u===void 0&&(u=a[Rf]=new Set);var f=i+"__bubble";u.has(f)||(Lv(a,i,2,!1),u.add(f))}function bh(i,a,u){var f=0;a&&(f|=4),Lv(u,i,f,a)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Sh(i){if(!i[xu]){i[xu]=!0,Og.forEach(function(u){u!=="selectionchange"&&(Qk.has(u)||bh(u,!1,i),bh(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[xu]||(a[xu]=!0,bh("selectionchange",!1,a))}}function Lv(i,a,u,f){switch(sb(a)){case 2:var m=kC;break;case 8:m=CC;break;default:m=zh}u=m.bind(null,a,u,i),m=void 0,!$f||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(a,u,{capture:!0,passive:m}):i.addEventListener(a,u,!0):m!==void 0?i.addEventListener(a,u,{passive:m}):i.addEventListener(a,u,!1)}function wh(i,a,u,f,m){var y=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var k=f.stateNode.containerInfo;if(k===m)break;if(w===4)for(w=f.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;k!==null;){if(w=cs(k),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){f=y=w;continue e}k=k.parentNode}}f=f.return}$g(function(){var U=y,V=Hf(u),K=[];e:{var H=gy.get(i);if(H!==void 0){var I=Bl,de=i;switch(i){case"keypress":if(zl(u)===0)break e;case"keydown":case"keyup":I=KT;break;case"focusin":de="focus",I=Kf;break;case"focusout":de="blur",I=Kf;break;case"beforeblur":case"afterblur":I=Kf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=zT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=YT;break;case dy:case hy:case py:I=jT;break;case my:I=JT;break;case"scroll":case"scrollend":I=DT;break;case"wheel":I=ZT;break;case"copy":case"cut":case"paste":I=UT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Gg;break;case"toggle":case"beforetoggle":I=tk}var ue=(a&4)!==0,Be=!ue&&(i==="scroll"||i==="scrollend"),L=ue?H!==null?H+"Capture":null:H;ue=[];for(var D=U,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||L===null||(F=zo(D,L),F!=null&&ue.push(ga(D,F,P))),Be)break;D=D.return}0<ue.length&&(H=new I(H,de,null,u,V),K.push({event:H,listeners:ue}))}}if((a&7)===0){e:{if(H=i==="mouseover"||i==="pointerover",I=i==="mouseout"||i==="pointerout",H&&u!==Uf&&(de=u.relatedTarget||u.fromElement)&&(cs(de)||de[us]))break e;if((I||H)&&(H=V.window===V?V:(H=V.ownerDocument)?H.defaultView||H.parentWindow:window,I?(de=u.relatedTarget||u.toElement,I=U,de=de?cs(de):null,de!==null&&(Be=o(de),ue=de.tag,de!==Be||ue!==5&&ue!==27&&ue!==6)&&(de=null)):(I=null,de=U),I!==de)){if(ue=Fg,F="onMouseLeave",L="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(ue=Gg,F="onPointerLeave",L="onPointerEnter",D="pointer"),Be=I==null?H:No(I),P=de==null?H:No(de),H=new ue(F,D+"leave",I,u,V),H.target=Be,H.relatedTarget=P,F=null,cs(V)===U&&(ue=new ue(L,D+"enter",de,u,V),ue.target=P,ue.relatedTarget=Be,F=ue),Be=F,I&&de)t:{for(ue=I,L=de,D=0,P=ue;P;P=Vs(P))D++;for(P=0,F=L;F;F=Vs(F))P++;for(;0<D-P;)ue=Vs(ue),D--;for(;0<P-D;)L=Vs(L),P--;for(;D--;){if(ue===L||L!==null&&ue===L.alternate)break t;ue=Vs(ue),L=Vs(L)}ue=null}else ue=null;I!==null&&Bv(K,H,I,ue,!1),de!==null&&Be!==null&&Bv(K,Be,de,ue,!0)}}e:{if(H=U?No(U):window,I=H.nodeName&&H.nodeName.toLowerCase(),I==="select"||I==="input"&&H.type==="file")var ne=ty;else if(Zg(H))if(ny)ne=fk;else{ne=uk;var Se=lk}else I=H.nodeName,!I||I.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&Pf(U.elementType)&&(ne=ty):ne=ck;if(ne&&(ne=ne(i,U))){ey(K,ne,u,V);break e}Se&&Se(i,H,U),i==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&jf(H,"number",H.value)}switch(Se=U?No(U):window,i){case"focusin":(Zg(Se)||Se.contentEditable==="true")&&(Ss=Se,Qf=U,$o=null);break;case"focusout":$o=Qf=Ss=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,cy(K,u,V);break;case"selectionchange":if(hk)break;case"keydown":case"keyup":cy(K,u,V)}var ie;if(Wf)e:{switch(i){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else bs?Jg(i,u)&&(ce="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ce="onCompositionStart");ce&&(Wg&&u.locale!=="ko"&&(bs||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&bs&&(ie=qg()):(Tr=V,qf="value"in Tr?Tr.value:Tr.textContent,bs=!0)),Se=Eu(U,ce),0<Se.length&&(ce=new Kg(ce,i,null,u,V),K.push({event:ce,listeners:Se}),ie?ce.data=ie:(ie=Qg(u),ie!==null&&(ce.data=ie)))),(ie=rk?ik(i,u):sk(i,u))&&(ce=Eu(U,"onBeforeInput"),0<ce.length&&(Se=new Kg("onBeforeInput","beforeinput",null,u,V),K.push({event:Se,listeners:ce}),Se.data=ie)),Yk(K,i,U,u,V)}zv(K,a)})}function ga(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Eu(i,a){for(var u=a+"Capture",f=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=zo(i,u),m!=null&&f.unshift(ga(i,m,y)),m=zo(i,a),m!=null&&f.push(ga(i,m,y))),i.tag===3)return f;i=i.return}return[]}function Vs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Bv(i,a,u,f,m){for(var y=a._reactName,w=[];u!==null&&u!==f;){var k=u,M=k.alternate,U=k.stateNode;if(k=k.tag,M!==null&&M===f)break;k!==5&&k!==26&&k!==27||U===null||(M=U,m?(U=zo(u,y),U!=null&&w.unshift(ga(u,U,M))):m||(U=zo(u,y),U!=null&&w.push(ga(u,U,M)))),u=u.return}w.length!==0&&i.push({event:a,listeners:w})}var Zk=/\r\n?/g,eC=/\u0000|\uFFFD/g;function jv(i){return(typeof i=="string"?i:""+i).replace(Zk,`
`).replace(eC,"")}function Pv(i,a){return a=jv(a),jv(i)===a}function Tu(){}function Le(i,a,u,f,m,y){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||gs(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&gs(i,""+f);break;case"className":Ml(i,"class",f);break;case"tabIndex":Ml(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(i,u,f);break;case"style":Hg(i,f,y);break;case"data":if(a!=="object"){Ml(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Dl(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(a!=="input"&&Le(i,a,"name",m.name,m,null),Le(i,a,"formEncType",m.formEncType,m,null),Le(i,a,"formMethod",m.formMethod,m,null),Le(i,a,"formTarget",m.formTarget,m,null)):(Le(i,a,"encType",m.encType,m,null),Le(i,a,"method",m.method,m,null),Le(i,a,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Dl(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=Tu);break;case"onScroll":f!=null&&xe("scroll",i);break;case"onScrollEnd":f!=null&&xe("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Dl(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":xe("beforetoggle",i),xe("toggle",i),Ol(i,"popover",f);break;case"xlinkActuate":Gn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Gn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Gn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Gn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Gn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Gn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Gn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ol(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=AT.get(u)||u,Ol(i,u,f))}}function xh(i,a,u,f,m,y){switch(u){case"style":Hg(i,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?gs(i,f):(typeof f=="number"||typeof f=="bigint")&&gs(i,""+f);break;case"onScroll":f!=null&&xe("scroll",i);break;case"onScrollEnd":f!=null&&xe("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Tu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mg.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),a=u.slice(2,m?u.length-7:void 0),y=i[Ht]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(a,y,m),typeof f=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,f,m);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):Ol(i,u,f)}}}function Tt(i,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",i),xe("load",i);var f=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var w=u[y];if(w!=null)switch(y){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Le(i,a,y,w,u,null)}}m&&Le(i,a,"srcSet",u.srcSet,u,null),f&&Le(i,a,"src",u.src,u,null);return;case"input":xe("invalid",i);var k=y=w=m=null,M=null,U=null;for(f in u)if(u.hasOwnProperty(f)){var V=u[f];if(V!=null)switch(f){case"name":m=V;break;case"type":w=V;break;case"checked":M=V;break;case"defaultChecked":U=V;break;case"value":y=V;break;case"defaultValue":k=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,a));break;default:Le(i,a,f,V,u,null)}}Bg(i,y,k,M,U,w,m,!1),Al(i);return;case"select":xe("invalid",i),f=w=y=null;for(m in u)if(u.hasOwnProperty(m)&&(k=u[m],k!=null))switch(m){case"value":y=k;break;case"defaultValue":w=k;break;case"multiple":f=k;default:Le(i,a,m,k,u,null)}a=y,u=w,i.multiple=!!f,a!=null?ms(i,!!f,a,!1):u!=null&&ms(i,!!f,u,!0);return;case"textarea":xe("invalid",i),y=m=f=null;for(w in u)if(u.hasOwnProperty(w)&&(k=u[w],k!=null))switch(w){case"value":f=k;break;case"defaultValue":m=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Le(i,a,w,k,u,null)}Pg(i,f,m,y),Al(i);return;case"option":for(M in u)if(u.hasOwnProperty(M)&&(f=u[M],f!=null))switch(M){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Le(i,a,M,f,u,null)}return;case"dialog":xe("beforetoggle",i),xe("toggle",i),xe("cancel",i),xe("close",i);break;case"iframe":case"object":xe("load",i);break;case"video":case"audio":for(f=0;f<ma.length;f++)xe(ma[f],i);break;case"image":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"embed":case"source":case"link":xe("error",i),xe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in u)if(u.hasOwnProperty(U)&&(f=u[U],f!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Le(i,a,U,f,u,null)}return;default:if(Pf(a)){for(V in u)u.hasOwnProperty(V)&&(f=u[V],f!==void 0&&xh(i,a,V,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&Le(i,a,k,f,u,null))}function tC(i,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,w=null,k=null,M=null,U=null,V=null;for(I in u){var K=u[I];if(u.hasOwnProperty(I)&&K!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":M=K;default:f.hasOwnProperty(I)||Le(i,a,I,null,f,K)}}for(var H in f){var I=f[H];if(K=u[H],f.hasOwnProperty(H)&&(I!=null||K!=null))switch(H){case"type":y=I;break;case"name":m=I;break;case"checked":U=I;break;case"defaultChecked":V=I;break;case"value":w=I;break;case"defaultValue":k=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,a));break;default:I!==K&&Le(i,a,H,I,f,K)}}Bf(i,w,k,M,U,V,y,m);return;case"select":I=w=k=H=null;for(y in u)if(M=u[y],u.hasOwnProperty(y)&&M!=null)switch(y){case"value":break;case"multiple":I=M;default:f.hasOwnProperty(y)||Le(i,a,y,null,f,M)}for(m in f)if(y=f[m],M=u[m],f.hasOwnProperty(m)&&(y!=null||M!=null))switch(m){case"value":H=y;break;case"defaultValue":k=y;break;case"multiple":w=y;default:y!==M&&Le(i,a,m,y,f,M)}a=k,u=w,f=I,H!=null?ms(i,!!u,H,!1):!!f!=!!u&&(a!=null?ms(i,!!u,a,!0):ms(i,!!u,u?[]:"",!1));return;case"textarea":I=H=null;for(k in u)if(m=u[k],u.hasOwnProperty(k)&&m!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Le(i,a,k,null,f,m)}for(w in f)if(m=f[w],y=u[w],f.hasOwnProperty(w)&&(m!=null||y!=null))switch(w){case"value":H=m;break;case"defaultValue":I=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&Le(i,a,w,m,f,y)}jg(i,H,I);return;case"option":for(var de in u)if(H=u[de],u.hasOwnProperty(de)&&H!=null&&!f.hasOwnProperty(de))switch(de){case"selected":i.selected=!1;break;default:Le(i,a,de,null,f,H)}for(M in f)if(H=f[M],I=u[M],f.hasOwnProperty(M)&&H!==I&&(H!=null||I!=null))switch(M){case"selected":i.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Le(i,a,M,H,f,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in u)H=u[ue],u.hasOwnProperty(ue)&&H!=null&&!f.hasOwnProperty(ue)&&Le(i,a,ue,null,f,H);for(U in f)if(H=f[U],I=u[U],f.hasOwnProperty(U)&&H!==I&&(H!=null||I!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,a));break;default:Le(i,a,U,H,f,I)}return;default:if(Pf(a)){for(var Be in u)H=u[Be],u.hasOwnProperty(Be)&&H!==void 0&&!f.hasOwnProperty(Be)&&xh(i,a,Be,void 0,f,H);for(V in f)H=f[V],I=u[V],!f.hasOwnProperty(V)||H===I||H===void 0&&I===void 0||xh(i,a,V,H,f,I);return}}for(var L in u)H=u[L],u.hasOwnProperty(L)&&H!=null&&!f.hasOwnProperty(L)&&Le(i,a,L,null,f,H);for(K in f)H=f[K],I=u[K],!f.hasOwnProperty(K)||H===I||H==null&&I==null||Le(i,a,K,H,f,I)}var Eh=null,Th=null;function ku(i){return i.nodeType===9?i:i.ownerDocument}function Uv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function kh(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ch=null;function nC(){var i=window.event;return i&&i.type==="popstate"?i===Ch?!1:(Ch=i,!0):(Ch=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,rC=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,iC=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(i){return $v.resolve(null).then(i).catch(sC)}:Iv;function sC(i){setTimeout(function(){throw i})}function Hr(i){return i==="head"}function qv(i,a){var u=a,f=0,m=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(0<f&&8>f){u=f;var w=i.ownerDocument;if(u&1&&ya(w.documentElement),u&2&&ya(w.body),u&4)for(u=w.head,ya(u),w=u.firstChild;w;){var k=w.nextSibling,M=w.nodeName;w[Do]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||u.removeChild(w),w=k}}if(m===0){i.removeChild(y),ka(a);return}m--}else u==="$"||u==="$?"||u==="$!"?m++:f=u.charCodeAt(0)-48;else f=0;u=y}while(u);ka(a)}function _h(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":_h(u),Df(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function oC(i,a,u,f){for(;i.nodeType===1;){var m=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Do])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Tn(i.nextSibling),i===null)break}return null}function aC(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Tn(i.nextSibling),i===null))return null;return i}function Oh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function lC(i,a){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Tn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Mh=null;function Vv(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}function Fv(i,a,u){switch(a=ku(u),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ya(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Df(i)}var gn=new Map,Kv=new Set;function Cu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ar=Q.d;Q.d={f:uC,r:cC,D:fC,C:dC,L:hC,m:pC,X:gC,S:mC,M:yC};function uC(){var i=ar.f(),a=yu();return i||a}function cC(i){var a=fs(i);a!==null&&a.tag===5&&a.type==="form"?d0(a):ar.r(i)}var Fs=typeof document>"u"?null:document;function Gv(i,a,u){var f=Fs;if(f&&typeof a=="string"&&a){var m=un(a);m='link[rel="'+i+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),Kv.has(m)||(Kv.add(m),i={rel:i,crossOrigin:u,href:a},f.querySelector(m)===null&&(a=f.createElement("link"),Tt(a,"link",i),dt(a),f.head.appendChild(a)))}}function fC(i){ar.D(i),Gv("dns-prefetch",i,null)}function dC(i,a){ar.C(i,a),Gv("preconnect",i,a)}function hC(i,a,u){ar.L(i,a,u);var f=Fs;if(f&&i&&a){var m='link[rel="preload"][as="'+un(a)+'"]';a==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+un(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+un(u.imageSizes)+'"]')):m+='[href="'+un(i)+'"]';var y=m;switch(a){case"style":y=Ks(i);break;case"script":y=Gs(i)}gn.has(y)||(i=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),gn.set(y,i),f.querySelector(m)!==null||a==="style"&&f.querySelector(va(y))||a==="script"&&f.querySelector(ba(y))||(a=f.createElement("link"),Tt(a,"link",i),dt(a),f.head.appendChild(a)))}}function pC(i,a){ar.m(i,a);var u=Fs;if(u&&i){var f=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+un(f)+'"][href="'+un(i)+'"]',y=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Gs(i)}if(!gn.has(y)&&(i=p({rel:"modulepreload",href:i},a),gn.set(y,i),u.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ba(y)))return}f=u.createElement("link"),Tt(f,"link",i),dt(f),u.head.appendChild(f)}}}function mC(i,a,u){ar.S(i,a,u);var f=Fs;if(f&&i){var m=ds(f).hoistableStyles,y=Ks(i);a=a||"default";var w=m.get(y);if(!w){var k={loading:0,preload:null};if(w=f.querySelector(va(y)))k.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},u),(u=gn.get(y))&&Ah(i,u);var M=w=f.createElement("link");dt(M),Tt(M,"link",i),M._p=new Promise(function(U,V){M.onload=U,M.onerror=V}),M.addEventListener("load",function(){k.loading|=1}),M.addEventListener("error",function(){k.loading|=2}),k.loading|=4,_u(w,a,f)}w={type:"stylesheet",instance:w,count:1,state:k},m.set(y,w)}}}function gC(i,a){ar.X(i,a);var u=Fs;if(u&&i){var f=ds(u).hoistableScripts,m=Gs(i),y=f.get(m);y||(y=u.querySelector(ba(m)),y||(i=p({src:i,async:!0},a),(a=gn.get(m))&&Rh(i,a),y=u.createElement("script"),dt(y),Tt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function yC(i,a){ar.M(i,a);var u=Fs;if(u&&i){var f=ds(u).hoistableScripts,m=Gs(i),y=f.get(m);y||(y=u.querySelector(ba(m)),y||(i=p({src:i,async:!0,type:"module"},a),(a=gn.get(m))&&Rh(i,a),y=u.createElement("script"),dt(y),Tt(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(m,y))}}function Wv(i,a,u,f){var m=(m=pe.current)?Cu(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Ks(u.href),u=ds(m).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Ks(u.href);var y=ds(m).hoistableStyles,w=y.get(i);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=m.querySelector(va(i)))&&!y._p&&(w.instance=y,w.state.loading=5),gn.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},gn.set(i,u),y||vC(m,i,u,w.state))),a&&f===null)throw Error(r(528,""));return w}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Gs(u),u=ds(m).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ks(i){return'href="'+un(i)+'"'}function va(i){return'link[rel="stylesheet"]['+i+"]"}function Yv(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function vC(i,a,u,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Tt(a,"link",u),dt(a),i.head.appendChild(a))}function Gs(i){return'[src="'+un(i)+'"]'}function ba(i){return"script[async]"+i}function Xv(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+un(u.href)+'"]');if(f)return a.instance=f,dt(f),f;var m=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),dt(f),Tt(f,"style",m),_u(f,u.precedence,i),a.instance=f;case"stylesheet":m=Ks(u.href);var y=i.querySelector(va(m));if(y)return a.state.loading|=4,a.instance=y,dt(y),y;f=Yv(u),(m=gn.get(m))&&Ah(f,m),y=(i.ownerDocument||i).createElement("link"),dt(y);var w=y;return w._p=new Promise(function(k,M){w.onload=k,w.onerror=M}),Tt(y,"link",f),a.state.loading|=4,_u(y,u.precedence,i),a.instance=y;case"script":return y=Gs(u.src),(m=i.querySelector(ba(y)))?(a.instance=m,dt(m),m):(f=u,(m=gn.get(y))&&(f=p({},u),Rh(f,m)),i=i.ownerDocument||i,m=i.createElement("script"),dt(m),Tt(m,"link",f),i.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,_u(f,u.precedence,i));return a.instance}function _u(i,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,y=m,w=0;w<f.length;w++){var k=f[w];if(k.dataset.precedence===a)y=k;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function Ah(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Rh(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Ou=null;function Jv(i,a,u){if(Ou===null){var f=new Map,m=Ou=new Map;m.set(u,f)}else m=Ou,f=m.get(u),f||(f=new Map,m.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),m=0;m<u.length;m++){var y=u[m];if(!(y[Do]||y[Ot]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(a)||"";w=i+w;var k=f.get(w);k?k.push(y):f.set(w,[y])}}return f}function Qv(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function bC(i,a,u){if(u===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Zv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Sa=null;function SC(){}function wC(i,a,u){if(Sa===null)throw Error(r(475));var f=Sa;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=Ks(u.href),y=i.querySelector(va(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Mu.bind(f),i.then(f,f)),a.state.loading|=4,a.instance=y,dt(y);return}y=i.ownerDocument||i,u=Yv(u),(m=gn.get(m))&&Ah(u,m),y=y.createElement("link"),dt(y);var w=y;w._p=new Promise(function(k,M){w.onload=k,w.onerror=M}),Tt(y,"link",u),a.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Mu.bind(f),i.addEventListener("load",a),i.addEventListener("error",a))}}function xC(){if(Sa===null)throw Error(r(475));var i=Sa;return i.stylesheets&&i.count===0&&Dh(i,i.stylesheets),0<i.count?function(a){var u=setTimeout(function(){if(i.stylesheets&&Dh(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Mu(){if(this.count--,this.count===0){if(this.stylesheets)Dh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Au=null;function Dh(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Au=new Map,a.forEach(EC,i),Au=null,Mu.call(i))}function EC(i,a){if(!(a.state.loading&4)){var u=Au.get(i);if(u)var f=u.get(null);else{u=new Map,Au.set(i,u);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var w=m[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(u.set(w.dataset.precedence,w),f=w)}f&&u.set(null,f)}m=a.instance,w=m.getAttribute("data-precedence"),y=u.get(w)||f,y===f&&u.set(null,m),u.set(w,m),this.count++,f=Mu.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),a.state.loading|=4}}var wa={$$typeof:C,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function TC(i,a,u,f,m,y,w,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Of(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.hiddenUpdates=Of(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function eb(i,a,u,f,m,y,w,k,M,U,V,K){return i=new TC(i,a,u,w,k,M,U,K),a=1,y===!0&&(a|=24),y=Qt(3,null,null,a),i.current=y,y.stateNode=i,a=hd(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:f,isDehydrated:u,cache:a},yd(y),i}function tb(i){return i?(i=Ts,i):Ts}function nb(i,a,u,f,m,y){m=tb(m),f.context===null?f.context=m:f.pendingContext=m,f=_r(a),f.payload={element:u},y=y===void 0?null:y,y!==null&&(f.callback=y),u=Or(i,f,a),u!==null&&(rn(u,i,a),Jo(u,i,a))}function rb(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Nh(i,a){rb(i,a),(i=i.alternate)&&rb(i,a)}function ib(i){if(i.tag===13){var a=Es(i,67108864);a!==null&&rn(a,i,67108864),Nh(i,67108864)}}var Ru=!0;function kC(i,a,u,f){var m=$.T;$.T=null;var y=Q.p;try{Q.p=2,zh(i,a,u,f)}finally{Q.p=y,$.T=m}}function CC(i,a,u,f){var m=$.T;$.T=null;var y=Q.p;try{Q.p=8,zh(i,a,u,f)}finally{Q.p=y,$.T=m}}function zh(i,a,u,f){if(Ru){var m=Lh(f);if(m===null)wh(i,a,f,Du,u),ob(i,f);else if(OC(m,i,a,u,f))f.stopPropagation();else if(ob(i,f),a&4&&-1<_C.indexOf(i)){for(;m!==null;){var y=fs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=bi(y.pendingLanes);if(w!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var M=1<<31-Xt(w);k.entanglements[1]|=M,w&=~M}Bn(y),(Re&6)===0&&(mu=Rn()+500,pa(0))}}break;case 13:k=Es(y,2),k!==null&&rn(k,y,2),yu(),Nh(y,2)}if(y=Lh(f),y===null&&wh(i,a,f,Du,u),y===m)break;m=y}m!==null&&f.stopPropagation()}else wh(i,a,f,null,u)}}function Lh(i){return i=Hf(i),Bh(i)}var Du=null;function Bh(i){if(Du=null,i=cs(i),i!==null){var a=o(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=l(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Du=i,null}function sb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dT()){case bg:return 2;case Sg:return 8;case Tl:case hT:return 32;case wg:return 268435456;default:return 32}default:return 32}}var jh=!1,Ir=null,$r=null,qr=null,xa=new Map,Ea=new Map,Vr=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ob(i,a){switch(i){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":xa.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(a.pointerId)}}function Ta(i,a,u,f,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},a!==null&&(a=fs(a),a!==null&&ib(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),i)}function OC(i,a,u,f,m){switch(a){case"focusin":return Ir=Ta(Ir,i,a,u,f,m),!0;case"dragenter":return $r=Ta($r,i,a,u,f,m),!0;case"mouseover":return qr=Ta(qr,i,a,u,f,m),!0;case"pointerover":var y=m.pointerId;return xa.set(y,Ta(xa.get(y)||null,i,a,u,f,m)),!0;case"gotpointercapture":return y=m.pointerId,Ea.set(y,Ta(Ea.get(y)||null,i,a,u,f,m)),!0}return!1}function ab(i){var a=cs(i.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){i.blockedOn=a,wT(i.priority,function(){if(u.tag===13){var f=nn();f=Mf(f);var m=Es(u,f);m!==null&&rn(m,u,f),Nh(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nu(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=Lh(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Uf=f,u.target.dispatchEvent(f),Uf=null}else return a=fs(u),a!==null&&ib(a),i.blockedOn=u,!1;a.shift()}return!0}function lb(i,a,u){Nu(i)&&u.delete(a)}function MC(){jh=!1,Ir!==null&&Nu(Ir)&&(Ir=null),$r!==null&&Nu($r)&&($r=null),qr!==null&&Nu(qr)&&(qr=null),xa.forEach(lb),Ea.forEach(lb)}function zu(i,a){i.blockedOn===a&&(i.blockedOn=null,jh||(jh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,MC)))}var Lu=null;function ub(i){Lu!==i&&(Lu=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Lu===i&&(Lu=null);for(var a=0;a<i.length;a+=3){var u=i[a],f=i[a+1],m=i[a+2];if(typeof f!="function"){if(Bh(f||u)===null)continue;break}var y=fs(u);y!==null&&(i.splice(a,3),a-=3,Bd(y,{pending:!0,data:m,method:u.method,action:f},f,m))}}))}function ka(i){function a(M){return zu(M,i)}Ir!==null&&zu(Ir,i),$r!==null&&zu($r,i),qr!==null&&zu(qr,i),xa.forEach(a),Ea.forEach(a);for(var u=0;u<Vr.length;u++){var f=Vr[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Vr.length&&(u=Vr[0],u.blockedOn===null);)ab(u),u.blockedOn===null&&Vr.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var m=u[f],y=u[f+1],w=m[Ht]||null;if(typeof y=="function")w||ub(u);else if(w){var k=null;if(y&&y.hasAttribute("formAction")){if(m=y,w=y[Ht]||null)k=w.formAction;else if(Bh(m)!==null)continue}else k=w.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),ub(u)}}}function Ph(i){this._internalRoot=i}Bu.prototype.render=Ph.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,f=nn();nb(u,f,i,a,null,null)},Bu.prototype.unmount=Ph.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;nb(i.current,2,null,i,null,null),yu(),a[us]=null}};function Bu(i){this._internalRoot=i}Bu.prototype.unstable_scheduleHydration=function(i){if(i){var a=Cg();i={blockedOn:null,target:i,priority:a};for(var u=0;u<Vr.length&&a!==0&&a<Vr[u].priority;u++);Vr.splice(u,0,i),u===0&&ab(i)}};var cb=e.version;if(cb!=="19.1.0")throw Error(r(527,cb,"19.1.0"));Q.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var AC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Mo=ju.inject(AC),Yt=ju}catch{}}return _a.createRoot=function(i,a){if(!s(i))throw Error(r(299));var u=!1,f="",m=C0,y=_0,w=O0,k=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=eb(i,1,!1,null,null,u,f,m,y,w,k,null),i[us]=a.current,Sh(i),new Ph(a)},_a.hydrateRoot=function(i,a,u){if(!s(i))throw Error(r(299));var f=!1,m="",y=C0,w=_0,k=O0,M=null,U=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(w=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(M=u.unstable_transitionCallbacks),u.formState!==void 0&&(U=u.formState)),a=eb(i,1,!0,a,u??null,f,m,y,w,k,M,U),a.context=tb(null),u=a.current,f=nn(),f=Mf(f),m=_r(f),m.callback=null,Or(u,m,f),u=f,a.current.lanes=u,Ro(a,u),Bn(a),i[us]=a.current,Sh(i),new Bu(a)},_a.version="19.1.0",_a}var Sb;function UC(){if(Sb)return Ih.exports;Sb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ih.exports=PC(),Ih.exports}var HC=UC();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wb="popstate";function IC(n={}){function e(r,s){let{pathname:o,search:l,hash:c}=r.location;return Bp("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Za(s)}return qC(e,t,null,n)}function We(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $n(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $C(){return Math.random().toString(36).substring(2,10)}function xb(n,e){return{usr:n.state,key:n.key,idx:e}}function Bp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ko(e):e,state:t,key:e&&e.key||r||$C()}}function Za({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ko(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function qC(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let E=p(),T=E==null?null:E-h;h=E,d&&d({action:c,location:x.location,delta:T})}function v(E,T){c="PUSH";let O=Bp(x.location,E,T);h=p()+1;let C=xb(O,h),z=x.createHref(O);try{l.pushState(C,"",z)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(z)}o&&d&&d({action:c,location:x.location,delta:1})}function b(E,T){c="REPLACE";let O=Bp(x.location,E,T);h=p();let C=xb(O,h),z=x.createHref(O);l.replaceState(C,"",z),o&&d&&d({action:c,location:x.location,delta:0})}function S(E){return VC(E)}let x={get action(){return c},get location(){return n(s,l)},listen(E){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(wb,g),d=E,()=>{s.removeEventListener(wb,g),d=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let T=S(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:b,go(E){return l.go(E)}};return x}function VC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),We(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Za(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function V1(n,e,t="/"){return FC(n,e,t,!1)}function FC(n,e,t,r){let s=typeof e=="string"?ko(e):e,o=br(s.pathname||"/",t);if(o==null)return null;let l=F1(n);KC(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=r_(o);c=t_(l[d],h,r)}return c}function F1(n,e=[],t=[],r=""){let s=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(We(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=gr([r,d.relativePath]),p=t.concat(d);o.children&&o.children.length>0&&(We(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),F1(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:ZC(h,o.index),routesMeta:p})};return n.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))s(o,l);else for(let c of K1(o.path))s(o,l,c)}),e}function K1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=K1(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),s&&c.push(...l),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function KC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:e_(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var GC=/^:[\w-]+$/,WC=3,YC=2,XC=1,JC=10,QC=-2,Eb=n=>n==="*";function ZC(n,e){let t=n.split("/"),r=t.length;return t.some(Eb)&&(r+=QC),e&&(r+=YC),t.filter(s=>!Eb(s)).reduce((s,o)=>s+(GC.test(o)?WC:o===""?XC:JC),r)}function e_(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function t_(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=dc({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),v=d.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=dc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:gr([o,g.pathname]),pathnameBase:a_(gr([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=gr([o,g.pathnameBase]))}return l}function dc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=n_(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let S=c[v]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const b=c[v];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:n}}function n_(n,e=!1,t=!0){$n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function r_(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function br(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function i_(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ko(n):n;return{pathname:t?t.startsWith("/")?t:s_(t,e):e,search:l_(r),hash:u_(s)}}function s_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Fh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function G1(n){let e=o_(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function W1(n,e,t,r=!1){let s;typeof n=="string"?s=ko(n):(s={...n},We(!s.pathname||!s.pathname.includes("?"),Fh("?","pathname","search",s)),We(!s.pathname||!s.pathname.includes("#"),Fh("#","pathname","hash",s)),We(!s.search||!s.search.includes("#"),Fh("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}c=g>=0?e[g]:"/"}let d=i_(s,c),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var gr=n=>n.join("/").replace(/\/\/+/g,"/"),a_=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),l_=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,u_=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function c_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Y1=["POST","PUT","PATCH","DELETE"];new Set(Y1);var f_=["GET",...Y1];new Set(f_);var Co=B.createContext(null);Co.displayName="DataRouter";var sf=B.createContext(null);sf.displayName="DataRouterState";B.createContext(!1);var X1=B.createContext({isTransitioning:!1});X1.displayName="ViewTransition";var d_=B.createContext(new Map);d_.displayName="Fetchers";var h_=B.createContext(null);h_.displayName="Await";var Fn=B.createContext(null);Fn.displayName="Navigation";var hl=B.createContext(null);hl.displayName="Location";var Kn=B.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var Em=B.createContext(null);Em.displayName="RouteError";function p_(n,{relative:e}={}){We(pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=B.useContext(Fn),{hash:s,pathname:o,search:l}=gl(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:gr([t,o])),r.createHref({pathname:c,search:l,hash:s})}function pl(){return B.useContext(hl)!=null}function ss(){return We(pl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(hl).location}var J1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q1(n){B.useContext(Fn).static||B.useLayoutEffect(n)}function ml(){let{isDataRoute:n}=B.useContext(Kn);return n?__():m_()}function m_(){We(pl(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Co),{basename:e,navigator:t}=B.useContext(Fn),{matches:r}=B.useContext(Kn),{pathname:s}=ss(),o=JSON.stringify(G1(r)),l=B.useRef(!1);return Q1(()=>{l.current=!0}),B.useCallback((d,h={})=>{if($n(l.current,J1),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=W1(d,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:gr([e,p.pathname])),(h.replace?t.replace:t.push)(p,h.state,h)},[e,t,o,s,n])}B.createContext(null);function Z1(){let{matches:n}=B.useContext(Kn),e=n[n.length-1];return e?e.params:{}}function gl(n,{relative:e}={}){let{matches:t}=B.useContext(Kn),{pathname:r}=ss(),s=JSON.stringify(G1(t));return B.useMemo(()=>W1(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function g_(n,e){return ew(n,e)}function ew(n,e,t,r){We(pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(Fn),{matches:o}=B.useContext(Kn),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let T=p&&p.path||"";tw(d,!p||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=ss(),v;if(e){let T=typeof e=="string"?ko(e):e;We(h==="/"||T.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=g;let b=v.pathname||"/",S=b;if(h!=="/"){let T=h.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=V1(n,{pathname:S});$n(p||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),$n(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=w_(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:gr([h,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:gr([h,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,t,r);return e&&E?B.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function y_(){let n=C_(),e=c_(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,l)}var v_=B.createElement(y_,null),b_=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Kn.Provider,{value:this.props.routeContext},B.createElement(Em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function S_({routeContext:n,match:e,children:t}){let r=B.useContext(Co);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Kn.Provider,{value:n},t)}function w_(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);We(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:g}=t,v=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let g,v=!1,b=null,S=null;t&&(g=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||v_,l&&(c<0&&p===0?(tw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):c===p&&(v=!0,S=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,p+1)),E=()=>{let T;return g?T=b:v?T=S:h.route.Component?T=B.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,B.createElement(S_,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?B.createElement(b_,{location:t.location,revalidation:t.revalidation,component:b,error:g,children:E(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):E()},null)}function Tm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x_(n){let e=B.useContext(Co);return We(e,Tm(n)),e}function E_(n){let e=B.useContext(sf);return We(e,Tm(n)),e}function T_(n){let e=B.useContext(Kn);return We(e,Tm(n)),e}function km(n){let e=T_(n),t=e.matches[e.matches.length-1];return We(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function k_(){return km("useRouteId")}function C_(){let n=B.useContext(Em),e=E_("useRouteError"),t=km("useRouteError");return n!==void 0?n:e.errors?.[t]}function __(){let{router:n}=x_("useNavigate"),e=km("useNavigate"),t=B.useRef(!1);return Q1(()=>{t.current=!0}),B.useCallback(async(s,o={})=>{$n(t.current,J1),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Tb={};function tw(n,e,t){!e&&!Tb[n]&&(Tb[n]=!0,$n(!1,t))}B.memo(O_);function O_({routes:n,future:e,state:t}){return ew(n,void 0,t,e)}function La(n){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M_({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){We(!pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof t=="string"&&(t=ko(t));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:v="default"}=t,b=B.useMemo(()=>{let S=br(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:v},navigationType:r}},[l,d,h,p,g,v,r]);return $n(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:B.createElement(Fn.Provider,{value:c},B.createElement(hl.Provider,{children:e,value:b}))}function A_({children:n,location:e}){return g_(jp(n),e)}function jp(n,e=[]){let t=[];return B.Children.forEach(n,(r,s)=>{if(!B.isValidElement(r))return;let o=[...e,s];if(r.type===B.Fragment){t.push.apply(t,jp(r.props.children,o));return}We(r.type===La,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=jp(r.props.children,o)),t.push(l)}),t}var sc="get",oc="application/x-www-form-urlencoded";function of(n){return n!=null&&typeof n.tagName=="string"}function R_(n){return of(n)&&n.tagName.toLowerCase()==="button"}function D_(n){return of(n)&&n.tagName.toLowerCase()==="form"}function N_(n){return of(n)&&n.tagName.toLowerCase()==="input"}function z_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function L_(n,e){return n.button===0&&(!e||e==="_self")&&!z_(n)}var Pu=null;function B_(){if(Pu===null)try{new FormData(document.createElement("form"),0),Pu=!1}catch{Pu=!0}return Pu}var j_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kh(n){return n!=null&&!j_.has(n)?($n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):n}function P_(n,e){let t,r,s,o,l;if(D_(n)){let c=n.getAttribute("action");r=c?br(c,e):null,t=n.getAttribute("method")||sc,s=Kh(n.getAttribute("enctype"))||oc,o=new FormData(n)}else if(R_(n)||N_(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?br(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||sc,s=Kh(n.getAttribute("formenctype"))||Kh(c.getAttribute("enctype"))||oc,o=new FormData(c,n),!B_()){let{name:h,type:p,value:g}=n;if(p==="image"){let v=h?`${h}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else h&&o.append(h,g)}}else{if(of(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sc,r=null,s=oc,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function U_(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&br(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function H_(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function I_(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $_(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let l=await H_(o,t);return l.links?l.links():[]}return[]}));return K_(r.flat(1).filter(I_).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function kb(n,e,t,r,s,o){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,c=(d,h)=>t[h].pathname!==d.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function q_(n,e,{includeHydrateFallback:t}={}){return V_(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function V_(n){return[...new Set(n)]}function F_(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function K_(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(F_(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function nw(){let n=B.useContext(Co);return Cm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function G_(){let n=B.useContext(sf);return Cm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _m=B.createContext(void 0);_m.displayName="FrameworkContext";function rw(){let n=B.useContext(_m);return Cm(n,"You must render this element inside a <HydratedRouter> element"),n}function W_(n,e){let t=B.useContext(_m),[r,s]=B.useState(!1),[o,l]=B.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=B.useRef(null);B.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let x=T=>{T.forEach(O=>{l(O.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[n]),B.useEffect(()=>{if(r){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[r]);let b=()=>{s(!0)},S=()=>{s(!1),l(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Oa(c,b),onBlur:Oa(d,S),onMouseEnter:Oa(h,b),onMouseLeave:Oa(p,S),onTouchStart:Oa(g,b)}]:[!1,v,{}]}function Oa(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Y_({page:n,...e}){let{router:t}=nw(),r=B.useMemo(()=>V1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?B.createElement(J_,{page:n,matches:r,...e}):null}function X_(n){let{manifest:e,routeModules:t}=rw(),[r,s]=B.useState([]);return B.useEffect(()=>{let o=!1;return $_(n,e,t).then(l=>{o||s(l)}),()=>{o=!0}},[n,e,t]),r}function J_({page:n,matches:e,...t}){let r=ss(),{manifest:s,routeModules:o}=rw(),{basename:l}=nw(),{loaderData:c,matches:d}=G_(),h=B.useMemo(()=>kb(n,e,d,s,r,"data"),[n,e,d,s,r]),p=B.useMemo(()=>kb(n,e,d,s,r,"assets"),[n,e,d,s,r]),g=B.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(e.forEach(T=>{let O=s.routes[T.route.id];!O||!O.hasLoader||(!h.some(C=>C.route.id===T.route.id)&&T.route.id in c&&o[T.route.id]?.shouldRevalidate||O.hasClientLoader?x=!0:S.add(T.route.id))}),S.size===0)return[];let E=U_(n,l,"data");return x&&S.size>0&&E.searchParams.set("_routes",e.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[l,c,r,s,h,e,n,o]),v=B.useMemo(()=>q_(p,s),[p,s]),b=X_(p);return B.createElement(B.Fragment,null,g.map(S=>B.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>B.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),b.map(({key:S,link:x})=>B.createElement("link",{key:S,...x})))}function Q_(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iw&&(window.__reactRouterVersion="7.7.0")}catch{}function Z_({basename:n,children:e,window:t}){let r=B.useRef();r.current==null&&(r.current=IC({window:t,v5Compat:!0}));let s=r.current,[o,l]=B.useState({action:s.action,location:s.location}),c=B.useCallback(d=>{B.startTransition(()=>l(d))},[l]);return B.useLayoutEffect(()=>s.listen(c),[s,c]),B.createElement(M_,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var sw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ow=B.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:c,target:d,to:h,preventScrollReset:p,viewTransition:g,...v},b){let{basename:S}=B.useContext(Fn),x=typeof h=="string"&&sw.test(h),E,T=!1;if(typeof h=="string"&&x&&(E=h,iw))try{let q=new URL(window.location.href),Y=h.startsWith("//")?new URL(q.protocol+h):new URL(h),fe=br(Y.pathname,S);Y.origin===q.origin&&fe!=null?h=fe+Y.search+Y.hash:T=!0}catch{$n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=p_(h,{relative:s}),[C,z,N]=W_(r,v),j=rO(h,{replace:l,state:c,target:d,preventScrollReset:p,relative:s,viewTransition:g});function _(q){e&&e(q),q.defaultPrevented||j(q)}let R=B.createElement("a",{...v,...N,href:E||O,onClick:T||o?e:_,ref:Q_(b,z),target:d,"data-discover":!x&&t==="render"?"true":void 0});return C&&!x?B.createElement(B.Fragment,null,R,B.createElement(Y_,{page:O})):R});ow.displayName="Link";var eO=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:c,children:d,...h},p){let g=gl(l,{relative:h.relative}),v=ss(),b=B.useContext(sf),{navigator:S,basename:x}=B.useContext(Fn),E=b!=null&&lO(g)&&c===!0,T=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,O=v.pathname,C=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(O=O.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&x&&(C=br(C,x)||C);const z=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let N=O===T||!s&&O.startsWith(T)&&O.charAt(z)==="/",j=C!=null&&(C===T||!s&&C.startsWith(T)&&C.charAt(T.length)==="/"),_={isActive:N,isPending:j,isTransitioning:E},R=N?e:void 0,q;typeof r=="function"?q=r(_):q=[r,N?"active":null,j?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(_):o;return B.createElement(ow,{...h,"aria-current":R,className:q,ref:p,style:Y,to:l,viewTransition:c},typeof d=="function"?d(_):d)});eO.displayName="NavLink";var tO=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:l=sc,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:g,...v},b)=>{let S=oO(),x=aO(c,{relative:h}),E=l.toLowerCase()==="get"?"get":"post",T=typeof c=="string"&&sw.test(c),O=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let z=C.nativeEvent.submitter,N=z?.getAttribute("formmethod")||l;S(z||C.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:s,state:o,relative:h,preventScrollReset:p,viewTransition:g})};return B.createElement("form",{ref:b,method:E,action:x,onSubmit:r?d:O,...v,"data-discover":!T&&n==="render"?"true":void 0})});tO.displayName="Form";function nO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aw(n){let e=B.useContext(Co);return We(e,nO(n)),e}function rO(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=ml(),d=ss(),h=gl(n,{relative:o});return B.useCallback(p=>{if(L_(p,e)){p.preventDefault();let g=t!==void 0?t:Za(d)===Za(h);c(n,{replace:g,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,h,t,r,e,n,s,o,l])}var iO=0,sO=()=>`__${String(++iO)}__`;function oO(){let{router:n}=aw("useSubmit"),{basename:e}=B.useContext(Fn),t=k_();return B.useCallback(async(r,s={})=>{let{action:o,method:l,encType:c,formData:d,body:h}=P_(r,e);if(s.navigate===!1){let p=s.fetcherKey||sO();await n.fetch(p,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function aO(n,{relative:e}={}){let{basename:t}=B.useContext(Fn),r=B.useContext(Kn);We(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...gl(n||".",{relative:e})},l=ss();if(n==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:gr([t,o.pathname])),Za(o)}function lO(n,e={}){let t=B.useContext(X1);We(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=aw("useViewTransitionState"),s=gl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=br(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=br(t.nextLocation.pathname,r)||t.nextLocation.pathname;return dc(s.pathname,l)!=null||dc(s.pathname,o)!=null}var Om=rf();const uO=dl(Om);function cO(){const n=ml(),e=()=>{n("/")};return J.jsxs("header",{className:"header",children:[J.jsx("h1",{onClick:e,style:{cursor:"pointer"},children:"My Development Log"}),J.jsxs("nav",{children:[J.jsx("a",{href:"/",children:"Home"}),J.jsx("a",{href:"/",children:"Posts"}),J.jsx("a",{href:"/contents",children:"write"})]})]})}function fO(){return J.jsx("footer",{className:"footer",children:J.jsx("p",{children:"© 2025 My Blog. All rights reserved."})})}const dO="modulepreload",hO=function(n){return"/Development-log/"+n},Cb={},yl=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let h=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var l=h;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");s=h(t.map(p=>{if(p=hO(p),p in Cb)return;Cb[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":dO,g||(b.as="script"),b.crossOrigin="",b.href=p,d&&b.setAttribute("nonce",d),document.head.appendChild(b),g)return new Promise((S,x)=>{b.addEventListener("load",S),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return s.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},pO=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>yl(async()=>{const{default:r}=await Promise.resolve().then(()=>_o);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Mm extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class mO extends Mm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _b extends Mm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ob extends Mm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Pp;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Pp||(Pp={}));var gO=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(g){l(g)}}function d(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class yO{constructor(e,{headers:t={},customFetch:r,region:s=Pp.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=pO(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return gO(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=t;let c={},{region:d}=t;d||(d=this.region);const h=new URL(`${this.url}/${e}`);d&&d!=="any"&&(c["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let p;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(c["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(c["Content-Type"]="application/json",p=JSON.stringify(l)));const g=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:p}).catch(x=>{throw new mO(x)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new _b(g);if(!g.ok)throw new Ob(g);let b=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),S;return b==="application/json"?S=yield g.json():b==="application/octet-stream"?S=yield g.blob():b==="text/event-stream"?S=g:b==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(s){return{data:null,error:s,response:s instanceof Ob||s instanceof _b?s.context:void 0}}})}}var gt={},Ws={},Ys={},Xs={},Js={},Qs={},vO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yo=vO();const bO=yo.fetch,lw=yo.fetch.bind(yo),uw=yo.Headers,SO=yo.Request,wO=yo.Response,_o=Object.freeze(Object.defineProperty({__proto__:null,Headers:uw,Request:SO,Response:wO,default:lw,fetch:bO},Symbol.toStringTag,{value:"Module"})),xO=q1(_o);var Uu={},Mb;function cw(){if(Mb)return Uu;Mb=1,Object.defineProperty(Uu,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Uu.default=n,Uu}var Ab;function fw(){if(Ab)return Qs;Ab=1;var n=Qs&&Qs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qs,"__esModule",{value:!0});const e=n(xO),t=n(cw());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,g,v;let b=null,S=null,x=null,E=h.status,T=h.statusText;if(h.ok){if(this.method!=="HEAD"){const N=await h.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?S=N:S=JSON.parse(N))}const C=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),z=(g=h.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");C&&z&&z.length>1&&(x=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(b={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,x=null,E=406,T="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const C=await h.text();try{b=JSON.parse(C),Array.isArray(b)&&h.status===404&&(S=[],b=null,E=200,T="OK")}catch{h.status===404&&C===""?(E=204,T="No Content"):b={message:C}}if(b&&this.isMaybeSingle&&(!((v=b?.details)===null||v===void 0)&&v.includes("0 rows"))&&(b=null,E=200,T="OK"),b&&this.shouldThrowOnError)throw new t.default(b)}return{error:b,data:S,count:x,status:E,statusText:T}});return this.shouldThrowOnError||(d=d.catch(h=>{var p,g,v;return{error:{message:`${(p=h?.name)!==null&&p!==void 0?p:"FetchError"}: ${h?.message}`,details:`${(g=h?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=h?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Qs.default=r,Qs}var Rb;function dw(){if(Rb)return Js;Rb=1;var n=Js&&Js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Js,"__esModule",{value:!0});const e=n(fw());class t extends e.default{select(s){let o=!1;const l=(s??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"offset":`${c}.offset`,h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(h,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:c=!1,wal:d=!1,format:h="text"}={}){var p;const g=[s?"analyze":null,o?"verbose":null,l?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${v}"; options=${g};`,h==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Js.default=t,Js}var Db;function Am(){if(Db)return Xs;Db=1;var n=Xs&&Xs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xs,"__esModule",{value:!0});const e=n(dw());class t extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${d}fts${h}.${o}`),this}match(s){return Object.entries(s).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(s,o,l){return this.url.searchParams.append(s,`not.${o}.${l}`),this}or(s,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${s})`),this}filter(s,o,l){return this.url.searchParams.append(s,`${o}.${l}`),this}}return Xs.default=t,Xs}var Nb;function hw(){if(Nb)return Ys;Nb=1;var n=Ys&&Ys.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ys,"__esModule",{value:!0});const e=n(Am());class t{constructor(s,{headers:o={},schema:l,fetch:c}){this.url=s,this.headers=o,this.schema=l,this.fetch=c}select(s,{head:o=!1,count:l}={}){const c=o?"HEAD":"GET";let d=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:o,defaultToNull:l=!0}={}){const c="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(s)){const h=s.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:c,defaultToNull:d=!0}={}){const h="POST",p=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),d||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(s)){const g=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(g.length>0){const v=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:o}={}){const l="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),o&&c.push(`count=${o}`),this.headers.Prefer=c.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const o="DELETE",l=[];return s&&l.push(`count=${s}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ys.default=t,Ys}var Ma={},Aa={},zb;function EO(){return zb||(zb=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.version=void 0,Aa.version="0.0.0-automated"),Aa}var Lb;function TO(){if(Lb)return Ma;Lb=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.DEFAULT_HEADERS=void 0;const n=EO();return Ma.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Ma}var Bb;function kO(){if(Bb)return Ws;Bb=1;var n=Ws&&Ws.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ws,"__esModule",{value:!0});const e=n(hw()),t=n(Am()),r=TO();class s{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),c),this.schemaName=d,this.fetch=h}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:p}={}){let g;const v=new URL(`${this.url}/rpc/${l}`);let b;d||h?(g=d?"HEAD":"GET",Object.entries(c).filter(([x,E])=>E!==void 0).map(([x,E])=>[x,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([x,E])=>{v.searchParams.append(x,E)})):(g="POST",b=c);const S=Object.assign({},this.headers);return p&&(S.Prefer=`count=${p}`),new t.default({method:g,url:v,headers:S,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return Ws.default=s,Ws}var jb;function CO(){if(jb)return gt;jb=1;var n=gt&&gt.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(gt,"__esModule",{value:!0}),gt.PostgrestError=gt.PostgrestBuilder=gt.PostgrestTransformBuilder=gt.PostgrestFilterBuilder=gt.PostgrestQueryBuilder=gt.PostgrestClient=void 0;const e=n(kO());gt.PostgrestClient=e.default;const t=n(hw());gt.PostgrestQueryBuilder=t.default;const r=n(Am());gt.PostgrestFilterBuilder=r.default;const s=n(dw());gt.PostgrestTransformBuilder=s.default;const o=n(fw());gt.PostgrestBuilder=o.default;const l=n(cw());return gt.PostgrestError=l.default,gt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:l.default},gt}var _O=CO();const OO=dl(_O),{PostgrestClient:MO,PostgrestQueryBuilder:qB,PostgrestFilterBuilder:VB,PostgrestTransformBuilder:FB,PostgrestBuilder:KB,PostgrestError:GB}=OO;function AO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const RO=AO(),DO="2.11.15",NO=`realtime-js/${DO}`,zO="1.0.0",pw=1e4,LO=1e3;var Ia;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ia||(Ia={}));var Rt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Rt||(Rt={}));var Cn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Cn||(Cn={}));var Up;(function(n){n.websocket="websocket"})(Up||(Up={}));var Ii;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ii||(Ii={}));class BO{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class mw{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(He||(He={}));const Pb=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,l)=>(o[l]=jO(l,n,e,s),o),{})},jO=(n,e,t,r)=>{const s=e.find(c=>c.name===n),o=s?.type,l=t[n];return o&&!r.includes(o)?gw(o,l):Hp(l)},gw=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return IO(e,t)}switch(n){case He.bool:return PO(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return UO(e);case He.json:case He.jsonb:return HO(e);case He.timestamp:return $O(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Hp(e);default:return Hp(e)}},Hp=n=>n,PO=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},UO=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},HO=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},IO=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(c=>gw(e,c))}return n},$O=n=>typeof n=="string"?n.replace(" ","T"):n,yw=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Gh{constructor(e,t,r={},s=pw){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ub;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Ub||(Ub={}));class $a{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$a.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=$a.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$a.syncDiff(this.state,s,o,l),c())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const o=this.cloneDeep(e),l=this.transformState(t),c={},d={};return this.map(o,(h,p)=>{l[h]||(d[h]=p)}),this.map(l,(h,p)=>{const g=o[h];if(g){const v=p.map(E=>E.presence_ref),b=g.map(E=>E.presence_ref),S=p.filter(E=>b.indexOf(E.presence_ref)<0),x=g.filter(E=>v.indexOf(E.presence_ref)<0);S.length>0&&(c[h]=S),x.length>0&&(d[h]=x)}else c[h]=p}),this.syncDiff(o,{joins:c,leaves:d},r,s)}static syncDiff(e,t,r,s){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(c,d)=>{var h;const p=(h=e[c])!==null&&h!==void 0?h:[];if(e[c]=this.cloneDeep(d),p.length>0){const g=e[c].map(b=>b.presence_ref),v=p.filter(b=>g.indexOf(b.presence_ref)<0);e[c].unshift(...v)}r(c,p,d)}),this.map(l,(c,d)=>{let h=e[c];if(!h)return;const p=d.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),e[c]=h,s(c,h,d),h.length===0&&delete e[c]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hb;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Hb||(Hb={}));var Ib;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Ib||(Ib={}));var hr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(hr||(hr={}));class Rm{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Gh(this,Cn.join,this.params,this.timeout),this.rejoinTimer=new mw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new $a(this),this.broadcastEndpointURL=yw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params;this._onError(p=>e?.(hr.CHANNEL_ERROR,p)),this._onClose(()=>e?.(hr.CLOSED));const d={},h={broadcast:o,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e?.(hr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(g=v?.length)!==null&&g!==void 0?g:0,S=[];for(let x=0;x<b;x++){const E=v[x],{filter:{event:T,schema:O,table:C,filter:z}}=E,N=p&&p[x];if(N&&N.event===T&&N.schema===O&&N.table===C&&N.filter===z)S.push(Object.assign(Object.assign({},E),{id:N.id}));else{this.unsubscribe(),this.state=Rt.errored,e?.(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(hr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Rt.errored,e?.(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,c,d;const h=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Rt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Gh(this,Cn.leave,{},e),r.receive("ok",()=>{t(),s("ok")}).receive("timeout",()=>{t(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gh(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,o;const l=e.toLocaleLowerCase(),{close:c,error:d,leave:h,join:p}=Cn;if(r&&[c,d,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var S,x,E;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((E=(x=b.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(b=>b.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var S,x,E,T,O,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const z=b.id,N=(S=b.filter)===null||S===void 0?void 0:S.event;return z&&((x=t.ids)===null||x===void 0?void 0:x.includes(z))&&(N==="*"||N?.toLocaleLowerCase()===((E=t.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const z=(O=(T=b?.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return z==="*"||z===((C=t?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:x,table:E,commit_timestamp:T,type:O,errors:C}=S;v=Object.assign(Object.assign({},{schema:x,table:E,commit_timestamp:T,eventType:O,new:{},old:{},errors:C}),this._getPayloadRecords(S))}b.callback(v,r)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Rm.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cn.close,{},e)}_onError(e){this._on(Cn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Pb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Pb(e.columns,e.old_record)),t}}const $b=()=>{},qO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VO{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pw,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$b,this.ref=0,this.logger=$b,this.conn=null,this.sendBuffer=[],this.serializer=new BO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>yl(async()=>{const{default:d}=await Promise.resolve().then(()=>_o);return{default:d}},void 0).then(({default:d})=>d(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${e}/${Up.websocket}`,this.httpEndpoint=yw(e),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,l)=>l(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new mw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=RO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zO}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ia.connecting:return Ii.Connecting;case Ia.open:return Ii.Open;case Ia.closing:return Ii.Closing;default:return Ii.Closed}}isConnected(){return this.connectionState()===Ii.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Rm(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:r,payload:s,ref:o}=e,l=()=>{this.encode(e,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${t} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const s={access_token:t,version:NO};t&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Cn.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(LO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:o,ref:l}=t;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,o),Array.from(this.channels).filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,o,l)),this.stateChangeCallbacks.message.forEach(c=>c(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([qO],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class Dm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function yt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class FO extends Dm{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ip extends Dm{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var KO=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(g){l(g)}}function d(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};const vw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>yl(async()=>{const{default:r}=await Promise.resolve().then(()=>_o);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},GO=()=>KO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yl(()=>Promise.resolve().then(()=>_o),void 0)).Response:Response}),$p=n=>{if(Array.isArray(n))return n.map(t=>$p(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=$p(r)}),e};var as=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(g){l(g)}}function d(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};const Wh=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),WO=(n,e,t)=>as(void 0,void 0,void 0,function*(){const r=yield GO();n instanceof r&&!t?.noResolveJson?n.json().then(s=>{e(new FO(Wh(s),n.status||500))}).catch(s=>{e(new Ip(Wh(s),s))}):e(new Ip(Wh(n),n))}),YO=(n,e,t,r)=>{const s={method:n,headers:e?.headers||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),t))};function vl(n,e,t,r,s,o){return as(this,void 0,void 0,function*(){return new Promise((l,c)=>{n(t,YO(e,r,s,o)).then(d=>{if(!d.ok)throw d;return r?.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>WO(d,c,r))})})}function hc(n,e,t,r){return as(this,void 0,void 0,function*(){return vl(n,"GET",e,t,r)})}function Qr(n,e,t,r,s){return as(this,void 0,void 0,function*(){return vl(n,"POST",e,r,s,t)})}function XO(n,e,t,r,s){return as(this,void 0,void 0,function*(){return vl(n,"PUT",e,r,s,t)})}function JO(n,e,t,r){return as(this,void 0,void 0,function*(){return vl(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function bw(n,e,t,r,s){return as(this,void 0,void 0,function*(){return vl(n,"DELETE",e,r,s,t)})}var Ft=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(g){l(g)}}function d(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};const QO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZO{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=vw(s)}uploadOrUpdate(e,t,r,s){return Ft(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},qb),s);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s?.headers&&(c=Object.assign(Object.assign({},c),s.headers));const h=this._removeEmptyFolders(t),p=this._getFinalPath(h),g=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:e,body:o,headers:c},l?.duplex?{duplex:l.duplex}:{})),v=yield g.json();return g.ok?{data:{path:h,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(yt(o))return{data:null,error:o};throw o}})}upload(e,t,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return Ft(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let d;const h=Object.assign({upsert:qb.upsert},s),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const g=yield this.fetch(c.toString(),{method:"PUT",body:d,headers:p}),v=yield g.json();return g.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(d){if(yt(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return Ft(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t?.upsert&&(s["x-upsert"]="true");const o=yield Qr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+o.url),c=l.searchParams.get("token");if(!c)throw new Dm("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}update(e,t,r){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Ft(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}copy(e,t,r){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Qr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Qr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return Ft(this,void 0,void 0,function*(){try{const s=yield Qr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}download(e,t){return Ft(this,void 0,void 0,function*(){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),l=o?`?${o}`:"";try{const c=this._getFinalPath(e);return{data:yield(yield hc(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(yt(c))return{data:null,error:c};throw c}})}info(e){return Ft(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield hc(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:$p(r),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}exists(e){return Ft(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield JO(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(yt(r)&&r instanceof Ip){const s=r.originalError;if([400,404].includes(s?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const c=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&s.push(d);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}remove(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield bw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}list(e,t,r){return Ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},QO),t),{prefix:e||""});return{data:yield Qr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const eM="2.7.1",tM={"X-Client-Info":`storage-js/${eM}`};var Zs=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(g){l(g)}}function d(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class nM{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},tM),t),this.fetch=vw(r)}listBuckets(){return Zs(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(yt(e))return{data:null,error:e};throw e}})}getBucket(e){return Zs(this,void 0,void 0,function*(){try{return{data:yield hc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Zs(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Zs(this,void 0,void 0,function*(){try{return{data:yield XO(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Zs(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Zs(this,void 0,void 0,function*(){try{return{data:yield bw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}}class rM extends nM{constructor(e,t={},r){super(e,t,r)}from(e){return new ZO(this.url,this.headers,e,this.fetch)}}const iM="2.52.0";let Ba="";typeof Deno<"u"?Ba="deno":typeof document<"u"?Ba="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ba="react-native":Ba="node";const sM={"X-Client-Info":`supabase-js-${Ba}/${iM}`},oM={headers:sM},aM={schema:"public"},lM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uM={};var cM=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(g){l(g)}}function d(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};const fM=n=>{let e;return n?e=n:typeof fetch>"u"?e=lw:e=fetch,(...t)=>e(...t)},dM=()=>typeof Headers>"u"?uw:Headers,hM=(n,e,t)=>{const r=fM(t),s=dM();return(o,l)=>cM(void 0,void 0,void 0,function*(){var c;const d=(c=yield e())!==null&&c!==void 0?c:n;let h=new s(l?.headers);return h.has("apikey")||h.set("apikey",n),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:h}))})};var pM=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(g){l(g)}}function d(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};function mM(n){return n.endsWith("/")?n:n+"/"}function gM(n,e){var t,r;const{db:s,auth:o,realtime:l,global:c}=n,{db:d,auth:h,realtime:p,global:g}=e,v={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},p),l),global:Object.assign(Object.assign(Object.assign({},g),c),{headers:Object.assign(Object.assign({},(t=g?.headers)!==null&&t!==void 0?t:{}),(r=c?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>pM(this,void 0,void 0,function*(){return""})};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}const Sw="2.71.1",ao=30*1e3,qp=3,Yh=qp*ao,yM="http://localhost:9999",vM="supabase.auth.token",bM={"X-Client-Info":`gotrue-js/${Sw}`},Vp="X-Supabase-Api-Version",ww={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wM=600*1e3;class Nm extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function me(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class xM extends Nm{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function EM(n){return me(n)&&n.name==="AuthApiError"}class xw extends Nm{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class mi extends Nm{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class Xr extends mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TM(n){return me(n)&&n.name==="AuthSessionMissingError"}class Hu extends mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Iu extends mi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $u extends mi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kM(n){return me(n)&&n.name==="AuthImplicitGrantRedirectError"}class Vb extends mi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fp extends mi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Xh(n){return me(n)&&n.name==="AuthRetryableFetchError"}class Fb extends mi{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Kp extends mi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kb=` 	
\r=`.split(""),CM=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Kb.length;e+=1)n[Kb[e].charCodeAt(0)]=-2;for(let e=0;e<pc.length;e+=1)n[pc[e].charCodeAt(0)]=e;return n})();function Gb(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(pc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(pc[r]),e.queuedBits-=6}}function Ew(n,e,t){const r=CM[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Wb(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{MM(l,r,t)};for(let l=0;l<n.length;l+=1)Ew(n.charCodeAt(l),s,o);return e.join("")}function _M(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function OM(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}_M(r,e)}}function MM(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function AM(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)Ew(n.charCodeAt(s),t,r);return new Uint8Array(e)}function RM(n){const e=[];return OM(n,t=>e.push(t)),new Uint8Array(e)}function DM(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};return n.forEach(s=>Gb(s,t,r)),Gb(null,t,r),e.join("")}function NM(n){return Math.round(Date.now()/1e3)+n}function zM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const kn=()=>typeof window<"u"&&typeof document<"u",ji={tested:!1,writable:!1},Tw=()=>{if(!kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ji.tested)return ji.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ji.tested=!0,ji.writable=!0}catch{ji.tested=!0,ji.writable=!1}return ji.writable};function LM(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const kw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>yl(async()=>{const{default:r}=await Promise.resolve().then(()=>_o);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},BM=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",lo=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Pi=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Kr=async(n,e)=>{await n.removeItem(e)};class af{constructor(){this.promise=new af.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}af.promiseConstructor=Promise;function Jh(n){const e=n.split(".");if(e.length!==3)throw new Kp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!SM.test(e[r]))throw new Kp("JWT not in base64url format");return{header:JSON.parse(Wb(e[0])),payload:JSON.parse(Wb(e[1])),signature:AM(e[2]),raw:{header:e[0],payload:e[1]}}}async function jM(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function PM(n,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await n(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function UM(n){return("0"+n.toString(16)).substr(-2)}function HM(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,UM).join("")}async function IM(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function $M(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await IM(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function eo(n,e,t=!1){const r=HM();let s=r;t&&(s+="/PASSWORD_RECOVERY"),await lo(n,`${e}-code-verifier`,s);const o=await $M(r);return[o,r===o?"plain":"s256"]}const qM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VM(n){const e=n.headers.get(Vp);if(!e||!e.match(qM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function FM(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function KM(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function to(n){if(!GM.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qh(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yb(n){return JSON.parse(JSON.stringify(n))}var WM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const Hi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),YM=[502,503,504];async function Xb(n){var e;if(!BM(n))throw new Fp(Hi(n),0);if(YM.includes(n.status))throw new Fp(Hi(n),n.status);let t;try{t=await n.json()}catch(o){throw new xw(Hi(o),o)}let r;const s=VM(n);if(s&&s.getTime()>=ww["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Fb(Hi(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Xr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Fb(Hi(t),n.status,t.weak_password.reasons);throw new xM(Hi(t),n.status||500,r)}const XM=(n,e,t,r)=>{const s={method:n,headers:e?.headers||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};async function Ee(n,e,t,r){var s;const o=Object.assign({},r?.headers);o[Vp]||(o[Vp]=ww["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await JM(n,e,t+c,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function JM(n,e,t,r,s,o){const l=XM(e,r,s,o);let c;try{c=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new Fp(Hi(d),0)}if(c.ok||await Xb(c),r?.noResolveJson)return c;try{return await c.json()}catch(d){await Xb(d)}}function fr(n){var e;let t=null;tA(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=NM(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Jb(n){const e=fr(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ni(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function QM(n){return{data:n,error:null}}function ZM(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:o}=n,l=WM(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function eA(n){return n}function tA(n){return n.access_token&&n.refresh_token&&n.expires_in}const Zh=["global","local","others"];var nA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class rA{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=kw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Zh[0]){if(Zh.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zh.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ni})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=nA(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ZM,redirectTo:t?.redirectTo})}catch(t){if(me(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ni})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,o,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:eA});if(p.error)throw p.error;const g=await p.json(),v=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(S.split(";")[1].split("=")[1]);h[`${E}Page`]=x}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(me(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){to(e);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ni})}catch(t){if(me(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){to(e);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ni})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){to(e);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ni})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){to(e.userId);try{const{data:t,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(me(t))return{data:null,error:t};throw t}}async _deleteFactor(e){to(e.userId),to(e.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}}function Qb(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function iA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const no={debug:!!(globalThis&&Tw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sA extends Cw{}async function oA(n,e,t){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),no.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return await t()}finally{no.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw no.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new sA(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(no.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}iA();const aA={url:yM,storageKey:vM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zb(n,e,t){return await t()}const ro={};class el{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=el.nextInstanceID,el.nextInstanceID+=1,this.instanceID>0&&kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},aA),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new rA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=kw(s.fetch),this.lock=s.lock||Zb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:kn()&&(!((t=globalThis?.navigator)===null||t===void 0)&&t.locks)?this.lock=oA:this.lock=Zb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Tw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qb(this.memoryStorage)),kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=ro[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ro[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ro[this.storageKey]=Object.assign(Object.assign({},ro[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=LM(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),kn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),kM(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return me(t)?{error:t}:{error:new xw("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:fr}),{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var t,r,s;try{let o;if("email"in e){const{email:p,password:g,options:v}=e;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await eo(this.storage,this.storageKey)),o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:g,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:S},xform:fr})}else if("phone"in e){const{phone:p,password:g,options:v}=e;o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(s=v?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:fr})}else throw new Iu("You must provide either an email or phone number and a password");const{data:l,error:c}=o;if(c||!l)return{data:{user:null,session:null},error:c};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:l,options:c}=e;t=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Jb})}else if("phone"in e){const{phone:o,password:l,options:c}=e;t=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Jb})}else throw new Iu("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Hu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,s,o,l,c,d,h,p,g,v,b;let S,x;if("message"in e)S=e.message,x=e.signature;else{const{chain:E,wallet:T,statement:O,options:C}=e;let z;if(kn())if(typeof T=="object")z=T;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))z=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=T}const N=new URL((t=C?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in z&&z.signIn){const j=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),O?{statement:O}:null));let _;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")_=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)_=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)S=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),x=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${N.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(r=C?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=C?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((g=(p=C?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...C.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const j=await z.signMessage(new TextEncoder().encode(S),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:E,error:T}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:DM(x)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:fr});if(T)throw T;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Hu}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:T})}catch(E){if(me(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const t=await Pi(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t??"").split("/");try{const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:fr});if(await Kr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Hu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(me(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:o,nonce:l}=e,c=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:fr}),{data:d,error:h}=c;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Hu}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,s,o,l;try{if("email"in e){const{email:c,options:d}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await eo(this.storage,this.storageKey));const{error:g}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:c,options:d}=e,{data:h,error:p}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=d?.data)!==null&&s!==void 0?s:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new Iu("You must provide either an email or phone number.")}catch(c){if(me(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(e){var t,r;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:fr});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,r,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await eo(this.storage,this.storageKey)),await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:QM})}catch(o){if(me(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Xr;const{error:s}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:l}=await Ee(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:l,error:c}=await Ee(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:l?.message_id},error:c}}throw new Iu("You must provide either an email or phone number and a type")}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Pi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Yh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await Pi(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=Qh()}if(this.storage.isServer&&e.user){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,p))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ni}):await this._useSession(async t=>{var r,s,o;const{data:l,error:c}=t;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xr}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ni})})}catch(t){if(me(t))return TM(t)&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Xr;const l=s.session;let c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await eo(this.storage,this.storageKey));const{data:h,error:p}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:ni});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xr;const t=Date.now()/1e3;let r=t,s=!0,o=null;const{payload:l}=Jh(e.access_token);if(l.exp&&(r=l.exp,s=r<=t),s){const{session:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(me(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:c}=t;if(c)throw c;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Xr;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!kn())throw new $u("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $u(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Vb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $u("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Vb("No code detected.");const{data:O,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=e;if(!o||!c||!l||!h)throw new $u("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(c);let v=p+g;d&&(v=parseInt(d));const b=v-p;b*1e3<=ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${g}s`);const S=v-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,p);const{data:x,error:E}=await this._getUser(o);if(E)throw E;const T={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:g,expires_at:v,refresh_token:l,token_type:h,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(r){if(me(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Pi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return{error:o};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,e);if(c&&!(EM(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return e!=="others"&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=zM(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,s;try{const{data:{session:o},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await eo(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(me(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession(async o=>{var l,c,d,h,p;const{data:g,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",b,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return kn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(me(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,s;const{data:o,error:l}=t;if(l)throw l;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await PM(async s=>(s>0&&await jM(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:fr})),(s,o)=>{const l=200*Math.pow(2,s);return o&&Xh(o)&&Date.now()+l-r<ao})}catch(r){if(this._debug(t,"error",r),me(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),kn()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Pi(this.storage,this.storageKey);if(s&&this.userStorage){let l=await Pi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await lo(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l?.user)!==null&&e!==void 0?e:Qh()}else if(s&&!s.user&&!s.user){const l=await Pi(this.storage,this.storageKey+"-user");l&&l?.user?(s.user=l.user,await Kr(this.storage,this.storageKey+"-user"),await lo(this.storage,this.storageKey,s)):s.user=Qh()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((t=s.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Yh;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Yh}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),Xh(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(s.access_token);!c&&l?.user?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new af;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Xr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),me(o)){const l={session:null,error:o};return Xh(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await lo(this.userStorage,this.storageKey+"-user",{user:t.user});const s=Object.assign({},t);delete s.user;const o=Yb(s);await lo(this.storage,this.storageKey,o)}else{const s=Yb(t);await lo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kr(this.storage,this.storageKey),await Kr(this.storage,this.storageKey+"-code-verifier"),await Kr(this.storage,this.storageKey+"-user"),this.userStorage&&await Kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ao);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ao}ms, refresh threshold is ${qp} ticks`),s<=qp&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await eo(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r?.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;return o?{data:null,error:o}:await Ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,s;const{data:o,error:l}=t;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:h}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&(!((s=d?.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(t){if(me(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;if(o)return{data:null,error:o};const{data:l,error:c}=await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(t){if(me(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:s,error:o}=t;return o?{data:null,error:o}:await Ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(me(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=e?.factors||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Jh(s.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(c=>c.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+wM>s)return r;const{data:o,error:l}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:b,error:S}=await this.getSession();if(S||!b.session)return{data:null,error:S};r=b.session.access_token}const{header:s,payload:o,signature:l,raw:{header:c,payload:d}}=Jh(r);t?.allowExpired||FM(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!h){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:s,signature:l},error:null}}const p=KM(s.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,l,RM(`${c}.${d}`)))throw new Kp("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}el.nextInstanceID=0;const lA=el;class uA extends lA{constructor(e){super(e)}}var cA=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(p){try{h(r.next(p))}catch(g){l(g)}}function d(p){try{h(r.throw(p))}catch(g){l(g)}}function h(p){p.done?o(p.value):s(p.value).then(c,d)}h((r=r.apply(n,e||[])).next())})};class fA{constructor(e,t,r){var s,o,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const c=mM(e),d=new URL(c);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:aM,realtime:uM,auth:Object.assign(Object.assign({},lM),{storageKey:h}),global:oM},g=gM(r??{},p);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=hM(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new MO(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),g.accessToken||this._listenForAuthEvents()}get functions(){return new yO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rM(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return cA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:o,flowType:l,lock:c,debug:d},h,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uA({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:l,lock:c,debug:d,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new VO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dA=(n,e,t)=>new fA(n,e,t),hA="https://bsntktkclpwkbbaogfcd.supabase.co",pA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzbnRrdGtjbHB3a2JiYW9nZmNkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIyOTc5ODcsImV4cCI6MjA2Nzg3Mzk4N30.e7LAmpzEocXMxhhAwTQqOp1of7FYvppxrqJA4ZCHmaE",ri=dA(hA,pA),mA=()=>{const[n,e]=B.useState([]),t=ml();return B.useEffect(()=>{(async()=>{const{data:s,error:o}=await ri.from("development_log").select("id, title, savedAt").order("savedAt",{ascending:!1});s?e(s):console.error("불러오기 실패:",o)})()},[]),J.jsx("div",{className:"log-list-wrapper",children:n.map(r=>J.jsxs("div",{className:"log-item",onClick:()=>t(`/posts/${r.id}`),children:[J.jsx("div",{className:"log-title",children:r.title}),J.jsx("div",{className:"log-date",children:new Date(r.savedAt).toLocaleString("ko-KR")})]},r.id))})};var Ra={exports:{}},ep={},tp={exports:{}},np,eS;function gA(){if(eS)return np;eS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return np=n,np}var rp,tS;function yA(){if(tS)return rp;tS=1;var n=gA();function e(){}function t(){}return t.resetWarningCache=e,rp=function(){function r(l,c,d,h,p,g){if(g!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},rp}var nS;function _w(){return nS||(nS=1,tp.exports=yA()()),tp.exports}function Ow(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=Ow(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function rS(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=Ow(n))&&(r&&(r+=" "),r+=e);return r}const vA=Object.freeze(Object.defineProperty({__proto__:null,clsx:rS,default:rS},Symbol.toStringTag,{value:"Module"})),bA=q1(vA);var nt={},Gr={},iS;function lf(){if(iS)return Gr;iS=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.dontSetMe=s,Gr.findInArray=n,Gr.int=r,Gr.isFunction=e,Gr.isNum=t;function n(o,l){for(let c=0,d=o.length;c<d;c++)if(l.apply(l,[o[c],c,o]))return o[c]}function e(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function t(o){return typeof o=="number"&&!isNaN(o)}function r(o){return parseInt(o,10)}function s(o,l,c){if(o[l])return new Error("Invalid prop ".concat(l," passed to ").concat(c," - do not set this, set it on the child."))}return Gr}var Wr={},sS;function SA(){if(sS)return Wr;sS=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.browserPrefixToKey=t,Wr.browserPrefixToStyle=r,Wr.default=void 0,Wr.getPrefix=e;const n=["Moz","Webkit","O","ms"];function e(){var o;let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const c=(o=window.document)===null||o===void 0||(o=o.documentElement)===null||o===void 0?void 0:o.style;if(!c||l in c)return"";for(let d=0;d<n.length;d++)if(t(l,n[d])in c)return n[d];return""}function t(o,l){return l?"".concat(l).concat(s(o)):o}function r(o,l){return l?"-".concat(l.toLowerCase(),"-").concat(o):o}function s(o){let l="",c=!0;for(let d=0;d<o.length;d++)c?(l+=o[d].toUpperCase(),c=!1):o[d]==="-"?c=!0:l+=o[d];return l}return Wr.default=e(),Wr}var oS;function zm(){if(oS)return nt;oS=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.addClassName=N,nt.addEvent=c,nt.addUserSelectStyles=C,nt.createCSSTransform=S,nt.createSVGTransform=x,nt.getTouch=T,nt.getTouchIdentifier=O,nt.getTranslation=E,nt.innerHeight=g,nt.innerWidth=v,nt.matchesSelector=o,nt.matchesSelectorAndParentsTo=l,nt.offsetXYFromParent=b,nt.outerHeight=h,nt.outerWidth=p,nt.removeClassName=j,nt.removeEvent=d,nt.removeUserSelectStyles=z;var n=lf(),e=r(SA());function t(_){if(typeof WeakMap!="function")return null;var R=new WeakMap,q=new WeakMap;return(t=function(Y){return Y?q:R})(_)}function r(_,R){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var q=t(R);if(q&&q.has(_))return q.get(_);var Y={},fe=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var re in _)if(re!=="default"&&Object.prototype.hasOwnProperty.call(_,re)){var Te=fe?Object.getOwnPropertyDescriptor(_,re):null;Te&&(Te.get||Te.set)?Object.defineProperty(Y,re,Te):Y[re]=_[re]}return Y.default=_,q&&q.set(_,Y),Y}let s="";function o(_,R){return s||(s=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(q){return(0,n.isFunction)(_[q])})),(0,n.isFunction)(_[s])?_[s](R):!1}function l(_,R,q){let Y=_;do{if(o(Y,R))return!0;if(Y===q)return!1;Y=Y.parentNode}while(Y);return!1}function c(_,R,q,Y){if(!_)return;const fe={capture:!0,...Y};_.addEventListener?_.addEventListener(R,q,fe):_.attachEvent?_.attachEvent("on"+R,q):_["on"+R]=q}function d(_,R,q,Y){if(!_)return;const fe={capture:!0,...Y};_.removeEventListener?_.removeEventListener(R,q,fe):_.detachEvent?_.detachEvent("on"+R,q):_["on"+R]=null}function h(_){let R=_.clientHeight;const q=_.ownerDocument.defaultView.getComputedStyle(_);return R+=(0,n.int)(q.borderTopWidth),R+=(0,n.int)(q.borderBottomWidth),R}function p(_){let R=_.clientWidth;const q=_.ownerDocument.defaultView.getComputedStyle(_);return R+=(0,n.int)(q.borderLeftWidth),R+=(0,n.int)(q.borderRightWidth),R}function g(_){let R=_.clientHeight;const q=_.ownerDocument.defaultView.getComputedStyle(_);return R-=(0,n.int)(q.paddingTop),R-=(0,n.int)(q.paddingBottom),R}function v(_){let R=_.clientWidth;const q=_.ownerDocument.defaultView.getComputedStyle(_);return R-=(0,n.int)(q.paddingLeft),R-=(0,n.int)(q.paddingRight),R}function b(_,R,q){const fe=R===R.ownerDocument.body?{left:0,top:0}:R.getBoundingClientRect(),re=(_.clientX+R.scrollLeft-fe.left)/q,Te=(_.clientY+R.scrollTop-fe.top)/q;return{x:re,y:Te}}function S(_,R){const q=E(_,R,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:q}}function x(_,R){return E(_,R,"")}function E(_,R,q){let{x:Y,y:fe}=_,re="translate(".concat(Y).concat(q,",").concat(fe).concat(q,")");if(R){const Te="".concat(typeof R.x=="string"?R.x:R.x+q),qe="".concat(typeof R.y=="string"?R.y:R.y+q);re="translate(".concat(Te,", ").concat(qe,")")+re}return re}function T(_,R){return _.targetTouches&&(0,n.findInArray)(_.targetTouches,q=>R===q.identifier)||_.changedTouches&&(0,n.findInArray)(_.changedTouches,q=>R===q.identifier)}function O(_){if(_.targetTouches&&_.targetTouches[0])return _.targetTouches[0].identifier;if(_.changedTouches&&_.changedTouches[0])return _.changedTouches[0].identifier}function C(_){if(!_)return;let R=_.getElementById("react-draggable-style-el");R||(R=_.createElement("style"),R.type="text/css",R.id="react-draggable-style-el",R.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,R.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,_.getElementsByTagName("head")[0].appendChild(R)),_.body&&N(_.body,"react-draggable-transparent-selection")}function z(_){if(_)try{if(_.body&&j(_.body,"react-draggable-transparent-selection"),_.selection)_.selection.empty();else{const R=(_.defaultView||window).getSelection();R&&R.type!=="Caret"&&R.removeAllRanges()}}catch{}}function N(_,R){_.classList?_.classList.add(R):_.className.match(new RegExp("(?:^|\\s)".concat(R,"(?!\\S)")))||(_.className+=" ".concat(R))}function j(_,R){_.classList?_.classList.remove(R):_.className=_.className.replace(new RegExp("(?:^|\\s)".concat(R,"(?!\\S)"),"g"),"")}return nt}var jn={},aS;function Mw(){if(aS)return jn;aS=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.canDragX=s,jn.canDragY=o,jn.createCoreData=c,jn.createDraggableData=d,jn.getBoundPosition=t,jn.getControlPosition=l,jn.snapToGrid=r;var n=lf(),e=zm();function t(g,v,b){if(!g.props.bounds)return[v,b];let{bounds:S}=g.props;S=typeof S=="string"?S:h(S);const x=p(g);if(typeof S=="string"){const{ownerDocument:E}=x,T=E.defaultView;let O;if(S==="parent"?O=x.parentNode:O=E.querySelector(S),!(O instanceof T.HTMLElement))throw new Error('Bounds selector "'+S+'" could not find an element.');const C=O,z=T.getComputedStyle(x),N=T.getComputedStyle(C);S={left:-x.offsetLeft+(0,n.int)(N.paddingLeft)+(0,n.int)(z.marginLeft),top:-x.offsetTop+(0,n.int)(N.paddingTop)+(0,n.int)(z.marginTop),right:(0,e.innerWidth)(C)-(0,e.outerWidth)(x)-x.offsetLeft+(0,n.int)(N.paddingRight)-(0,n.int)(z.marginRight),bottom:(0,e.innerHeight)(C)-(0,e.outerHeight)(x)-x.offsetTop+(0,n.int)(N.paddingBottom)-(0,n.int)(z.marginBottom)}}return(0,n.isNum)(S.right)&&(v=Math.min(v,S.right)),(0,n.isNum)(S.bottom)&&(b=Math.min(b,S.bottom)),(0,n.isNum)(S.left)&&(v=Math.max(v,S.left)),(0,n.isNum)(S.top)&&(b=Math.max(b,S.top)),[v,b]}function r(g,v,b){const S=Math.round(v/g[0])*g[0],x=Math.round(b/g[1])*g[1];return[S,x]}function s(g){return g.props.axis==="both"||g.props.axis==="x"}function o(g){return g.props.axis==="both"||g.props.axis==="y"}function l(g,v,b){const S=typeof v=="number"?(0,e.getTouch)(g,v):null;if(typeof v=="number"&&!S)return null;const x=p(b),E=b.props.offsetParent||x.offsetParent||x.ownerDocument.body;return(0,e.offsetXYFromParent)(S||g,E,b.props.scale)}function c(g,v,b){const S=!(0,n.isNum)(g.lastX),x=p(g);return S?{node:x,deltaX:0,deltaY:0,lastX:v,lastY:b,x:v,y:b}:{node:x,deltaX:v-g.lastX,deltaY:b-g.lastY,lastX:g.lastX,lastY:g.lastY,x:v,y:b}}function d(g,v){const b=g.props.scale;return{node:v.node,x:g.state.x+v.deltaX/b,y:g.state.y+v.deltaY/b,deltaX:v.deltaX/b,deltaY:v.deltaY/b,lastX:g.state.x,lastY:g.state.y}}function h(g){return{left:g.left,top:g.top,right:g.right,bottom:g.bottom}}function p(g){const v=g.findDOMNode();if(!v)throw new Error("<DraggableCore>: Unmounted during event!");return v}return jn}var Da={},qu={},lS;function Aw(){if(lS)return qu;lS=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.default=n;function n(){}return qu}var uS;function wA(){if(uS)return Da;uS=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.default=void 0;var n=h(is()),e=c(_w()),t=c(rf()),r=zm(),s=Mw(),o=lf(),l=c(Aw());function c(E){return E&&E.__esModule?E:{default:E}}function d(E){if(typeof WeakMap!="function")return null;var T=new WeakMap,O=new WeakMap;return(d=function(C){return C?O:T})(E)}function h(E,T){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var O=d(T);if(O&&O.has(E))return O.get(E);var C={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in E)if(N!=="default"&&Object.prototype.hasOwnProperty.call(E,N)){var j=z?Object.getOwnPropertyDescriptor(E,N):null;j&&(j.get||j.set)?Object.defineProperty(C,N,j):C[N]=E[N]}return C.default=E,O&&O.set(E,C),C}function p(E,T,O){return T=g(T),T in E?Object.defineProperty(E,T,{value:O,enumerable:!0,configurable:!0,writable:!0}):E[T]=O,E}function g(E){var T=v(E,"string");return typeof T=="symbol"?T:String(T)}function v(E,T){if(typeof E!="object"||E===null)return E;var O=E[Symbol.toPrimitive];if(O!==void 0){var C=O.call(E,T);if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(E)}const b={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let S=b.mouse,x=class extends n.Component{constructor(){super(...arguments),p(this,"dragging",!1),p(this,"lastX",NaN),p(this,"lastY",NaN),p(this,"touchIdentifier",null),p(this,"mounted",!1),p(this,"handleDragStart",T=>{if(this.props.onMouseDown(T),!this.props.allowAnyClick&&typeof T.button=="number"&&T.button!==0)return!1;const O=this.findDOMNode();if(!O||!O.ownerDocument||!O.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:C}=O;if(this.props.disabled||!(T.target instanceof C.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(T.target,this.props.handle,O)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(T.target,this.props.cancel,O))return;T.type==="touchstart"&&T.preventDefault();const z=(0,r.getTouchIdentifier)(T);this.touchIdentifier=z;const N=(0,s.getControlPosition)(T,z,this);if(N==null)return;const{x:j,y:_}=N,R=(0,s.createCoreData)(this,j,_);(0,l.default)("DraggableCore: handleDragStart: %j",R),(0,l.default)("calling",this.props.onStart),!(this.props.onStart(T,R)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(C),this.dragging=!0,this.lastX=j,this.lastY=_,(0,r.addEvent)(C,S.move,this.handleDrag),(0,r.addEvent)(C,S.stop,this.handleDragStop))}),p(this,"handleDrag",T=>{const O=(0,s.getControlPosition)(T,this.touchIdentifier,this);if(O==null)return;let{x:C,y:z}=O;if(Array.isArray(this.props.grid)){let _=C-this.lastX,R=z-this.lastY;if([_,R]=(0,s.snapToGrid)(this.props.grid,_,R),!_&&!R)return;C=this.lastX+_,z=this.lastY+R}const N=(0,s.createCoreData)(this,C,z);if((0,l.default)("DraggableCore: handleDrag: %j",N),this.props.onDrag(T,N)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const R=document.createEvent("MouseEvents");R.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(R)}return}this.lastX=C,this.lastY=z}),p(this,"handleDragStop",T=>{if(!this.dragging)return;const O=(0,s.getControlPosition)(T,this.touchIdentifier,this);if(O==null)return;let{x:C,y:z}=O;if(Array.isArray(this.props.grid)){let R=C-this.lastX||0,q=z-this.lastY||0;[R,q]=(0,s.snapToGrid)(this.props.grid,R,q),C=this.lastX+R,z=this.lastY+q}const N=(0,s.createCoreData)(this,C,z);if(this.props.onStop(T,N)===!1||this.mounted===!1)return!1;const _=this.findDOMNode();_&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(_.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",N),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,_&&((0,l.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(_.ownerDocument,S.move,this.handleDrag),(0,r.removeEvent)(_.ownerDocument,S.stop,this.handleDragStop))}),p(this,"onMouseDown",T=>(S=b.mouse,this.handleDragStart(T))),p(this,"onMouseUp",T=>(S=b.mouse,this.handleDragStop(T))),p(this,"onTouchStart",T=>(S=b.touch,this.handleDragStart(T))),p(this,"onTouchEnd",T=>(S=b.touch,this.handleDragStop(T)))}componentDidMount(){this.mounted=!0;const T=this.findDOMNode();T&&(0,r.addEvent)(T,b.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const T=this.findDOMNode();if(T){const{ownerDocument:O}=T;(0,r.removeEvent)(O,b.mouse.move,this.handleDrag),(0,r.removeEvent)(O,b.touch.move,this.handleDrag),(0,r.removeEvent)(O,b.mouse.stop,this.handleDragStop),(0,r.removeEvent)(O,b.touch.stop,this.handleDragStop),(0,r.removeEvent)(T,b.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(O)}}findDOMNode(){var T,O;return(T=this.props)!==null&&T!==void 0&&T.nodeRef?(O=this.props)===null||O===void 0||(O=O.nodeRef)===null||O===void 0?void 0:O.current:t.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Da.default=x,p(x,"displayName","DraggableCore"),p(x,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(E,T){if(E[T]&&E[T].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),p(x,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Da}var cS;function xA(){return cS||(cS=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),n.default=void 0;var e=v(is()),t=p(_w()),r=p(rf()),s=p(bA),o=zm(),l=Mw(),c=lf(),d=p(wA()),h=p(Aw());function p(O){return O&&O.__esModule?O:{default:O}}function g(O){if(typeof WeakMap!="function")return null;var C=new WeakMap,z=new WeakMap;return(g=function(N){return N?z:C})(O)}function v(O,C){if(O&&O.__esModule)return O;if(O===null||typeof O!="object"&&typeof O!="function")return{default:O};var z=g(C);if(z&&z.has(O))return z.get(O);var N={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in O)if(_!=="default"&&Object.prototype.hasOwnProperty.call(O,_)){var R=j?Object.getOwnPropertyDescriptor(O,_):null;R&&(R.get||R.set)?Object.defineProperty(N,_,R):N[_]=O[_]}return N.default=O,z&&z.set(O,N),N}function b(){return b=Object.assign?Object.assign.bind():function(O){for(var C=1;C<arguments.length;C++){var z=arguments[C];for(var N in z)Object.prototype.hasOwnProperty.call(z,N)&&(O[N]=z[N])}return O},b.apply(this,arguments)}function S(O,C,z){return C=x(C),C in O?Object.defineProperty(O,C,{value:z,enumerable:!0,configurable:!0,writable:!0}):O[C]=z,O}function x(O){var C=E(O,"string");return typeof C=="symbol"?C:String(C)}function E(O,C){if(typeof O!="object"||O===null)return O;var z=O[Symbol.toPrimitive];if(z!==void 0){var N=z.call(O,C);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(O)}class T extends e.Component{static getDerivedStateFromProps(C,z){let{position:N}=C,{prevPropsPosition:j}=z;return N&&(!j||N.x!==j.x||N.y!==j.y)?((0,h.default)("Draggable: getDerivedStateFromProps %j",{position:N,prevPropsPosition:j}),{x:N.x,y:N.y,prevPropsPosition:{...N}}):null}constructor(C){super(C),S(this,"onDragStart",(z,N)=>{if((0,h.default)("Draggable: onDragStart: %j",N),this.props.onStart(z,(0,l.createDraggableData)(this,N))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),S(this,"onDrag",(z,N)=>{if(!this.state.dragging)return!1;(0,h.default)("Draggable: onDrag: %j",N);const j=(0,l.createDraggableData)(this,N),_={x:j.x,y:j.y,slackX:0,slackY:0};if(this.props.bounds){const{x:q,y:Y}=_;_.x+=this.state.slackX,_.y+=this.state.slackY;const[fe,re]=(0,l.getBoundPosition)(this,_.x,_.y);_.x=fe,_.y=re,_.slackX=this.state.slackX+(q-_.x),_.slackY=this.state.slackY+(Y-_.y),j.x=_.x,j.y=_.y,j.deltaX=_.x-this.state.x,j.deltaY=_.y-this.state.y}if(this.props.onDrag(z,j)===!1)return!1;this.setState(_)}),S(this,"onDragStop",(z,N)=>{if(!this.state.dragging||this.props.onStop(z,(0,l.createDraggableData)(this,N))===!1)return!1;(0,h.default)("Draggable: onDragStop: %j",N);const _={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:q,y:Y}=this.props.position;_.x=q,_.y=Y}this.setState(_)}),this.state={dragging:!1,dragged:!1,x:C.position?C.position.x:C.defaultPosition.x,y:C.position?C.position.y:C.defaultPosition.y,prevPropsPosition:{...C.position},slackX:0,slackY:0,isElementSVG:!1},C.position&&!(C.onDrag||C.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var C,z;return(C=(z=this.props)===null||z===void 0||(z=z.nodeRef)===null||z===void 0?void 0:z.current)!==null&&C!==void 0?C:r.default.findDOMNode(this)}render(){const{axis:C,bounds:z,children:N,defaultPosition:j,defaultClassName:_,defaultClassNameDragging:R,defaultClassNameDragged:q,position:Y,positionOffset:fe,scale:re,...Te}=this.props;let qe={},_e=null;const Q=!!!Y||this.state.dragging,se=Y||j,ke={x:(0,l.canDragX)(this)&&Q?this.state.x:se.x,y:(0,l.canDragY)(this)&&Q?this.state.y:se.y};this.state.isElementSVG?_e=(0,o.createSVGTransform)(ke,fe):qe=(0,o.createCSSTransform)(ke,fe);const A=(0,s.default)(N.props.className||"",_,{[R]:this.state.dragging,[q]:this.state.dragged});return e.createElement(d.default,b({},Te,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(N),{className:A,style:{...N.props.style,...qe},transform:_e}))}}n.default=T,S(T,"displayName","Draggable"),S(T,"propTypes",{...d.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),S(T,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(ep)),ep}var fS;function EA(){if(fS)return Ra.exports;fS=1;const{default:n,DraggableCore:e}=xA();return Ra.exports=n,Ra.exports.default=n,Ra.exports.DraggableCore=e,Ra.exports}var TA=EA();const kA=dl(TA);var ot=function(){return ot=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},ot.apply(this,arguments)},dS={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},hS={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Vu={width:"20px",height:"20px",position:"absolute",zIndex:1},CA={top:ot(ot({},dS),{top:"-5px"}),right:ot(ot({},hS),{left:void 0,right:"-5px"}),bottom:ot(ot({},dS),{top:void 0,bottom:"-5px"}),left:ot(ot({},hS),{left:"-5px"}),topRight:ot(ot({},Vu),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:ot(ot({},Vu),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:ot(ot({},Vu),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:ot(ot({},Vu),{left:"-10px",top:"-10px",cursor:"nw-resize"})},_A=B.memo(function(n){var e=n.onResizeStart,t=n.direction,r=n.children,s=n.replaceStyles,o=n.className,l=B.useCallback(function(h){e(h,t)},[e,t]),c=B.useCallback(function(h){e(h,t)},[e,t]),d=B.useMemo(function(){return ot(ot({position:"absolute",userSelect:"none"},CA[t]),s??{})},[s,t]);return J.jsx("div",{className:o||void 0,style:d,onMouseDown:l,onTouchStart:c,children:r})}),OA=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Pn=function(){return Pn=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Pn.apply(this,arguments)},MA={width:"auto",height:"auto"},Fu=function(n,e,t){return Math.max(Math.min(n,t),e)},pS=function(n,e,t){var r=Math.round(n/e);return r*e+t*(r-1)},io=function(n,e){return new RegExp(n,"i").test(e)},Ku=function(n){return!!(n.touches&&n.touches.length)},AA=function(n){return!!((n.clientX||n.clientX===0)&&(n.clientY||n.clientY===0))},mS=function(n,e,t){t===void 0&&(t=0);var r=e.reduce(function(o,l,c){return Math.abs(l-n)<Math.abs(e[o]-n)?c:o},0),s=Math.abs(e[r]-n);return t===0||s<t?e[r]:n},ip=function(n){return n=n.toString(),n==="auto"||n.endsWith("px")||n.endsWith("%")||n.endsWith("vh")||n.endsWith("vw")||n.endsWith("vmax")||n.endsWith("vmin")?n:"".concat(n,"px")},Gu=function(n,e,t,r){if(n&&typeof n=="string"){if(n.endsWith("px"))return Number(n.replace("px",""));if(n.endsWith("%")){var s=Number(n.replace("%",""))/100;return e*s}if(n.endsWith("vw")){var s=Number(n.replace("vw",""))/100;return t*s}if(n.endsWith("vh")){var s=Number(n.replace("vh",""))/100;return r*s}}return n},RA=function(n,e,t,r,s,o,l){return r=Gu(r,n.width,e,t),s=Gu(s,n.height,e,t),o=Gu(o,n.width,e,t),l=Gu(l,n.height,e,t),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof s>"u"?void 0:Number(s),minWidth:typeof o>"u"?void 0:Number(o),minHeight:typeof l>"u"?void 0:Number(l)}},DA=function(n){return Array.isArray(n)?n:[n,n]},NA=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],gS="__resizable_base__",zA=function(n){OA(e,n);function e(t){var r,s,o,l,c=n.call(this,t)||this;return c.ratio=1,c.resizable=null,c.parentLeft=0,c.parentTop=0,c.resizableLeft=0,c.resizableRight=0,c.resizableTop=0,c.resizableBottom=0,c.targetLeft=0,c.targetTop=0,c.delta={width:0,height:0},c.appendBase=function(){if(!c.resizable||!c.window)return null;var d=c.parentNode;if(!d)return null;var h=c.window.document.createElement("div");return h.style.width="100%",h.style.height="100%",h.style.position="absolute",h.style.transform="scale(0, 0)",h.style.left="0",h.style.flex="0 0 100%",h.classList?h.classList.add(gS):h.className+=gS,d.appendChild(h),h},c.removeBase=function(d){var h=c.parentNode;h&&h.removeChild(d)},c.state={isResizing:!1,width:(s=(r=c.propsSize)===null||r===void 0?void 0:r.width)!==null&&s!==void 0?s:"auto",height:(l=(o=c.propsSize)===null||o===void 0?void 0:o.height)!==null&&l!==void 0?l:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},c.onResizeStart=c.onResizeStart.bind(c),c.onMouseMove=c.onMouseMove.bind(c),c.onMouseUp=c.onMouseUp.bind(c),c}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||MA},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var t=0,r=0;if(this.resizable&&this.window){var s=this.resizable.offsetWidth,o=this.resizable.offsetHeight,l=this.resizable.style.position;l!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:s,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:o,this.resizable.style.position=l}return{width:t,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var t=this,r=this.props.size,s=function(c){var d;if(typeof t.state[c]>"u"||t.state[c]==="auto")return"auto";if(t.propsSize&&t.propsSize[c]&&(!((d=t.propsSize[c])===null||d===void 0)&&d.toString().endsWith("%"))){if(t.state[c].toString().endsWith("%"))return t.state[c].toString();var h=t.getParentSize(),p=Number(t.state[c].toString().replace("px","")),g=p/h[c]*100;return"".concat(g,"%")}return ip(t.state[c])},o=r&&typeof r.width<"u"&&!this.state.isResizing?ip(r.width):s("width"),l=r&&typeof r.height<"u"&&!this.state.isResizing?ip(r.height):s("height");return{width:o,height:l}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var r=!1,s=this.parentNode.style.flexWrap;s!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var o={width:t.offsetWidth,height:t.offsetHeight};return r&&(this.parentNode.style.flexWrap=s),this.removeBase(t),o},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(t,r){var s=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===t&&(typeof s>"u"||s==="auto")?"auto":t},e.prototype.calculateNewMaxFromBoundary=function(t,r){var s=this.props.boundsByDirection,o=this.state.direction,l=s&&io("left",o),c=s&&io("top",o),d,h;if(this.props.bounds==="parent"){var p=this.parentNode;p&&(d=l?this.resizableRight-this.parentLeft:p.offsetWidth+(this.parentLeft-this.resizableLeft),h=c?this.resizableBottom-this.parentTop:p.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(d=l?this.resizableRight:this.window.innerWidth-this.resizableLeft,h=c?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(d=l?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),h=c?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return d&&Number.isFinite(d)&&(t=t&&t<d?t:d),h&&Number.isFinite(h)&&(r=r&&r<h?r:h),{maxWidth:t,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(t,r){var s=this.props.scale||1,o=DA(this.props.resizeRatio||1),l=o[0],c=o[1],d=this.state,h=d.direction,p=d.original,g=this.props,v=g.lockAspectRatio,b=g.lockAspectRatioExtraHeight,S=g.lockAspectRatioExtraWidth,x=p.width,E=p.height,T=b||0,O=S||0;return io("right",h)&&(x=p.width+(t-p.x)*l/s,v&&(E=(x-O)/this.ratio+T)),io("left",h)&&(x=p.width-(t-p.x)*l/s,v&&(E=(x-O)/this.ratio+T)),io("bottom",h)&&(E=p.height+(r-p.y)*c/s,v&&(x=(E-T)*this.ratio+O)),io("top",h)&&(E=p.height-(r-p.y)*c/s,v&&(x=(E-T)*this.ratio+O)),{newWidth:x,newHeight:E}},e.prototype.calculateNewSizeFromAspectRatio=function(t,r,s,o){var l=this.props,c=l.lockAspectRatio,d=l.lockAspectRatioExtraHeight,h=l.lockAspectRatioExtraWidth,p=typeof o.width>"u"?10:o.width,g=typeof s.width>"u"||s.width<0?t:s.width,v=typeof o.height>"u"?10:o.height,b=typeof s.height>"u"||s.height<0?r:s.height,S=d||0,x=h||0;if(c){var E=(v-S)*this.ratio+x,T=(b-S)*this.ratio+x,O=(p-x)/this.ratio+S,C=(g-x)/this.ratio+S,z=Math.max(p,E),N=Math.min(g,T),j=Math.max(v,O),_=Math.min(b,C);t=Fu(t,z,N),r=Fu(r,j,_)}else t=Fu(t,p,g),r=Fu(r,v,b);return{newWidth:t,newHeight:r}},e.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var s=r.getBoundingClientRect();this.parentLeft=s.left*t,this.parentTop=s.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left*t,this.targetTop=o.top*t}if(this.resizable){var l=this.resizable.getBoundingClientRect(),c=l.left,d=l.top,h=l.right,p=l.bottom;this.resizableLeft=c*t,this.resizableRight=h*t,this.resizableTop=d*t,this.resizableBottom=p*t}},e.prototype.onResizeStart=function(t,r){if(!(!this.resizable||!this.window)){var s=0,o=0;if(t.nativeEvent&&AA(t.nativeEvent)?(s=t.nativeEvent.clientX,o=t.nativeEvent.clientY):t.nativeEvent&&Ku(t.nativeEvent)&&(s=t.nativeEvent.touches[0].clientX,o=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var l=this.props.onResizeStart(t,r,this.resizable);if(l===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var c,d=this.window.getComputedStyle(this.resizable);if(d.flexBasis!=="auto"){var h=this.parentNode;if(h){var p=this.window.getComputedStyle(h).flexDirection;this.flexDir=p.startsWith("row")?"row":"column",c=d.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var g={original:{x:s,y:o,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Pn(Pn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:r,flexBasis:c};this.setState(g)}},e.prototype.onMouseMove=function(t){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Ku(t))try{t.preventDefault(),t.stopPropagation()}catch{}var s=this.props,o=s.maxWidth,l=s.maxHeight,c=s.minWidth,d=s.minHeight,h=Ku(t)?t.touches[0].clientX:t.clientX,p=Ku(t)?t.touches[0].clientY:t.clientY,g=this.state,v=g.direction,b=g.original,S=g.width,x=g.height,E=this.getParentSize(),T=RA(E,this.window.innerWidth,this.window.innerHeight,o,l,c,d);o=T.maxWidth,l=T.maxHeight,c=T.minWidth,d=T.minHeight;var O=this.calculateNewSizeFromDirection(h,p),C=O.newHeight,z=O.newWidth,N=this.calculateNewMaxFromBoundary(o,l);this.props.snap&&this.props.snap.x&&(z=mS(z,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(C=mS(C,this.props.snap.y,this.props.snapGap));var j=this.calculateNewSizeFromAspectRatio(z,C,{width:N.maxWidth,height:N.maxHeight},{width:c,height:d});if(z=j.newWidth,C=j.newHeight,this.props.grid){var _=pS(z,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),R=pS(C,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),q=this.props.snapGap||0,Y=q===0||Math.abs(_-z)<=q?_:z,fe=q===0||Math.abs(R-C)<=q?R:C;z=Y,C=fe}var re={width:z-b.width,height:C-b.height};if(this.delta=re,S&&typeof S=="string"){if(S.endsWith("%")){var Te=z/E.width*100;z="".concat(Te,"%")}else if(S.endsWith("vw")){var qe=z/this.window.innerWidth*100;z="".concat(qe,"vw")}else if(S.endsWith("vh")){var _e=z/this.window.innerHeight*100;z="".concat(_e,"vh")}}if(x&&typeof x=="string"){if(x.endsWith("%")){var Te=C/E.height*100;C="".concat(Te,"%")}else if(x.endsWith("vw")){var qe=C/this.window.innerWidth*100;C="".concat(qe,"vw")}else if(x.endsWith("vh")){var _e=C/this.window.innerHeight*100;C="".concat(_e,"vh")}}var $={width:this.createSizeForCssProperty(z,"width"),height:this.createSizeForCssProperty(C,"height")};this.flexDir==="row"?$.flexBasis=$.width:this.flexDir==="column"&&($.flexBasis=$.height);var Q=this.state.width!==$.width,se=this.state.height!==$.height,ke=this.state.flexBasis!==$.flexBasis,A=Q||se||ke;A&&Om.flushSync(function(){r.setState($)}),this.props.onResize&&A&&this.props.onResize(t,v,this.resizable,re)}},e.prototype.onMouseUp=function(t){var r,s,o=this.state,l=o.isResizing,c=o.direction;o.original,!(!l||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,c,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(s=this.props.size.height)!==null&&s!==void 0?s:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Pn(Pn({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(t){var r,s;this.setState({width:(r=t.width)!==null&&r!==void 0?r:"auto",height:(s=t.height)!==null&&s!==void 0?s:"auto"})},e.prototype.renderResizer=function(){var t=this,r=this.props,s=r.enable,o=r.handleStyles,l=r.handleClasses,c=r.handleWrapperStyle,d=r.handleWrapperClass,h=r.handleComponent;if(!s)return null;var p=Object.keys(s).map(function(g){return s[g]!==!1?J.jsx(_A,{direction:g,onResizeStart:t.onResizeStart,replaceStyles:o&&o[g],className:l&&l[g],children:h&&h[g]?h[g]:null},g):null});return J.jsx("div",{className:d,style:c,children:p})},e.prototype.render=function(){var t=this,r=Object.keys(this.props).reduce(function(l,c){return NA.indexOf(c)!==-1||(l[c]=t.props[c]),l},{}),s=Pn(Pn(Pn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(s.flexBasis=this.state.flexBasis);var o=this.props.as||"div";return J.jsxs(o,Pn({style:s,className:this.props.className},r,{ref:function(l){l&&(t.resizable=l)},children:[this.state.isResizing&&J.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(B.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gp=function(n,e){return Gp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)r.hasOwnProperty(s)&&(t[s]=r[s])},Gp(n,e)};function LA(n,e){Gp(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ft=function(){return ft=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ft.apply(this,arguments)};function BA(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}var jA={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},PA=function(n){return{bottom:n,bottomLeft:n,bottomRight:n,left:n,right:n,top:n,topLeft:n,topRight:n}},Rw=function(n){LA(e,n);function e(t){var r=n.call(this,t)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,r=t.left,s=t.top,o=this.getDraggablePosition(),l=o.x,c=o.y;this.draggable.setState({x:l-r,y:c-s}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var t=this.draggable.state,r=t.x,s=t.y;return{x:r,y:s}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var t=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:t,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(t){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return t.offsetHeight}},e.prototype.getOffsetWidth=function(t){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return t.offsetWidth}},e.prototype.onDragStart=function(t,r){this.props.onDragStart&&this.props.onDragStart(t,r);var s=this.getDraggablePosition();if(this.originalPosition=s,!!this.props.bounds){var o=this.getParent(),l=this.props.scale,c;if(this.props.bounds==="parent")c=o;else if(this.props.bounds==="body"){var d=o.getBoundingClientRect(),h=d.left,p=d.top,g=document.body.getBoundingClientRect(),v=-(h-o.offsetLeft*l-g.left)/l,b=-(p-o.offsetTop*l-g.top)/l,S=(document.body.offsetWidth-this.resizable.size.width*l)/l+v,x=(document.body.offsetHeight-this.resizable.size.height*l)/l+b;return this.setState({bounds:{top:b,right:S,bottom:x,left:v}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var E=o.getBoundingClientRect(),T=E.left,O=E.top,C=-(T-o.offsetLeft*l)/l,z=-(O-o.offsetTop*l)/l,S=(window.innerWidth-this.resizable.size.width*l)/l+C,x=(window.innerHeight-this.resizable.size.height*l)/l+z;return this.setState({bounds:{top:z,right:S,bottom:x,left:C}})}else typeof this.props.bounds=="string"?c=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(c=this.props.bounds);if(!(!(c instanceof HTMLElement)||!(o instanceof HTMLElement))){var N=c.getBoundingClientRect(),j=N.left,_=N.top,R=o.getBoundingClientRect(),q=R.left,Y=R.top,fe=(j-q)/l,re=_-Y;if(this.resizable){this.updateOffsetFromParent();var Te=this.offsetFromParent;this.setState({bounds:{top:re-Te.top,right:fe+(c.offsetWidth-this.resizable.size.width)-Te.left/l,bottom:re+(c.offsetHeight-this.resizable.size.height)-Te.top,left:fe-Te.left/l}})}}}},e.prototype.onDrag=function(t,r){if(this.props.onDrag){var s=this.offsetFromParent,o=s.left,l=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(t,ft(ft({},r),{x:r.x+o,y:r.y+l}));if(this.props.dragAxis==="x")return this.props.onDrag(t,ft(ft({},r),{x:r.x+o,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(t,ft(ft({},r),{x:this.originalPosition.x+o,y:r.y+l,deltaX:0}))}},e.prototype.onDragStop=function(t,r){if(this.props.onDragStop){var s=this.offsetFromParent,o=s.left,l=s.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(t,ft(ft({},r),{x:r.x+o,y:r.y+l}));if(this.props.dragAxis==="x")return this.props.onDragStop(t,ft(ft({},r),{x:r.x+o,y:this.originalPosition.y+l,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(t,ft(ft({},r),{x:this.originalPosition.x+o,y:r.y+l,deltaX:0}))}},e.prototype.onResizeStart=function(t,r,s){t.stopPropagation(),this.setState({resizing:!0});var o=this.props.scale,l=this.offsetFromParent,c=this.getDraggablePosition();if(this.resizingPosition={x:c.x+l.left,y:c.y+l.top},this.originalPosition=c,this.props.bounds){var d=this.getParent(),h=void 0;this.props.bounds==="parent"?h=d:this.props.bounds==="body"?h=document.body:this.props.bounds==="window"?h=window:typeof this.props.bounds=="string"?h=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(h=this.props.bounds);var p=this.getSelfElement();if(p instanceof Element&&(h instanceof HTMLElement||h===window)&&d instanceof HTMLElement){var g=this.getMaxSizesFromProps(),v=g.maxWidth,b=g.maxHeight,S=this.getParentSize();if(v&&typeof v=="string")if(v.endsWith("%")){var x=Number(v.replace("%",""))/100;v=S.width*x}else v.endsWith("px")&&(v=Number(v.replace("px","")));if(b&&typeof b=="string")if(b.endsWith("%")){var x=Number(b.replace("%",""))/100;b=S.height*x}else b.endsWith("px")&&(b=Number(b.replace("px","")));var E=p.getBoundingClientRect(),T=E.left,O=E.top,C=this.props.bounds==="window"?{left:0,top:0}:h.getBoundingClientRect(),z=C.left,N=C.top,j=this.getOffsetWidth(h),_=this.getOffsetHeight(h),R=r.toLowerCase().endsWith("left"),q=r.toLowerCase().endsWith("right"),Y=r.startsWith("top"),fe=r.startsWith("bottom");if((R||Y)&&this.resizable){var re=(T-z)/o+this.resizable.size.width;this.setState({maxWidth:re>Number(v)?v:re})}if(q||this.props.lockAspectRatio&&!R&&!Y){var re=j+(z-T)/o;this.setState({maxWidth:re>Number(v)?v:re})}if((Y||R)&&this.resizable){var re=(O-N)/o+this.resizable.size.height;this.setState({maxHeight:re>Number(b)?b:re})}if(fe||this.props.lockAspectRatio&&!Y&&!R){var re=_+(N-O)/o;this.setState({maxHeight:re>Number(b)?b:re})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,r,s)},e.prototype.onResize=function(t,r,s,o){var l=this,c={x:this.originalPosition.x,y:this.originalPosition.y},d=-o.width,h=-o.height,p=["top","left","topLeft","bottomLeft","topRight"];p.includes(r)&&(r==="bottomLeft"?c.x+=d:(r==="topRight"||(c.x+=d),c.y+=h));var g=this.draggable.state;(c.x!==g.x||c.y!==g.y)&&Om.flushSync(function(){l.draggable.setState(c)}),this.updateOffsetFromParent();var v=this.offsetFromParent,b=this.getDraggablePosition().x+v.left,S=this.getDraggablePosition().y+v.top;this.resizingPosition={x:b,y:S},this.props.onResize&&this.props.onResize(t,r,s,o,{x:b,y:S})},e.prototype.onResizeStop=function(t,r,s,o){this.setState({resizing:!1});var l=this.getMaxSizesFromProps(),c=l.maxWidth,d=l.maxHeight;this.setState({maxWidth:c,maxHeight:d}),this.props.onResizeStop&&this.props.onResizeStop(t,r,s,o,this.resizingPosition)},e.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},e.prototype.updatePosition=function(t){this.draggable.setState(t)},e.prototype.updateOffsetFromParent=function(){var t=this.props.scale,r=this.getParent(),s=this.getSelfElement();if(!r||s===null)return{top:0,left:0};var o=r.getBoundingClientRect(),l=o.left,c=o.top,d=s.getBoundingClientRect(),h=this.getDraggablePosition(),p=r.scrollLeft,g=r.scrollTop;this.offsetFromParent={left:d.left-l+p-h.x*t,top:d.top-c+g-h.y*t}},e.prototype.render=function(){var t=this,r=this.props,s=r.disableDragging,o=r.style,l=r.dragHandleClassName,c=r.position,d=r.onMouseDown,h=r.onMouseUp,p=r.dragAxis,g=r.dragGrid,v=r.bounds,b=r.enableUserSelectHack,S=r.cancel,x=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var E=r.resizeHandleStyles,T=r.resizeHandleClasses,O=r.resizeHandleComponent,C=r.enableResizing,z=r.resizeGrid,N=r.resizeHandleWrapperClass,j=r.resizeHandleWrapperStyle,_=r.scale,R=r.allowAnyClick,q=r.dragPositionOffset,Y=BA(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),fe=this.props.default?ft({},this.props.default):void 0;delete Y.default;var re=s||l?{cursor:"auto"}:{cursor:"move"},Te=ft(ft(ft({},jA),re),o),qe=this.offsetFromParent,_e=qe.left,$=qe.top,Q;c&&(Q={x:c.x-_e,y:c.y-$});var se=this.state.resizing?void 0:Q,ke=this.state.resizing?"both":p;return B.createElement(kA,{ref:function(A){A&&(t.draggable=A)},handle:l?".".concat(l):void 0,defaultPosition:fe,onMouseDown:d,onMouseUp:h,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:ke,disabled:s,grid:g,bounds:v?this.state.bounds:void 0,position:se,enableUserSelectHack:b,cancel:S,scale:_,allowAnyClick:R,nodeRef:this.resizableElement,positionOffset:q},B.createElement(zA,ft({},Y,{ref:function(A){A&&(t.resizable=A,t.resizableElement.current=A.resizable)},defaultSize:fe,size:this.props.size,enable:typeof C=="boolean"?PA(C):C,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:Te,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:z,handleWrapperClass:N,handleWrapperStyle:j,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:E,handleClasses:T,handleComponent:O,scale:this.props.scale}),x))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(B.PureComponent),sp={exports:{}},op={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function UA(){if(yS)return op;yS=1;var n=is();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(g,v){var b=v(),S=r({inst:{value:b,getSnapshot:v}}),x=S[0].inst,E=S[1];return o(function(){x.value=b,x.getSnapshot=v,d(x)&&E({inst:x})},[g,b,v]),s(function(){return d(x)&&E({inst:x}),g(function(){d(x)&&E({inst:x})})},[g]),l(b),b}function d(g){var v=g.getSnapshot;g=g.value;try{var b=v();return!t(g,b)}catch{return!0}}function h(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return op.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,op}var vS;function Dw(){return vS||(vS=1,sp.exports=UA()),sp.exports}var Nw=Dw();function kt(n){this.content=n}kt.prototype={constructor:kt,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,s=r.find(n),o=r.content.slice();return s==-1?o.push(t||n,e):(o[s+1]=e,t&&(o[s]=t)),new kt(o)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new kt(t)},addToStart:function(n,e){return new kt([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new kt(t)},addBefore:function(n,e,t){var r=this.remove(e),s=r.content.slice(),o=r.find(n);return s.splice(o==-1?s.length:o,0,e,t),new kt(s)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=kt.from(n),n.size?new kt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=kt.from(n),n.size?new kt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=kt.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};kt.from=function(n){if(n instanceof kt)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new kt(e)};function zw(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let s=n.child(r),o=e.child(r);if(s==o){t+=s.nodeSize;continue}if(!s.sameMarkup(o))return t;if(s.isText&&s.text!=o.text){for(let l=0;s.text[l]==o.text[l];l++)t++;return t}if(s.content.size||o.content.size){let l=zw(s.content,o.content,t+1);if(l!=null)return l}t+=s.nodeSize}}function Lw(n,e,t,r){for(let s=n.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:t,b:r};let l=n.child(--s),c=e.child(--o),d=l.nodeSize;if(l==c){t-=d,r-=d;continue}if(!l.sameMarkup(c))return{a:t,b:r};if(l.isText&&l.text!=c.text){let h=0,p=Math.min(l.text.length,c.text.length);for(;h<p&&l.text[l.text.length-h-1]==c.text[c.text.length-h-1];)h++,t--,r--;return{a:t,b:r}}if(l.content.size||c.content.size){let h=Lw(l.content,c.content,t-1,r-1);if(h)return h}t-=d,r-=d}}class W{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,s=0,o){for(let l=0,c=0;c<t;l++){let d=this.content[l],h=c+d.nodeSize;if(h>e&&r(d,s+c,o||null,l)!==!1&&d.content.size){let p=c+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,t-p),r,s+p)}c=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,s){let o="",l=!0;return this.nodesBetween(e,t,(c,d)=>{let h=c.isText?c.text.slice(Math.max(e,d)-d,t-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&h||c.isTextblock)&&r&&(l?l=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(r)&&(s[s.length-1]=t.withText(t.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new W(s,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],s=0;if(t>e)for(let o=0,l=0;l<t;o++){let c=this.content[o],d=l+c.nodeSize;d>e&&((l<e||d>t)&&(c.isText?c=c.cut(Math.max(0,e-l),Math.min(c.text.length,t-l)):c=c.cut(Math.max(0,e-l-1),Math.min(c.content.size,t-l-1))),r.push(c),s+=c.nodeSize),l=d}return new W(r,s)}cutByIndex(e,t){return e==t?W.empty:e==0&&t==this.content.length?this:new W(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let s=this.content.slice(),o=this.size+t.nodeSize-r.nodeSize;return s[e]=t,new W(s,o)}addToStart(e){return new W([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new W(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let s=this.content[t];e(s,r,t),r+=s.nodeSize}}findDiffStart(e,t=0){return zw(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return Lw(this,e,t,r)}findIndex(e){if(e==0)return Wu(0,e);if(e==this.size)return Wu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let s=this.child(t),o=r+s.nodeSize;if(o>=e)return o==e?Wu(t+1,o):Wu(t,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return W.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new W(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return W.empty;let t,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(t||(t=e.slice(0,s)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new W(t||e,r)}static from(e){if(!e)return W.empty;if(e instanceof W)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new W([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}W.empty=new W([],0);const ap={index:0,offset:0};function Wu(n,e){return ap.index=n,ap.offset=e,ap}function mc(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!mc(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!mc(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let Pe=class Wp{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,s)),t.push(this),r=!0),t&&t.push(o)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&mc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let s=r.create(t.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Wp.none;if(e instanceof Wp)return[e];let t=e.slice();return t.sort((r,s)=>r.type.rank-s.type.rank),t}};Pe.none=[];class gc extends Error{}class ee{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=jw(this.content,e+this.openStart,t);return r&&new ee(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ee(Bw(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ee.empty;let r=t.openStart||0,s=t.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ee(W.fromJSON(e,t.content),r,s)}static maxOpen(e,t=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)s++;return new ee(e,r,s)}}ee.empty=new ee(W.empty,0,0);function Bw(n,e,t){let{index:r,offset:s}=n.findIndex(e),o=n.maybeChild(r),{index:l,offset:c}=n.findIndex(t);if(s==e||o.isText){if(c!=t&&!n.child(l).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=l)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(Bw(o.content,e-s-1,t-s-1)))}function jw(n,e,t,r){let{index:s,offset:o}=n.findIndex(e),l=n.maybeChild(s);if(o==e||l.isText)return n.cut(0,e).append(t).append(n.cut(e));let c=jw(l.content,e-o-1,t);return c&&n.replaceChild(s,l.copy(c))}function HA(n,e,t){if(t.openStart>n.depth)throw new gc("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new gc("Inconsistent open depths");return Pw(n,e,t,0)}function Pw(n,e,t,r){let s=n.index(r),o=n.node(r);if(s==e.index(r)&&r<n.depth-t.openStart){let l=Pw(n,e,t,r+1);return o.copy(o.content.replaceChild(s,l))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let l=n.parent,c=l.content;return Wi(l,c.cut(0,n.parentOffset).append(t.content).append(c.cut(e.parentOffset)))}else{let{start:l,end:c}=IA(t,n);return Wi(o,Hw(n,l,c,e,r))}else return Wi(o,yc(n,e,r))}function Uw(n,e){if(!e.type.compatibleContent(n.type))throw new gc("Cannot join "+e.type.name+" onto "+n.type.name)}function Yp(n,e,t){let r=n.node(t);return Uw(r,e.node(t)),r}function Gi(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function qa(n,e,t,r){let s=(e||n).node(t),o=0,l=e?e.index(t):s.childCount;n&&(o=n.index(t),n.depth>t?o++:n.textOffset&&(Gi(n.nodeAfter,r),o++));for(let c=o;c<l;c++)Gi(s.child(c),r);e&&e.depth==t&&e.textOffset&&Gi(e.nodeBefore,r)}function Wi(n,e){return n.type.checkContent(e),n.copy(e)}function Hw(n,e,t,r,s){let o=n.depth>s&&Yp(n,e,s+1),l=r.depth>s&&Yp(t,r,s+1),c=[];return qa(null,n,s,c),o&&l&&e.index(s)==t.index(s)?(Uw(o,l),Gi(Wi(o,Hw(n,e,t,r,s+1)),c)):(o&&Gi(Wi(o,yc(n,e,s+1)),c),qa(e,t,s,c),l&&Gi(Wi(l,yc(t,r,s+1)),c)),qa(r,null,s,c),new W(c)}function yc(n,e,t){let r=[];if(qa(null,n,t,r),n.depth>t){let s=Yp(n,e,t+1);Gi(Wi(s,yc(n,e,t+1)),r)}return qa(e,null,t,r),new W(r)}function IA(n,e){let t=e.depth-n.openStart,s=e.node(t).copy(n.content);for(let o=t-1;o>=0;o--)s=e.node(o).copy(W.from(s));return{start:s.resolveNoCache(n.openStart+t),end:s.resolveNoCache(s.content.size-n.openEnd-t)}}class tl{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(t);return r?e.child(t).cut(r):s}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],s=t==0?0:this.path[t*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Pe.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),s=e.maybeChild(t);if(!r){let c=r;r=s,s=c}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!s||!o[l].isInSet(s.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new vc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],s=0,o=t;for(let l=e;;){let{index:c,offset:d}=l.content.findIndex(o),h=o-d;if(r.push(l,c,s+d),!h||(l=l.child(c),l.isText))break;o=h-1,s+=d+1}return new tl(t,r,o)}static resolveCached(e,t){let r=bS.get(e);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==t)return l}else bS.set(e,r=new $A);let s=r.elts[r.i]=tl.resolve(e,t);return r.i=(r.i+1)%qA,s}}class $A{constructor(){this.elts=[],this.i=0}}const qA=12,bS=new WeakMap;class vc{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const VA=Object.create(null);class Mn{constructor(e,t,r,s=Pe.none){this.type=e,this.attrs=t,this.marks=s,this.content=r||W.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,s=0){this.content.nodesBetween(e,t,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,s){return this.content.textBetween(e,t,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&mc(this.attrs,t||e.defaultAttrs||VA)&&Pe.sameSet(this.marks,r||Pe.none)}copy(e=null){return e==this.content?this:new Mn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Mn(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ee.empty;let s=this.resolve(e),o=this.resolve(t),l=r?0:s.sharedDepth(t),c=s.start(l),h=s.node(l).content.cut(s.pos-c,o.pos-c);return new ee(h,s.depth-l,o.depth-l)}replace(e,t,r){return HA(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:s}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(s==e||t.isText)return t;e-=s+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let s=this.content.child(t-1);return{node:s,index:t-1,offset:r-s.nodeSize}}resolve(e){return tl.resolveCached(this,e)}resolveNoCache(e){return tl.resolve(this,e)}rangeHasMark(e,t,r){let s=!1;return t>e&&this.nodesBetween(e,t,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Iw(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=W.empty,s=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,s,o),c=l&&l.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(let d=s;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,t,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,t);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pe.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let s=W.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,s,r);return o.type.checkAttrs(o.attrs),o}}Mn.prototype.text=void 0;class bc extends Mn{constructor(e,t,r,s){if(super(e,t,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Iw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new bc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new bc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Iw(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Zi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new FA(e,t);if(r.next==null)return Zi.empty;let s=$w(r);r.next&&r.err("Unexpected trailing text");let o=QA(JA(s));return ZA(o,r),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let s=this;for(let o=t;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let s=[this];function o(l,c){let d=l.matchFragment(e,r);if(d&&(!t||d.validEnd))return W.from(c.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:p,next:g}=l.next[h];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(g)==-1){s.push(g);let v=o(g,c.concat(p));if(v)return v}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let l=[];for(let c=s;c.type;c=c.via)l.push(c.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:c,next:d}=o.next[l];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in t)&&(!s.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),t[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&t(r.next[s].next)}return t(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}Zi.empty=new Zi(!0);class FA{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function $w(n){let e=[];do e.push(KA(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function KA(n){let e=[];do e.push(GA(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function GA(n){let e=XA(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=WA(n,e);else break;return e}function SS(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function WA(n,e){let t=SS(n),r=t;return n.eat(",")&&(n.next!="}"?r=SS(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function YA(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let s=[];for(let o in t){let l=t[o];l.isInGroup(e)&&s.push(l)}return s.length==0&&n.err("No node type or group '"+e+"' found"),s}function XA(n){if(n.eat("(")){let e=$w(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=YA(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function JA(n){let e=[[]];return s(o(n,0),t()),e;function t(){return e.push([])-1}function r(l,c,d){let h={term:d,to:c};return e[l].push(h),h}function s(l,c){l.forEach(d=>d.to=c)}function o(l,c){if(l.type=="choice")return l.exprs.reduce((d,h)=>d.concat(o(h,c)),[]);if(l.type=="seq")for(let d=0;;d++){let h=o(l.exprs[d],c);if(d==l.exprs.length-1)return h;s(h,c=t())}else if(l.type=="star"){let d=t();return r(c,d),s(o(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=t();return s(o(l.expr,c),d),s(o(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(c)].concat(o(l.expr,c));if(l.type=="range"){let d=c;for(let h=0;h<l.min;h++){let p=t();s(o(l.expr,d),p),d=p}if(l.max==-1)s(o(l.expr,d),d);else for(let h=l.min;h<l.max;h++){let p=t();r(d,p),s(o(l.expr,d),p),d=p}return[r(d)]}else{if(l.type=="name")return[r(c,void 0,l.value)];throw new Error("Unknown expr type")}}}}function qw(n,e){return e-n}function wS(n,e){let t=[];return r(e),t.sort(qw);function r(s){let o=n[s];if(o.length==1&&!o[0].term)return r(o[0].to);t.push(s);for(let l=0;l<o.length;l++){let{term:c,to:d}=o[l];!c&&t.indexOf(d)==-1&&r(d)}}}function QA(n){let e=Object.create(null);return t(wS(n,0));function t(r){let s=[];r.forEach(l=>{n[l].forEach(({term:c,to:d})=>{if(!c)return;let h;for(let p=0;p<s.length;p++)s[p][0]==c&&(h=s[p][1]);wS(n,d).forEach(p=>{h||s.push([c,h=[]]),h.indexOf(p)==-1&&h.push(p)})})});let o=e[r.join(",")]=new Zi(r.indexOf(n.length-1)>-1);for(let l=0;l<s.length;l++){let c=s[l][1].sort(qw);o.next.push({type:s[l][0],next:e[c.join(",")]||t(c)})}return o}}function ZA(n,e){for(let t=0,r=[n];t<r.length;t++){let s=r[t],o=!s.validEnd,l=[];for(let c=0;c<s.next.length;c++){let{type:d,next:h}=s.next[c];l.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Vw(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Fw(n,e){let t=Object.create(null);for(let r in n){let s=e&&e[r];if(s===void 0){let o=n[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=s}return t}function Kw(n,e,t,r){for(let s in e)if(!(s in n))throw new RangeError(`Unsupported attribute ${s} for ${t} of type ${s}`);for(let s in n){let o=n[s];o.validate&&o.validate(e[s])}}function Gw(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new tR(n,r,e[r]);return t}let xS=class Ww{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Gw(e,r.attrs),this.defaultAttrs=Vw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Zi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Fw(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Mn(this,this.computeAttrs(e),W.from(t),Pe.setFrom(r))}createChecked(e=null,t,r){return t=W.from(t),this.checkContent(t),new Mn(this,this.computeAttrs(e),t,Pe.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=W.from(t),t.size){let l=this.contentMatch.fillBefore(t);if(!l)return null;t=l.append(t)}let s=this.contentMatch.matchFragment(t),o=s&&s.fillBefore(W.empty,!0);return o?new Mn(this,e,t.append(o),Pe.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Kw(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:Pe.none:e}static compile(e,t){let r=Object.create(null);e.forEach((o,l)=>r[o]=new Ww(o,t,l));let s=t.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function eR(n,e,t){let r=t.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${o}`)}}class tR{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?eR(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class uf{constructor(e,t,r,s){this.name=e,this.rank=t,this.schema=r,this.spec=s,this.attrs=Gw(e,s.attrs),this.excluded=null;let o=Vw(this.attrs);this.instance=o?new Pe(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Pe(this,Fw(this.attrs,e))}static compile(e,t){let r=Object.create(null),s=0;return e.forEach((o,l)=>r[o]=new uf(o,s++,t,l)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Kw(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Yw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let s in e)t[s]=e[s];t.nodes=kt.from(e.nodes),t.marks=kt.from(e.marks||{}),this.nodes=xS.compile(this.spec.nodes,this),this.marks=uf.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],l=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=Zi.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?ES(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:ES(this,l.split(" "))}this.nodeFromJSON=s=>Mn.fromJSON(this,s),this.markFromJSON=s=>Pe.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof xS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,s)}text(e,t){let r=this.nodes.text;return new bc(r,r.defaultAttrs,e,Pe.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function ES(n,e){let t=[];for(let r=0;r<e.length;r++){let s=e[r],o=n.marks[s],l=o;if(o)t.push(o);else for(let c in n.marks){let d=n.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&t.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function nR(n){return n.tag!=null}function rR(n){return n.style!=null}class ui{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(s=>{if(nR(s))this.tags.push(s);else if(rR(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,t={}){let r=new kS(this,t,!1);return r.addAll(e,Pe.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new kS(this,t,!0);return r.addAll(e,Pe.none,t.from,t.to),ee.maxOpen(r.finish())}matchTag(e,t,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(oR(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,t,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let l=this.styles[o],c=l.style;if(!(c.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=t))){if(l.getAttrs){let d=l.getAttrs(t);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let t=[];function r(s){let o=s.priority==null?50:s.priority,l=0;for(;l<t.length;l++){let c=t[l];if((c.priority==null?50:c.priority)<o)break}t.splice(l,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(l=>{r(l=CS(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(l=>{r(l=CS(l)),l.node||l.ignore||l.mark||(l.node=s)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ui(e,ui.schemaRules(e)))}}const Xw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},iR={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Jw={ol:!0,ul:!0},nl=1,Xp=2,Va=4;function TS(n,e,t){return e!=null?(e?nl:0)|(e==="full"?Xp:0):n&&n.whitespace=="pre"?nl|Xp:t&~Va}class Yu{constructor(e,t,r,s,o,l){this.type=e,this.attrs=t,this.marks=r,this.solid=s,this.options=l,this.content=[],this.activeMarks=Pe.none,this.match=o||(l&Va?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(W.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&nl)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let t=W.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(W.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Xw.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class kS{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=t.topNode,o,l=TS(null,t.preserveWhitespace,0)|(r?Va:0);s?o=new Yu(s.type,s.attrs,Pe.none,!0,t.topMatch||s.type.contentMatch,l):r?o=new Yu(null,null,Pe.none,!0,null,l):o=new Yu(e.schema.topNodeType,null,Pe.none,!0,null,l),this.nodes=[o],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,s=this.top,o=s.options&Xp?"full":this.localPreserveWS||(s.options&nl)>0;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let l=s.content[s.content.length-1],c=e.previousSibling;(!l||c&&c.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),c;Jw.hasOwnProperty(l)&&this.parser.normalizeLists&&sR(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:iR.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,t);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let h,p=this.needsBlock;if(Xw.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let g=d&&d.skip?t:this.readStyles(e,t);g&&this.addAll(e,g),h&&this.sync(o),this.needsBlock=p}else{let h=this.readStyles(e,t);h&&this.addElementByRule(e,d,h,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],l=r.getPropertyValue(o);if(l)for(let c=void 0;;){let d=this.parser.matchStyle(o,l,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?t=t.filter(h=>!d.clearMark(h)):t=t.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return t}addElementByRule(e,t,r,s){let o,l;if(t.node)if(l=this.parser.schema.nodes[t.node],l.isLeaf)this.insertNode(l.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(l,t.attrs||null,r,t.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[t.mark];r=r.concat(d.create(t.attrs))}let c=this.top;if(l&&l.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof t.contentElement=="string"?d=e.querySelector(t.contentElement):typeof t.contentElement=="function"?d=t.contentElement(e):t.contentElement&&(d=t.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(c)&&this.open--}addAll(e,t,r,s){let o=r||0;for(let l=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];l!=c;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,t);this.findAtPoint(e,o)}findPlace(e,t,r){let s,o;for(let l=this.open,c=0;l>=0;l--){let d=this.nodes[l],h=d.findWrapping(e);if(h&&(!s||s.length>h.length+c)&&(s=h,o=d,!h.length))break;if(d.solid){if(r)break;c+=2}}if(!s)return null;this.sync(o);for(let l=0;l<s.length;l++)t=this.enterInner(s[l],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let s=this.findPlace(e,t,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=Pe.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):_S(c.type,e.type))&&(l=c.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,t,r,s){let o=this.findPlace(e.create(t),r,!1);return o&&(o=this.enterInner(e,t,r,!0,s)),o}enterInner(e,t,r,s=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let c=TS(e,o,l.options);l.options&Va&&l.content.length==0&&(c|=Va);let d=Pe.none;return r=r.filter(h=>(l.type?l.type.allowsMarkType(h.type):_S(h.type,e))?(d=h.addToSet(d),!1):!0),this.nodes.push(new Yu(e,t,d,s,null,c)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=nl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&t.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),l=(c,d)=>{for(;c>=0;c--){let h=t[c];if(h==""){if(c==t.length-1||c==0)continue;for(;d>=o;d--)if(l(c-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!p||p.name!=h&&!p.isInGroup(h))return!1;d--}}return!0};return l(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function sR(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Jw.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function oR(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function CS(n){let e={};for(let t in n)e[t]=n[t];return e}function _S(n,e){let t=e.schema.nodes;for(let r in t){let s=t[r];if(!s.allowsMarkType(n))continue;let o=[],l=c=>{o.push(c);for(let d=0;d<c.edgeCount;d++){let{type:h,next:p}=c.edge(d);if(h==e||o.indexOf(p)<0&&l(p))return!0}};if(l(s.contentMatch))return!0}}class ls{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=lp(t).createDocumentFragment());let s=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let c=0,d=0;for(;c<o.length&&d<l.marks.length;){let h=l.marks[d];if(!this.marks[h.type.name]){d++;continue}if(!h.eq(o[c][0])||h.type.spec.spanning===!1)break;c++,d++}for(;c<o.length;)s=o.pop()[1];for(;d<l.marks.length;){let h=l.marks[d++],p=this.serializeMark(h,l.isInline,t);p&&(o.push([h,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(l,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:s}=ac(lp(t),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,s)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,t,r={}){let s=this.marks[e.type.name];return s&&ac(lp(r),s(e,t),null,e.attrs)}static renderSpec(e,t,r=null,s){return ac(e,t,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ls(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=OS(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return OS(e.marks)}}function OS(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function lp(n){return n.document||window.document}const MS=new WeakMap;function aR(n){let e=MS.get(n);return e===void 0&&MS.set(n,e=lR(n)),e}function lR(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)t(r[s]);else for(let s in r)t(r[s])}return t(n),e}function ac(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=aR(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=s.indexOf(" ");l>0&&(t=s.slice(0,l),s=s.slice(l+1));let c,d=t?n.createElementNS(t,s):n.createElement(s),h=e[1],p=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){p=2;for(let g in h)if(h[g]!=null){let v=g.indexOf(" ");v>0?d.setAttributeNS(g.slice(0,v),g.slice(v+1),h[g]):g=="style"&&d.style?d.style.cssText=h[g]:d.setAttribute(g,h[g])}}for(let g=p;g<e.length;g++){let v=e[g];if(v===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:b,contentDOM:S}=ac(n,v,t,r);if(d.appendChild(b),S){if(c)throw new RangeError("Multiple content holes");c=S}}}return{dom:d,contentDOM:c}}const Qw=65535,Zw=Math.pow(2,16);function uR(n,e){return n+e*Zw}function AS(n){return n&Qw}function cR(n){return(n-(n&Qw))/Zw}const ex=1,tx=2,lc=4,nx=8;class Jp{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&nx)>0}get deletedBefore(){return(this.delInfo&(ex|lc))>0}get deletedAfter(){return(this.delInfo&(tx|lc))>0}get deletedAcross(){return(this.delInfo&lc)>0}}class sn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&sn.empty)return sn.empty}recover(e){let t=0,r=AS(e);if(!this.inverted)for(let s=0;s<r;s++)t+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+t+cR(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let s=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let h=this.ranges[c+o],p=this.ranges[c+l],g=d+h;if(e<=g){let v=h?e==d?-1:e==g?1:t:t,b=d+s+(v<0?0:p);if(r)return b;let S=e==(t<0?d:g)?null:uR(c/3,e-d),x=e==d?tx:e==g?ex:lc;return(t<0?e!=d:e!=g)&&(x|=nx),new Jp(b,x,S)}s+=p-h}return r?e+s:new Jp(e+s,0,null)}touches(e,t){let r=0,s=AS(t),o=this.inverted?2:1,l=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let h=this.ranges[c+o],p=d+h;if(e<=p&&c==s*3)return!0;r+=this.ranges[c+l]-h}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let l=this.ranges[s],c=l-(this.inverted?o:0),d=l+(this.inverted?0:o),h=this.ranges[s+t],p=this.ranges[s+r];e(c,c+h,d,d+p),o+=p-h}}invert(){return new sn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?sn.empty:new sn(e<0?[0,-e,0]:[0,0,e])}}sn.empty=new sn([]);class rl{constructor(e,t,r=0,s=e?e.length:0){this.mirror=t,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new rl(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let s=e.getMirror(t);this.appendMap(e._maps[t],s!=null&&s<t?r+s:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let s=e.getMirror(t);this.appendMap(e._maps[t].invert(),s!=null&&s>t?r-s-1:void 0)}}invert(){let e=new rl;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let s=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],c=l.mapResult(e,t);if(c.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new Jp(e,s,null)}}const up=Object.create(null);class zt{getMap(){return sn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=up[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in up)throw new RangeError("Duplicate use of step JSON ID "+e);return up[e]=t,t.prototype.jsonID=e,t}}class at{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new at(e,null)}static fail(e){return new at(null,e)}static fromReplace(e,t,r,s){try{return at.ok(e.replace(t,r,s))}catch(o){if(o instanceof gc)return at.fail(o.message);throw o}}}function Lm(n,e,t){let r=[];for(let s=0;s<n.childCount;s++){let o=n.child(s);o.content.size&&(o=o.copy(Lm(o.content,e,o))),o.isInline&&(o=e(o,t,s)),r.push(o)}return W.fromArray(r)}class oi extends zt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new ee(Lm(t.content,(l,c)=>!l.isAtom||!c.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),t.openStart,t.openEnd);return at.fromReplace(e,this.from,this.to,o)}invert(){return new On(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new oi(t.pos,r.pos,this.mark)}merge(e){return e instanceof oi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new oi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new oi(t.from,t.to,e.markFromJSON(t.mark))}}zt.jsonID("addMark",oi);class On extends zt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ee(Lm(t.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),t.openStart,t.openEnd);return at.fromReplace(e,this.from,this.to,r)}invert(){return new oi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new On(t.pos,r.pos,this.mark)}merge(e){return e instanceof On&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new On(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new On(t.from,t.to,e.markFromJSON(t.mark))}}zt.jsonID("removeMark",On);class ai extends zt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return at.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return at.fromReplace(e,this.pos,this.pos+1,new ee(W.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let s=0;s<t.marks.length;s++)if(!t.marks[s].isInSet(r))return new ai(this.pos,t.marks[s]);return new ai(this.pos,this.mark)}}return new es(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ai(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ai(t.pos,e.markFromJSON(t.mark))}}zt.jsonID("addNodeMark",ai);class es extends zt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return at.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return at.fromReplace(e,this.pos,this.pos+1,new ee(W.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new ai(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new es(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new es(t.pos,e.markFromJSON(t.mark))}}zt.jsonID("removeNodeMark",es);class vt extends zt{constructor(e,t,r,s=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=s}apply(e){return this.structure&&Qp(e,this.from,this.to)?at.fail("Structure replace would overwrite content"):at.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new sn([this.from,this.to-this.from,this.slice.size])}invert(e){return new vt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new vt(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof vt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ee.empty:new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new vt(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ee.empty:new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new vt(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new vt(t.from,t.to,ee.fromJSON(e,t.slice),!!t.structure)}}zt.jsonID("replace",vt);class bt extends zt{constructor(e,t,r,s,o,l,c=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=l,this.structure=c}apply(e){if(this.structure&&(Qp(e,this.from,this.gapFrom)||Qp(e,this.gapTo,this.to)))return at.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return at.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?at.fromReplace(e,this.from,this.to,r):at.fail("Content does not fit in gap")}getMap(){return new sn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new bt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||s<t.pos||o>r.pos?null:new bt(t.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bt(t.from,t.to,t.gapFrom,t.gapTo,ee.fromJSON(e,t.slice),t.insert,!!t.structure)}}zt.jsonID("replaceAround",bt);function Qp(n,e,t){let r=n.resolve(e),s=t-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function fR(n,e,t,r){let s=[],o=[],l,c;n.doc.nodesBetween(e,t,(d,h,p)=>{if(!d.isInline)return;let g=d.marks;if(!r.isInSet(g)&&p.type.allowsMarkType(r.type)){let v=Math.max(h,e),b=Math.min(h+d.nodeSize,t),S=r.addToSet(g);for(let x=0;x<g.length;x++)g[x].isInSet(S)||(l&&l.to==v&&l.mark.eq(g[x])?l.to=b:s.push(l=new On(v,b,g[x])));c&&c.to==v?c.to=b:o.push(c=new oi(v,b,r))}}),s.forEach(d=>n.step(d)),o.forEach(d=>n.step(d))}function dR(n,e,t,r){let s=[],o=0;n.doc.nodesBetween(e,t,(l,c)=>{if(!l.isInline)return;o++;let d=null;if(r instanceof uf){let h=l.marks,p;for(;p=r.isInSet(h);)(d||(d=[])).push(p),h=p.removeFromSet(h)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let h=Math.min(c+l.nodeSize,t);for(let p=0;p<d.length;p++){let g=d[p],v;for(let b=0;b<s.length;b++){let S=s[b];S.step==o-1&&g.eq(s[b].style)&&(v=S)}v?(v.to=h,v.step=o):s.push({style:g,from:Math.max(c,e),to:h,step:o})}}}),s.forEach(l=>n.step(new On(l.from,l.to,l.style)))}function Bm(n,e,t,r=t.contentMatch,s=!0){let o=n.doc.nodeAt(e),l=[],c=e+1;for(let d=0;d<o.childCount;d++){let h=o.child(d),p=c+h.nodeSize,g=r.matchType(h.type);if(!g)l.push(new vt(c,p,ee.empty));else{r=g;for(let v=0;v<h.marks.length;v++)t.allowsMarkType(h.marks[v].type)||n.step(new On(c,p,h.marks[v]));if(s&&h.isText&&t.whitespace!="pre"){let v,b=/\r?\n|\r/g,S;for(;v=b.exec(h.text);)S||(S=new ee(W.from(t.schema.text(" ",t.allowedMarks(h.marks))),0,0)),l.push(new vt(c+v.index,c+v.index+v[0].length,S))}}c=p}if(!r.validEnd){let d=r.fillBefore(W.empty,!0);n.replace(c,c,new ee(d,0,0))}for(let d=l.length-1;d>=0;d--)n.step(l[d])}function hR(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Oo(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let s=n.$from.node(r),o=n.$from.index(r),l=n.$to.indexAfter(r);if(r<n.depth&&s.canReplace(o,l,t))return r;if(r==0||s.type.spec.isolating||!hR(s,o,l))break}return null}function pR(n,e,t){let{$from:r,$to:s,depth:o}=e,l=r.before(o+1),c=s.after(o+1),d=l,h=c,p=W.empty,g=0;for(let S=o,x=!1;S>t;S--)x||r.index(S)>0?(x=!0,p=W.from(r.node(S).copy(p)),g++):d--;let v=W.empty,b=0;for(let S=o,x=!1;S>t;S--)x||s.after(S+1)<s.end(S)?(x=!0,v=W.from(s.node(S).copy(v)),b++):h++;n.step(new bt(d,h,l,c,new ee(p.append(v),g,b),p.size-g,!0))}function jm(n,e,t=null,r=n){let s=mR(n,e),o=s&&gR(r,e);return o?s.map(RS).concat({type:e,attrs:t}).concat(o.map(RS)):null}function RS(n){return{type:n,attrs:null}}function mR(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.contentMatchAt(r).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return t.canReplaceWith(r,s,l)?o:null}function gR(n,e){let{parent:t,startIndex:r,endIndex:s}=n,o=t.child(r),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let h=r;d&&h<s;h++)d=d.matchType(t.child(h).type);return!d||!d.validEnd?null:l}function yR(n,e,t){let r=W.empty;for(let l=t.length-1;l>=0;l--){if(r.size){let c=t[l].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=W.from(t[l].type.create(t[l].attrs,r))}let s=e.start,o=e.end;n.step(new bt(s,o,s,o,new ee(r,0,0),t.length,!0))}function vR(n,e,t,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(e,t,(l,c)=>{let d=typeof s=="function"?s(l):s;if(l.isTextblock&&!l.hasMarkup(r,d)&&bR(n.doc,n.mapping.slice(o).map(c),r)){let h=null;if(r.schema.linebreakReplacement){let b=r.whitespace=="pre",S=!!r.contentMatch.matchType(r.schema.linebreakReplacement);b&&!S?h=!1:!b&&S&&(h=!0)}h===!1&&ix(n,l,c,o),Bm(n,n.mapping.slice(o).map(c,1),r,void 0,h===null);let p=n.mapping.slice(o),g=p.map(c,1),v=p.map(c+l.nodeSize,1);return n.step(new bt(g,v,g+1,v-1,new ee(W.from(r.create(d,null,l.marks)),0,0),1,!0)),h===!0&&rx(n,l,c,o),!1}})}function rx(n,e,t,r){e.forEach((s,o)=>{if(s.isText){let l,c=/\r?\n|\r/g;for(;l=c.exec(s.text);){let d=n.mapping.slice(r).map(t+1+o+l.index);n.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function ix(n,e,t,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let l=n.mapping.slice(r).map(t+1+o);n.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function bR(n,e,t){let r=n.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,t)}function SR(n,e,t,r,s){let o=n.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);let l=t.create(r,null,s||o.marks);if(o.isLeaf)return n.replaceWith(e,e+o.nodeSize,l);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new bt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ee(W.from(l),0,0),1,!0))}function yr(n,e,t=1,r){let s=n.resolve(e),o=s.depth-t,l=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let h=s.depth-1,p=t-2;h>o;h--,p--){let g=s.node(h),v=s.index(h);if(g.type.spec.isolating)return!1;let b=g.content.cutByIndex(v,g.childCount),S=r&&r[p+1];S&&(b=b.replaceChild(0,S.type.create(S.attrs)));let x=r&&r[p]||g;if(!g.canReplace(v+1,g.childCount)||!x.type.validContent(b))return!1}let c=s.indexAfter(o),d=r&&r[0];return s.node(o).canReplaceWith(c,c,d?d.type:s.node(o+1).type)}function wR(n,e,t=1,r){let s=n.doc.resolve(e),o=W.empty,l=W.empty;for(let c=s.depth,d=s.depth-t,h=t-1;c>d;c--,h--){o=W.from(s.node(c).copy(o));let p=r&&r[h];l=W.from(p?p.type.create(p.attrs,l):s.node(c).copy(l))}n.step(new vt(e,e,new ee(o.append(l),t,t),!0))}function gi(n,e){let t=n.resolve(e),r=t.index();return sx(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function xR(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),l=o.type==r?n.type.schema.nodes.text:o.type;if(t=t.matchType(l),!t||!n.type.allowsMarks(o.marks))return!1}return t.validEnd}function sx(n,e){return!!(n&&e&&!n.isLeaf&&xR(n,e))}function cf(n,e,t=-1){let r=n.resolve(e);for(let s=r.depth;;s--){let o,l,c=r.index(s);if(s==r.depth?(o=r.nodeBefore,l=r.nodeAfter):t>0?(o=r.node(s+1),c++,l=r.node(s).maybeChild(c)):(o=r.node(s).maybeChild(c-1),l=r.node(s+1)),o&&!o.isTextblock&&sx(o,l)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=t<0?r.before(s):r.after(s)}}function ER(n,e,t){let r=null,{linebreakReplacement:s}=n.doc.type.schema,o=n.doc.resolve(e-t),l=o.node().type;if(s&&l.inlineContent){let p=l.whitespace=="pre",g=!!l.contentMatch.matchType(s);p&&!g?r=!1:!p&&g&&(r=!0)}let c=n.steps.length;if(r===!1){let p=n.doc.resolve(e+t);ix(n,p.node(),p.before(),c)}l.inlineContent&&Bm(n,e+t-1,l,o.node().contentMatchAt(o.index()),r==null);let d=n.mapping.slice(c),h=d.map(e-t);if(n.step(new vt(h,d.map(e+t,-1),ee.empty,!0)),r===!0){let p=n.doc.resolve(h);rx(n,p.node(),p.before(),n.steps.length)}return n}function TR(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,t))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,t))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function ox(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let s=t.content;for(let o=0;o<t.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(t.openStart==0&&t.size?2:1);o++)for(let l=r.depth;l>=0;l--){let c=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(c>0?1:0),h=r.node(l),p=!1;if(o==1)p=h.canReplace(d,d,s);else{let g=h.contentMatchAt(d).findWrapping(s.firstChild.type);p=g&&h.canReplaceWith(d,d,g[0])}if(p)return c==0?r.pos:c<0?r.before(l+1):r.after(l+1)}return null}function ff(n,e,t=e,r=ee.empty){if(e==t&&!r.size)return null;let s=n.resolve(e),o=n.resolve(t);return ax(s,o,r)?new vt(e,t,r):new kR(s,o,r).fit()}function ax(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class kR{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=W.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=W.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,l=r.depth,c=s.depth;for(;l&&c&&o.childCount==1;)o=o.firstChild.content,l--,c--;let d=new ee(o,l,c);return e>-1?new bt(r.pos,e,this.$to.pos,this.$to.end(),d,t):d.size||r.pos!=this.$to.pos?new vt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=t.firstChild;if(t.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}t=o.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=cp(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let l=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:h}=this.frontier[c],p,g=null;if(t==1&&(l?h.matchType(l.type)||(g=h.fillBefore(W.from(l),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:g};if(t==2&&l&&(p=h.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:p};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=cp(e,t);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ee(e,t+1,Math.max(r,s.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,s=cp(e,t);if(s.childCount<=1&&t>0){let o=e.size-t<=t+s.size;this.unplaced=new ee(ja(e,t-1,1),t-1,o?t-1:r)}else this.unplaced=new ee(ja(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:s,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let x=0;x<o.length;x++)this.openFrontierNode(o[x]);let l=this.unplaced,c=r?r.content:l.content,d=l.openStart-e,h=0,p=[],{match:g,type:v}=this.frontier[t];if(s){for(let x=0;x<s.childCount;x++)p.push(s.child(x));g=g.matchFragment(s)}let b=c.size+e-(l.content.size-l.openEnd);for(;h<c.childCount;){let x=c.child(h),E=g.matchType(x.type);if(!E)break;h++,(h>1||d==0||x.content.size)&&(g=E,p.push(lx(x.mark(v.allowedMarks(x.marks)),h==1?d:0,h==c.childCount?b:-1)))}let S=h==c.childCount;S||(b=-1),this.placed=Pa(this.placed,t,W.from(p)),this.frontier[t].match=g,S&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,E=c;x<b;x++){let T=E.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),E=T.content}this.unplaced=S?e==0?ee.empty:new ee(ja(l.content,e-1,1),e-1,b<0?l.openEnd:e-1):new ee(ja(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!fp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:s}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=fp(e,t,s,r,o);if(l){for(let c=t-1;c>=0;c--){let{match:d,type:h}=this.frontier[c],p=fp(e,c,h,d,!0);if(!p||p.childCount)continue e}return{depth:t,fit:l,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Pa(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,t=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Pa(this.placed,this.depth,W.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(W.empty,!0);t.childCount&&(this.placed=Pa(this.placed,this.frontier.length,t))}}function ja(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(ja(n.firstChild.content,e-1,t)))}function Pa(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Pa(n.lastChild.content,e-1,t)))}function cp(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function lx(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,lx(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(W.empty,!0)))),n.copy(r)}function fp(n,e,t,r,s){let o=n.node(e),l=s?n.indexAfter(e):n.index(e);if(l==o.childCount&&!t.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,l);return c&&!CR(t,o.content,l)?c:null}function CR(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function _R(n){return n.spec.defining||n.spec.definingForContent}function OR(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let s=n.doc.resolve(e),o=n.doc.resolve(t);if(ax(s,o,r))return n.step(new vt(e,t,r));let l=cx(s,n.doc.resolve(t));l[l.length-1]==0&&l.pop();let c=-(s.depth+1);l.unshift(c);for(let v=s.depth,b=s.pos-1;v>0;v--,b--){let S=s.node(v).type.spec;if(S.defining||S.definingAsContext||S.isolating)break;l.indexOf(v)>-1?c=v:s.before(v)==b&&l.splice(1,0,-v)}let d=l.indexOf(c),h=[],p=r.openStart;for(let v=r.content,b=0;;b++){let S=v.firstChild;if(h.push(S),b==r.openStart)break;v=S.content}for(let v=p-1;v>=0;v--){let b=h[v],S=_R(b.type);if(S&&!b.sameMarkup(s.node(Math.abs(c)-1)))p=v;else if(S||!b.type.isTextblock)break}for(let v=r.openStart;v>=0;v--){let b=(v+p+1)%(r.openStart+1),S=h[b];if(S)for(let x=0;x<l.length;x++){let E=l[(x+d)%l.length],T=!0;E<0&&(T=!1,E=-E);let O=s.node(E-1),C=s.index(E-1);if(O.canReplaceWith(C,C,S.type,S.marks))return n.replace(s.before(E),T?o.after(E):t,new ee(ux(r.content,0,r.openStart,b),b,r.openEnd))}}let g=n.steps.length;for(let v=l.length-1;v>=0&&(n.replace(e,t,r),!(n.steps.length>g));v--){let b=l[v];b<0||(e=s.before(b),t=o.after(b))}}function ux(n,e,t,r,s){if(e<t){let o=n.firstChild;n=n.replaceChild(0,o.copy(ux(o.content,e+1,t,r,o)))}if(e>r){let o=s.contentMatchAt(0),l=o.fillBefore(n).append(n);n=l.append(o.matchFragment(l).fillBefore(W.empty,!0))}return n}function MR(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let s=TR(n.doc,e,r.type);s!=null&&(e=t=s)}n.replaceRange(e,t,new ee(W.from(r),0,0))}function AR(n,e,t){let r=n.doc.resolve(e),s=n.doc.resolve(t),o=cx(r,s);for(let l=0;l<o.length;l++){let c=o[l],d=l==o.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return n.delete(r.start(c),s.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return n.delete(r.before(c),s.after(c))}for(let l=1;l<=r.depth&&l<=s.depth;l++)if(e-r.start(l)==r.depth-l&&t>r.end(l)&&s.end(l)-t!=s.depth-l&&r.start(l-1)==s.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),s.index(l-1)))return n.delete(r.before(l),t);n.delete(e,t)}function cx(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let s=r;s>=0;s--){let o=n.start(s);if(o<n.pos-(n.depth-s)||e.end(s)>e.pos+(e.depth-s)||n.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==n.depth&&s==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&t.push(s)}return t}class mo extends zt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return at.fail("No node at attribute step's position");let r=Object.create(null);for(let o in t.attrs)r[o]=t.attrs[o];r[this.attr]=this.value;let s=t.type.create(r,null,t.marks);return at.fromReplace(e,this.pos,this.pos+1,new ee(W.from(s),0,t.isLeaf?0:1))}getMap(){return sn.empty}invert(e){return new mo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new mo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new mo(t.pos,t.attr,t.value)}}zt.jsonID("attr",mo);class il extends zt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let s in e.attrs)t[s]=e.attrs[s];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return at.ok(r)}getMap(){return sn.empty}invert(e){return new il(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new il(t.attr,t.value)}}zt.jsonID("docAttr",il);let vo=class extends Error{};vo=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};vo.prototype=Object.create(Error.prototype);vo.prototype.constructor=vo;vo.prototype.name="TransformError";class fx{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new rl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new vo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ee.empty){let s=ff(this.doc,e,t,r);return s&&this.step(s),this}replaceWith(e,t,r){return this.replace(e,t,new ee(W.from(r),0,0))}delete(e,t){return this.replace(e,t,ee.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return OR(this,e,t,r),this}replaceRangeWith(e,t,r){return MR(this,e,t,r),this}deleteRange(e,t){return AR(this,e,t),this}lift(e,t){return pR(this,e,t),this}join(e,t=1){return ER(this,e,t),this}wrap(e,t){return yR(this,e,t),this}setBlockType(e,t=e,r,s=null){return vR(this,e,t,r,s),this}setNodeMarkup(e,t,r=null,s){return SR(this,e,t,r,s),this}setNodeAttribute(e,t,r){return this.step(new mo(e,t,r)),this}setDocAttribute(e,t){return this.step(new il(e,t)),this}addNodeMark(e,t){return this.step(new ai(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof Pe)t.isInSet(r.marks)&&this.step(new es(e,t));else{let s=r.marks,o,l=[];for(;o=t.isInSet(s);)l.push(new es(e,o)),s=o.removeFromSet(s);for(let c=l.length-1;c>=0;c--)this.step(l[c])}return this}split(e,t=1,r){return wR(this,e,t,r),this}addMark(e,t,r){return fR(this,e,t,r),this}removeMark(e,t,r){return dR(this,e,t,r),this}clearIncompatible(e,t,r){return Bm(this,e,t,r),this}}const dp=Object.create(null);class ye{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new RR(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ee.empty){let r=t.content.lastChild,s=null;for(let c=0;c<t.openEnd;c++)s=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let c=0;c<l.length;c++){let{$from:d,$to:h}=l[c],p=e.mapping.slice(o);e.replaceRange(p.map(d.pos),p.map(h.pos),c?ee.empty:t),c==0&&zS(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:l,$to:c}=s[o],d=e.mapping.slice(r),h=d.map(l.pos),p=d.map(c.pos);o?e.deleteRange(h,p):(e.replaceRangeWith(h,p,t),zS(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let s=e.parent.inlineContent?new he(e):uo(e.node(0),e.parent,e.pos,e.index(),t,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let l=t<0?uo(e.node(0),e.node(o),e.before(o+1),e.index(o),t,r):uo(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,r);if(l)return l}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new on(e.node(0))}static atStart(e){return uo(e,e,0,0,1)||new on(e)}static atEnd(e){return uo(e,e,e.content.size,e.childCount,-1)||new on(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=dp[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in dp)throw new RangeError("Duplicate use of selection JSON ID "+e);return dp[e]=t,t.prototype.jsonID=e,t}getBookmark(){return he.between(this.$anchor,this.$head).getBookmark()}}ye.prototype.visible=!0;class RR{constructor(e,t){this.$from=e,this.$to=t}}let DS=!1;function NS(n){!DS&&!n.parent.inlineContent&&(DS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class he extends ye{constructor(e,t=e){NS(e),NS(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return ye.near(r);let s=e.resolve(t.map(this.anchor));return new he(s.parent.inlineContent?s:r,r)}replace(e,t=ee.empty){if(super.replace(e,t),t==ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof he&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new df(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new he(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let s=e.resolve(t);return new this(s,r==t?s:e.resolve(r))}static between(e,t,r){let s=e.pos-t.pos;if((!r||s)&&(r=s>=0?1:-1),!t.parent.inlineContent){let o=ye.findFrom(t,r,!0)||ye.findFrom(t,-r,!0);if(o)t=o.$head;else return ye.near(t,r)}return e.parent.inlineContent||(s==0?e=t:(e=(ye.findFrom(e,-r,!0)||ye.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=s<0&&(e=t))),new he(e,t)}}ye.jsonID("text",he);class df{constructor(e,t){this.anchor=e,this.head=t}map(e){return new df(e.map(this.anchor),e.map(this.head))}resolve(e){return he.between(e.resolve(this.anchor),e.resolve(this.head))}}class ae extends ye{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:s}=t.mapResult(this.anchor),o=e.resolve(s);return r?ye.near(o):new ae(o)}content(){return new ee(W.from(this.node),0,0)}eq(e){return e instanceof ae&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Pm(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ae(e.resolve(t.anchor))}static create(e,t){return new ae(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ae.prototype.visible=!1;ye.jsonID("node",ae);class Pm{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new df(r,r):new Pm(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&ae.isSelectable(r)?new ae(t):ye.near(t)}}class on extends ye{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ee.empty){if(t==ee.empty){e.delete(0,e.doc.content.size);let r=ye.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new on(e)}map(e){return new on(e)}eq(e){return e instanceof on}getBookmark(){return DR}}ye.jsonID("all",on);const DR={map(){return this},resolve(n){return new on(n)}};function uo(n,e,t,r,s,o=!1){if(e.inlineContent)return he.create(n,t);for(let l=r-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let c=e.child(l);if(c.isAtom){if(!o&&ae.isSelectable(c))return ae.create(n,t-(s<0?c.nodeSize:0))}else{let d=uo(n,c,t+s,s<0?c.childCount:0,s,o);if(d)return d}t+=c.nodeSize*s}return null}function zS(n,e,t){let r=n.steps.length-1;if(r<e)return;let s=n.steps[r];if(!(s instanceof vt||s instanceof bt))return;let o=n.mapping.maps[r],l;o.forEach((c,d,h,p)=>{l==null&&(l=p)}),n.setSelection(ye.near(n.doc.resolve(l),t))}const LS=1,Xu=2,BS=4;class NR extends fx{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|LS)&~Xu,this.storedMarks=null,this}get selectionSet(){return(this.updated&LS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Xu,this}ensureMarks(e){return Pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Xu)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Xu,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Pe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let s=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(t);o=r==t?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,s.text(e,o)),this.selection.empty||this.setSelection(ye.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=BS,this}get scrolledIntoView(){return(this.updated&BS)>0}}function jS(n,e){return!e||!n?n:n.bind(e)}class Ua{constructor(e,t,r){this.name=e,this.init=jS(t.init,r),this.apply=jS(t.apply,r)}}const zR=[new Ua("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Ua("selection",{init(n,e){return n.selection||ye.atStart(e.doc)},apply(n){return n.selection}}),new Ua("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Ua("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class hp{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=zR.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ua(r.key,r.spec.state,r))})}}class po{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let c=this.config.plugins[l];if(c.spec.appendTransaction){let d=s?s[l].n:0,h=s?s[l].state:this,p=d<t.length&&c.spec.appendTransaction.call(c,d?t.slice(d):t,h,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let g=0;g<this.config.plugins.length;g++)s.push(g<l?{state:r,n:t.length}:{state:this,n:0})}t.push(p),r=r.applyInner(p),o=!0}s&&(s[l]={state:r,n:t.length})}}if(!o)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new po(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new NR(this)}static create(e){let t=new hp(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new po(t);for(let s=0;s<t.fields.length;s++)r[t.fields[s].name]=t.fields[s].init(e,r);return r}reconfigure(e){let t=new hp(this.schema,e.plugins),r=t.fields,s=new po(t);for(let o=0;o<r.length;o++){let l=r[o].name;s[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,s)}return s}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(t[r]=o.toJSON.call(s,this[s.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new hp(e.schema,e.plugins),o=new po(s);return s.fields.forEach(l=>{if(l.name=="doc")o.doc=Mn.fromJSON(e.schema,t.doc);else if(l.name=="selection")o.selection=ye.fromJSON(o.doc,t.selection);else if(l.name=="storedMarks")t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],h=d.spec.state;if(d.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(t,c)){o[l.name]=h.fromJSON.call(d,e,t[c],o);return}}o[l.name]=l.init(e,o)}}),o}}function dx(n,e,t){for(let r in n){let s=n[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=dx(s,e,{})),t[r]=s}return t}class Ze{constructor(e){this.spec=e,this.props={},e.props&&dx(e.props,this,this.props),this.key=e.key?e.key.key:hx("plugin")}getState(e){return e[this.key]}}const pp=Object.create(null);function hx(n){return n in pp?n+"$"+ ++pp[n]:(pp[n]=0,n+"$")}class wt{constructor(e="key"){this.key=hx(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ct=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},bo=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Zp=null;const pr=function(n,e,t){let r=Zp||(Zp=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},LR=function(){Zp=null},ts=function(n,e,t,r){return t&&(PS(n,e,t,r,-1)||PS(n,e,t,r,1))},BR=/^(img|br|input|textarea|hr)$/i;function PS(n,e,t,r,s){for(var o;;){if(n==t&&e==r)return!0;if(e==(s<0?0:Sn(n))){let l=n.parentNode;if(!l||l.nodeType!=1||bl(n)||BR.test(n.nodeName)||n.contentEditable=="false")return!1;e=Ct(n)+(s<0?0:1),n=l}else if(n.nodeType==1){let l=n.childNodes[e+(s<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((o=l.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else n=l,e=s<0?Sn(n):0}else return!1}}function Sn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function jR(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Sn(n)}else if(n.parentNode&&!bl(n))e=Ct(n),n=n.parentNode;else return null}}function PR(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!bl(n))e=Ct(n)+1,n=n.parentNode;else return null}}function UR(n,e,t){for(let r=e==0,s=e==Sn(n);r||s;){if(n==t)return!0;let o=Ct(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,s=s&&o==Sn(n)}}function bl(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const hf=function(n){return n.focusNode&&ts(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function $i(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function HR(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function IR(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Sn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Sn(r.startContainer),r.startOffset)}}}const qn=typeof navigator<"u"?navigator:null,US=typeof document<"u"?document:null,yi=qn&&qn.userAgent||"",em=/Edge\/(\d+)/.exec(yi),px=/MSIE \d/.exec(yi),tm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yi),Gt=!!(px||tm||em),ci=px?document.documentMode:tm?+tm[1]:em?+em[1]:0,An=!Gt&&/gecko\/(\d+)/i.test(yi);An&&+(/Firefox\/(\d+)/.exec(yi)||[0,0])[1];const nm=!Gt&&/Chrome\/(\d+)/.exec(yi),Nt=!!nm,mx=nm?+nm[1]:0,jt=!Gt&&!!qn&&/Apple Computer/.test(qn.vendor),So=jt&&(/Mobile\/\w+/.test(yi)||!!qn&&qn.maxTouchPoints>2),bn=So||(qn?/Mac/.test(qn.platform):!1),$R=qn?/Win/.test(qn.platform):!1,mr=/Android \d/.test(yi),Sl=!!US&&"webkitFontSmoothing"in US.documentElement.style,qR=Sl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function VR(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function lr(n,e){return typeof n=="number"?n:n[e]}function FR(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function HS(n,e,t){let r=n.someProp("scrollThreshold")||0,s=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let l=t||n.dom;l;){if(l.nodeType!=1){l=bo(l);continue}let c=l,d=c==o.body,h=d?VR(o):FR(c),p=0,g=0;if(e.top<h.top+lr(r,"top")?g=-(h.top-e.top+lr(s,"top")):e.bottom>h.bottom-lr(r,"bottom")&&(g=e.bottom-e.top>h.bottom-h.top?e.top+lr(s,"top")-h.top:e.bottom-h.bottom+lr(s,"bottom")),e.left<h.left+lr(r,"left")?p=-(h.left-e.left+lr(s,"left")):e.right>h.right-lr(r,"right")&&(p=e.right-h.right+lr(s,"right")),p||g)if(d)o.defaultView.scrollBy(p,g);else{let b=c.scrollLeft,S=c.scrollTop;g&&(c.scrollTop+=g),p&&(c.scrollLeft+=p);let x=c.scrollLeft-b,E=c.scrollTop-S;e={left:e.left-x,top:e.top-E,right:e.right-x,bottom:e.bottom-E}}let v=d?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(v))break;l=v=="absolute"?l.offsetParent:bo(l)}}function KR(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,l=t+1;l<Math.min(innerHeight,e.bottom);l+=5){let c=n.root.elementFromPoint(o,l);if(!c||c==n.dom||!n.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=t-20){r=c,s=d.top;break}}return{refDOM:r,refTop:s,stack:gx(n.dom)}}function gx(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=bo(r));return e}function GR({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;yx(t,r==0?0:r-e)}function yx(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:s,left:o}=n[t];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let so=null;function WR(n){if(n.setActive)return n.setActive();if(so)return n.focus(so);let e=gx(n);n.focus(so==null?{get preventScroll(){return so={preventScroll:!0},!0}}:void 0),so||(so=!1,yx(e,0))}function vx(n,e){let t,r=2e8,s,o=0,l=e.top,c=e.top,d,h;for(let p=n.firstChild,g=0;p;p=p.nextSibling,g++){let v;if(p.nodeType==1)v=p.getClientRects();else if(p.nodeType==3)v=pr(p).getClientRects();else continue;for(let b=0;b<v.length;b++){let S=v[b];if(S.top<=l&&S.bottom>=c){l=Math.max(S.bottom,l),c=Math.min(S.top,c);let x=S.left>e.left?S.left-e.left:S.right<e.left?e.left-S.right:0;if(x<r){t=p,r=x,s=x&&t.nodeType==3?{left:S.right<e.left?S.right:S.left,top:e.top}:e,p.nodeType==1&&x&&(o=g+(e.left>=(S.left+S.right)/2?1:0));continue}}else S.top>e.top&&!d&&S.left<=e.left&&S.right>=e.left&&(d=p,h={left:Math.max(S.left,Math.min(S.right,e.left)),top:S.top});!t&&(e.left>=S.right&&e.top>=S.top||e.left>=S.left&&e.top>=S.bottom)&&(o=g+1)}}return!t&&d&&(t=d,s=h,r=0),t&&t.nodeType==3?YR(t,s):!t||r&&t.nodeType==1?{node:n,offset:o}:vx(t,s)}function YR(n,e){let t=n.nodeValue.length,r=document.createRange();for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let o=Jr(r,1);if(o.top!=o.bottom&&Um(e,o))return{node:n,offset:s+(e.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function Um(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function XR(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function JR(n,e,t){let{node:r,offset:s}=vx(e,t),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&t.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(r,s,o)}function QR(n,e,t,r){let s=-1;for(let o=e,l=!1;o!=n.dom;){let c=n.docView.nearestDesc(o,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!l&&d.left>r.left||d.top>r.top?s=c.posBefore:(!l&&d.right<r.left||d.bottom<r.top)&&(s=c.posAfter),l=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:n.docView.posFromDOM(e,t,-1)}function bx(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),o=s;;){let l=n.childNodes[o];if(l.nodeType==1){let c=l.getClientRects();for(let d=0;d<c.length;d++){let h=c[d];if(Um(e,h))return bx(l,e,h)}}if((o=(o+1)%r)==s)break}return n}function ZR(n,e){let t=n.dom.ownerDocument,r,s=0,o=IR(t,e.left,e.top);o&&({node:r,offset:s}=o);let l=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),c;if(!l||!n.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=n.dom.getBoundingClientRect();if(!Um(e,h)||(l=bx(n.dom,e,h),!l))return null}if(jt)for(let h=l;r&&h;h=bo(h))h.draggable&&(r=void 0);if(l=XR(l,e),r){if(An&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&s++}let h;Sl&&s&&r.nodeType==1&&(h=r.childNodes[s-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&s--,r==n.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=n.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=QR(n,r,s,e))}c==null&&(c=JR(n,l,e));let d=n.docView.nearestDesc(l,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function IS(n){return n.top<n.bottom||n.left<n.right}function Jr(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(IS(r))return r}return Array.prototype.find.call(t,IS)||n.getBoundingClientRect()}const eD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Sx(n,e,t){let{node:r,offset:s,atom:o}=n.docView.domFromPos(e,t<0?-1:1),l=Sl||An;if(r.nodeType==3)if(l&&(eD.test(r.nodeValue)||(t<0?!s:s==r.nodeValue.length))){let d=Jr(pr(r,s,s),t);if(An&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let h=Jr(pr(r,s-1,s-1),-1);if(h.top==d.top){let p=Jr(pr(r,s,s+1),-1);if(p.top!=d.top)return Na(p,p.left<h.left)}}return d}else{let d=s,h=s,p=t<0?1:-1;return t<0&&!s?(h++,p=-1):t>=0&&s==r.nodeValue.length?(d--,p=1):t<0?d--:h++,Na(Jr(pr(r,d,h),p),p<0)}if(!n.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(t<0||s==Sn(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return mp(d.getBoundingClientRect(),!1)}if(o==null&&s<Sn(r)){let d=r.childNodes[s];if(d.nodeType==1)return mp(d.getBoundingClientRect(),!0)}return mp(r.getBoundingClientRect(),t>=0)}if(o==null&&s&&(t<0||s==Sn(r))){let d=r.childNodes[s-1],h=d.nodeType==3?pr(d,Sn(d)-(l?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(h)return Na(Jr(h,1),!1)}if(o==null&&s<Sn(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let h=d?d.nodeType==3?pr(d,0,l?0:1):d.nodeType==1?d:null:null;if(h)return Na(Jr(h,-1),!0)}return Na(Jr(r.nodeType==3?pr(r):r,-t),t>=0)}function Na(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function mp(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function wx(n,e,t){let r=n.state,s=n.root.activeElement;r!=e&&n.updateState(e),s!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),s!=n.dom&&s&&s.focus()}}function tD(n,e,t){let r=e.selection,s=t=="up"?r.$from:r.$to;return wx(n,e,()=>{let{node:o}=n.docView.domFromPos(s.pos,t=="up"?-1:1);for(;;){let c=n.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let l=Sx(n,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=pr(c,0,c.nodeValue.length).getClientRects();else continue;for(let h=0;h<d.length;h++){let p=d[h];if(p.bottom>p.top+1&&(t=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const nD=/[\u0590-\u08ac]/;function rD(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,l=s==r.parent.content.size,c=n.domSelection();return c?!nD.test(r.parent.textContent)||!c.modify?t=="left"||t=="backward"?o:l:wx(n,e,()=>{let{focusNode:d,focusOffset:h,anchorNode:p,anchorOffset:g}=n.domSelectionRange(),v=c.caretBidiLevel;c.modify("move",t,"character");let b=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:S,focusOffset:x}=n.domSelectionRange(),E=S&&!b.contains(S.nodeType==1?S:S.parentNode)||d==S&&h==x;try{c.collapse(p,g),d&&(d!=p||h!=g)&&c.extend&&c.extend(d,h)}catch{}return v!=null&&(c.caretBidiLevel=v),E}):r.pos==r.start()||r.pos==r.end()}let $S=null,qS=null,VS=!1;function iD(n,e,t){return $S==e&&qS==t?VS:($S=e,qS=t,VS=t=="up"||t=="down"?tD(n,e,t):rD(n,e,t))}const wn=0,FS=1,qi=2,Vn=3;class wl{constructor(e,t,r,s){this.parent=e,this.children=t,this.dom=r,this.contentDOM=s,this.dirty=wn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let s=this.children[t];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=t>Ct(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&t==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),l;if(o&&(!t||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let s=this.children[t],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let l=0;l<s.children.length;l++){let c=s.children[l];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],c=o+l.size;if(c>e||l instanceof Ex){s=e-o;break}o=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,t);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof xx&&o.side>=0;r--);if(t<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&t&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,t):{node:this.contentDOM,offset:o?Ct(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,t):{node:this.contentDOM,offset:o?Ct(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let l=r,c=0;;c++){let d=this.children[c],h=l+d.size;if(s==-1&&e<=h){let p=l+d.border;if(e>=p&&t<=h-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,t,p);e=l;for(let g=c;g>0;g--){let v=this.children[g-1];if(v.size&&v.dom.parentNode==this.contentDOM&&!v.emptyChildAt(1)){s=Ct(v.dom)+1;break}e-=v.size}s==-1&&(s=0)}if(s>-1&&(h>t||c==this.children.length-1)){t=h;for(let p=c+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){o=Ct(g.dom);break}t+=g.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:t,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,s=!1){let o=Math.min(e,t),l=Math.max(e,t);for(let b=0,S=0;b<this.children.length;b++){let x=this.children[b],E=S+x.size;if(o>S&&l<E)return x.setSelection(e-S-x.border,t-S-x.border,r,s);S=E}let c=this.domFromPos(e,e?-1:1),d=t==e?c:this.domFromPos(t,t?-1:1),h=r.root.getSelection(),p=r.domSelectionRange(),g=!1;if((An||jt)&&e==t){let{node:b,offset:S}=c;if(b.nodeType==3){if(g=!!(S&&b.nodeValue[S-1]==`
`),g&&S==b.nodeValue.length)for(let x=b,E;x;x=x.parentNode){if(E=x.nextSibling){E.nodeName=="BR"&&(c=d={node:E.parentNode,offset:Ct(E)+1});break}let T=x.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let x=b.childNodes[S-1];g=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(An&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let b=p.focusNode.childNodes[p.focusOffset];b&&b.contentEditable=="false"&&(s=!0)}if(!(s||g&&jt)&&ts(c.node,c.offset,p.anchorNode,p.anchorOffset)&&ts(d.node,d.offset,p.focusNode,p.focusOffset))return;let v=!1;if((h.extend||e==t)&&!g){h.collapse(c.node,c.offset);try{e!=t&&h.extend(d.node,d.offset),v=!0}catch{}}if(!v){if(e>t){let S=c;c=d,d=S}let b=document.createRange();b.setEnd(d.node,d.offset),b.setStart(c.node,c.offset),h.removeAllRanges(),h.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],l=r+o.size;if(r==l?e<=l&&t>=r:e<l&&t>r){let c=r+o.border,d=l-o.border;if(e>=c&&t<=d){this.dirty=e==r||t==l?qi:FS,e==c&&t==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Vn:o.markDirty(e-c,t-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?qi:Vn}r=l}this.dirty=qi}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?qi:FS;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class xx extends wl{constructor(e,t,r,s){let o,l=t.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!t.type.spec.raw){if(l.nodeType!=1){let c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==wn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class sD extends wl{constructor(e,t,r,s){super(e,[],t,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ns extends wl{constructor(e,t,r,s,o){super(e,[],r,s),this.mark=t,this.spec=o}static create(e,t,r,s){let o=s.nodeViews[t.type.name],l=o&&o(t,s,r);return(!l||!l.dom)&&(l=ls.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new ns(e,t,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Vn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Vn&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=wn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=wn}}slice(e,t,r){let s=ns.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;t<l&&(o=im(o,t,l,r)),e>0&&(o=im(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class fi extends wl{constructor(e,t,r,s,o,l,c,d,h){super(e,[],o,l),this.node=t,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,t,r,s,o,l){let c=o.nodeViews[t.type.name],d,h=c&&c(t,o,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,s),p=h&&h.dom,g=h&&h.contentDOM;if(t.isText){if(!p)p=document.createTextNode(t.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=ls.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!g&&!t.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),t.type.spec.draggable&&(p.draggable=!0));let v=p;return p=Cx(p,r,t),h?d=new oD(e,t,r,s,p,g||null,v,h,o,l+1):t.isText?new pf(e,t,r,s,p,v,o):new fi(e,t,r,s,p,g||null,v,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>W.empty)}return e}matchesNode(e,t,r){return this.dirty==wn&&e.eq(this.node)&&Sc(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,s=t,o=e.composing?this.localCompositionInfo(e,t):null,l=o&&o.pos>-1?o:null,c=o&&o.pos<0,d=new lD(this,l&&l.node,e);fD(this.node,this.innerDeco,(h,p,g)=>{h.spec.marks?d.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!g&&d.syncToMarks(p==this.node.childCount?Pe.none:this.node.child(p).marks,r,e),d.placeWidget(h,e,s)},(h,p,g,v)=>{d.syncToMarks(h.marks,r,e);let b;d.findNodeMatch(h,p,g,v)||c&&e.state.selection.from>s&&e.state.selection.to<s+h.nodeSize&&(b=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(h,p,g,b,e)||d.updateNextNode(h,p,g,e,v,s)||d.addNode(h,p,g,e,s),s+=h.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==qi)&&(l&&this.protectLocalComposition(e,l),Tx(this.contentDOM,this.children,e),So&&dD(this.dom))}localCompositionInfo(e,t){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof he)||r<t||s>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,c=hD(this.node.content,l,r-t,s-t);return c<0?null:{node:o,pos:c,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:s}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new sD(this,o,t,s);e.input.compositionNodes.push(l),this.children=im(this.children,r,r+s.length,e,l)}update(e,t,r,s){return this.dirty==Vn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,s),!0)}updateInner(e,t,r,s){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=wn}updateOuterDeco(e){if(Sc(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=kx(this.dom,this.nodeDOM,rm(this.outerDeco,this.node,t),rm(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function KS(n,e,t,r,s){Cx(r,e,n);let o=new fi(void 0,n,e,t,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class pf extends fi{constructor(e,t,r,s,o,l,c){super(e,t,r,s,o,null,l,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,s){return this.dirty==Vn||this.dirty!=wn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=wn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=wn,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let s=this.node.cut(e,t),o=document.createTextNode(s.text);return new pf(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Vn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Ex extends wl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==wn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class oD extends fi{constructor(e,t,r,s,o,l,c,d,h,p){super(e,t,r,s,o,l,c,h,p),this.spec=d}update(e,t,r,s){if(this.dirty==Vn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,t,r);return o&&this.updateInner(e,t,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,s){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Tx(n,e,t){let r=n.firstChild,s=!1;for(let o=0;o<e.length;o++){let l=e[o],c=l.dom;if(c.parentNode==n){for(;c!=r;)r=GS(r),s=!0;r=r.nextSibling}else s=!0,n.insertBefore(c,r);if(l instanceof ns){let d=r?r.previousSibling:n.lastChild;Tx(l.contentDOM,l.children,t),r=d?d.nextSibling:n.firstChild}}for(;r;)r=GS(r),s=!0;s&&t.trackWrites==n&&(t.trackWrites=null)}const Fa=function(n){n&&(this.nodeName=n)};Fa.prototype=Object.create(null);const Vi=[new Fa];function rm(n,e,t){if(n.length==0)return Vi;let r=t?Vi[0]:new Fa,s=[r];for(let o=0;o<n.length;o++){let l=n[o].type.attrs;if(l){l.nodeName&&s.push(r=new Fa(l.nodeName));for(let c in l){let d=l[c];d!=null&&(t&&s.length==1&&s.push(r=new Fa(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return s}function kx(n,e,t,r){if(t==Vi&&r==Vi)return e;let s=e;for(let o=0;o<r.length;o++){let l=r[o],c=t[o];if(o){let d;c&&c.nodeName==l.nodeName&&s!=n&&(d=s.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=Vi[0]),s=d}aD(s,c||Vi[0],l)}return s}function aD(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=t.class?t.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&n.classList.add(s[o]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)n.style.removeProperty(s[1])}t.style&&(n.style.cssText+=t.style)}}function Cx(n,e,t){return kx(n,n,Vi,rm(e,t,n.nodeType!=1))}function Sc(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function GS(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class lD{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=uD(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let s=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;s<l&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=wn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let h=this.top.children[d];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=ns.create(this.top,e[o],t,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,r,s){let o=-1,l;if(s>=this.preMatch.index&&(l=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&l.matchesNode(e,t,r))o=this.top.children.indexOf(l,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let h=this.top.children[c];if(h.matchesNode(e,t,r)&&!this.preMatch.matched.has(h)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,t,r,s,o){let l=this.top.children[s];return l.dirty==Vn&&l.dom==l.contentDOM&&(l.dirty=qi),l.update(e,t,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=t}}updateNextNode(e,t,r,s,o,l){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof fi){let h=this.preMatch.matched.get(d);if(h!=null&&h!=o)return!1;let p=d.dom,g,v=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Vn&&Sc(t,d.outerDeco));if(!v&&d.update(e,t,r,s))return this.destroyBetween(this.index,c),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!v&&(g=this.recreateWrapper(d,e,t,r,s,l)))return this.destroyBetween(this.index,c),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=qi,g.updateChildren(s,l+1),g.dirty=wn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,s,o,l){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!Sc(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=fi.create(this.top,t,r,s,o,l);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,t,r,s,o){let l=fi.create(this.top,e,t,r,s,o);l.contentDOM&&l.updateChildren(s,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,t,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new xx(this.top,e,t,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ns;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof pf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((jt||Nt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new Ex(this.top,[],r,null);t!=this.top?t.children.push(s):t.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function uD(n,e){let t=e,r=t.children.length,s=n.childCount,o=new Map,l=[];e:for(;s>0;){let c;for(;;)if(r){let h=t.children[r-1];if(h instanceof ns)t=h,r=h.children.length;else{c=h,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let d=c.node;if(d){if(d!=n.child(s-1))break;--s,o.set(c,s),l.push(c)}}return{index:s,matched:o,matches:l.reverse()}}function cD(n,e){return n.type.side-e.type.side}function fD(n,e,t,r){let s=e.locals(n),o=0;if(s.length==0){for(let h=0;h<n.childCount;h++){let p=n.child(h);r(p,s,e.forChild(o,p),h),o+=p.nodeSize}return}let l=0,c=[],d=null;for(let h=0;;){let p,g;for(;l<s.length&&s[l].to==o;){let E=s[l++];E.widget&&(p?(g||(g=[p])).push(E):p=E)}if(p)if(g){g.sort(cD);for(let E=0;E<g.length;E++)t(g[E],h,!!d)}else t(p,h,!!d);let v,b;if(d)b=-1,v=d,d=null;else if(h<n.childCount)b=h,v=n.child(h++);else break;for(let E=0;E<c.length;E++)c[E].to<=o&&c.splice(E--,1);for(;l<s.length&&s[l].from<=o&&s[l].to>o;)c.push(s[l++]);let S=o+v.nodeSize;if(v.isText){let E=S;l<s.length&&s[l].from<E&&(E=s[l].from);for(let T=0;T<c.length;T++)c[T].to<E&&(E=c[T].to);E<S&&(d=v.cut(E-o),v=v.cut(0,E-o),S=E,b=-1)}else for(;l<s.length&&s[l].to<S;)l++;let x=v.isInline&&!v.isLeaf?c.filter(E=>!E.inline):c.slice();r(v,x,e.forChild(o,v),b),o=S}}function dD(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function hD(n,e,t,r){for(let s=0,o=0;s<n.childCount&&o<=r;){let l=n.child(s++),c=o;if(o+=l.nodeSize,!l.isText)continue;let d=l.text;for(;s<n.childCount;){let h=n.child(s++);if(o+=h.nodeSize,!h.isText)break;d+=h.text}if(o>=t){if(o>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let h=c<r?d.lastIndexOf(e,r-c-1):-1;if(h>=0&&h+e.length+c>=t)return c+h;if(t==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function im(n,e,t,r,s){let o=[];for(let l=0,c=0;l<n.length;l++){let d=n[l],h=c,p=c+=d.size;h>=t||p<=e?o.push(d):(h<e&&o.push(d.slice(0,e-h,r)),s&&(o.push(s),s=void 0),p>t&&o.push(d.slice(t-h,d.size,r)))}return o}function Hm(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let s=n.docView.nearestDesc(t.focusNode),o=s&&s.size==0,l=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(l<0)return null;let c=r.resolve(l),d,h;if(hf(t)){for(d=l;s&&!s.node;)s=s.parent;let g=s.node;if(s&&g.isAtom&&ae.isSelectable(g)&&s.parent&&!(g.isInline&&UR(t.focusNode,t.focusOffset,s.dom))){let v=s.posBefore;h=new ae(l==v?c:r.resolve(v))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let g=l,v=l;for(let b=0;b<t.rangeCount;b++){let S=t.getRangeAt(b);g=Math.min(g,n.docView.posFromDOM(S.startContainer,S.startOffset,1)),v=Math.max(v,n.docView.posFromDOM(S.endContainer,S.endOffset,-1))}if(g<0)return null;[d,l]=v==n.state.selection.anchor?[v,g]:[g,v],c=r.resolve(l)}else d=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!h){let g=e=="pointer"||n.state.selection.head<c.pos&&!o?1:-1;h=Im(n,p,c,g)}return h}function _x(n){return n.editable?n.hasFocus():Mx(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function vr(n,e=!1){let t=n.state.selection;if(Ox(n,t),!!_x(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Nt){let r=n.domSelectionRange(),s=n.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&ts(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)mD(n);else{let{anchor:r,head:s}=t,o,l;WS&&!(t instanceof he)&&(t.$from.parent.inlineContent||(o=YS(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=YS(n,t.to))),n.docView.setSelection(r,s,n,e),WS&&(o&&XS(o),l&&XS(l)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&pD(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const WS=jt||Nt&&mx<63;function YS(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),s=r<t.childNodes.length?t.childNodes[r]:null,o=r?t.childNodes[r-1]:null;if(jt&&s&&s.contentEditable=="false")return gp(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return gp(s);if(o)return gp(o)}}function gp(n){return n.contentEditable="true",jt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function XS(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function pD(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,s=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=s)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!_x(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function mD(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,s=r.nodeName=="IMG";s?t.setStart(r.parentNode,Ct(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!s&&!n.state.selection.visible&&Gt&&ci<=11&&(r.disabled=!0,r.disabled=!1)}function Ox(n,e){if(e instanceof ae){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(JS(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else JS(n)}function JS(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Im(n,e,t,r){return n.someProp("createSelectionBetween",s=>s(n,e,t))||he.between(e,t,r)}function QS(n){return n.editable&&!n.hasFocus()?!1:Mx(n)}function Mx(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function gD(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return ts(e.node,e.offset,t.anchorNode,t.anchorOffset)}function sm(n,e){let{$anchor:t,$head:r}=n.selection,s=e>0?t.max(r):t.min(r),o=s.parent.inlineContent?s.depth?n.doc.resolve(e>0?s.after():s.before()):null:s;return o&&ye.findFrom(o,e)}function Zr(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function ZS(n,e,t){let r=n.state.selection;if(r instanceof he)if(t.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=n.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return Zr(n,new he(r.$anchor,l))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let s=sm(n.state,e);return s&&s instanceof ae?Zr(n,s):!1}else if(!(bn&&t.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(l=n.docView.descAt(c))&&!l.contentDOM?ae.isSelectable(o)?Zr(n,new ae(e<0?n.state.doc.resolve(s.pos-o.nodeSize):s)):Sl?Zr(n,new he(n.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ae&&r.node.isInline)return Zr(n,new he(e>0?r.$to:r.$from));{let s=sm(n.state,e);return s?Zr(n,s):!1}}}function wc(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Ka(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function oo(n,e){return e<0?yD(n):vD(n)}function yD(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s,o,l=!1;for(An&&t.nodeType==1&&r<wc(t)&&Ka(t.childNodes[r],-1)&&(l=!0);;)if(r>0){if(t.nodeType!=1)break;{let c=t.childNodes[r-1];if(Ka(c,-1))s=t,o=--r;else if(c.nodeType==3)t=c,r=t.nodeValue.length;else break}}else{if(Ax(t))break;{let c=t.previousSibling;for(;c&&Ka(c,-1);)s=t.parentNode,o=Ct(c),c=c.previousSibling;if(c)t=c,r=wc(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}l?om(n,t,r):s&&om(n,s,o)}function vD(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let s=wc(t),o,l;for(;;)if(r<s){if(t.nodeType!=1)break;let c=t.childNodes[r];if(Ka(c,1))o=t,l=++r;else break}else{if(Ax(t))break;{let c=t.nextSibling;for(;c&&Ka(c,1);)o=c.parentNode,l=Ct(c)+1,c=c.nextSibling;if(c)t=c,r=0,s=wc(t);else{if(t=t.parentNode,t==n.dom)break;r=s=0}}}o&&om(n,o,l)}function Ax(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function bD(n,e){for(;n&&e==n.childNodes.length&&!bl(n);)e=Ct(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function SD(n,e){for(;n&&!e&&!bl(n);)e=Ct(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function om(n,e,t){if(e.nodeType!=3){let o,l;(l=bD(e,t))?(e=l,t=0):(o=SD(e,t))&&(e=o,t=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(hf(r)){let o=document.createRange();o.setEnd(e,t),o.setStart(e,t),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:s}=n;setTimeout(()=>{n.state==s&&vr(n)},50)}function e1(n,e){let t=n.state.doc.resolve(e);if(!(Nt||$R)&&t.parent.inlineContent){let s=n.coordsAtPos(e);if(e>t.start()){let o=n.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<t.end()){let o=n.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>s.top&&l<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function t1(n,e,t){let r=n.state.selection;if(r instanceof he&&!r.empty||t.indexOf("s")>-1||bn&&t.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let l=sm(n.state,e);if(l&&l instanceof ae)return Zr(n,l)}if(!s.parent.inlineContent){let l=e<0?s:o,c=r instanceof on?ye.near(l,e):ye.findFrom(l,e);return c?Zr(n,c):!1}return!1}function n1(n,e){if(!(n.state.selection instanceof he))return!0;let{$head:t,$anchor:r,empty:s}=n.state.selection;if(!t.sameParent(r))return!0;if(!s)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(o&&!o.isText){let l=n.state.tr;return e<0?l.delete(t.pos-o.nodeSize,t.pos):l.delete(t.pos,t.pos+o.nodeSize),n.dispatch(l),!0}return!1}function r1(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function wD(n){if(!jt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;r1(n,r,"true"),setTimeout(()=>r1(n,r,"false"),20)}return!1}function xD(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function ED(n,e){let t=e.keyCode,r=xD(e);if(t==8||bn&&t==72&&r=="c")return n1(n,-1)||oo(n,-1);if(t==46&&!e.shiftKey||bn&&t==68&&r=="c")return n1(n,1)||oo(n,1);if(t==13||t==27)return!0;if(t==37||bn&&t==66&&r=="c"){let s=t==37?e1(n,n.state.selection.from)=="ltr"?-1:1:-1;return ZS(n,s,r)||oo(n,s)}else if(t==39||bn&&t==70&&r=="c"){let s=t==39?e1(n,n.state.selection.from)=="ltr"?1:-1:1;return ZS(n,s,r)||oo(n,s)}else{if(t==38||bn&&t==80&&r=="c")return t1(n,-1,r)||oo(n,-1);if(t==40||bn&&t==78&&r=="c")return wD(n)||t1(n,1,r)||oo(n,1);if(r==(bn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function $m(n,e){n.someProp("transformCopied",b=>{e=b(e,n)});let t=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let b=r.firstChild;t.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),r=b.content}let l=n.someProp("clipboardSerializer")||ls.fromSchema(n.state.schema),c=Bx(),d=c.createElement("div");d.appendChild(l.serializeFragment(r,{document:c}));let h=d.firstChild,p,g=0;for(;h&&h.nodeType==1&&(p=Lx[h.nodeName.toLowerCase()]);){for(let b=p.length-1;b>=0;b--){let S=c.createElement(p[b]);for(;d.firstChild;)S.appendChild(d.firstChild);d.appendChild(S),g++}h=d.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${s} ${o}${g?` -${g}`:""} ${JSON.stringify(t)}`);let v=n.someProp("clipboardTextSerializer",b=>b(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:v,slice:e}}function Rx(n,e,t,r,s){let o=s.parent.type.spec.code,l,c;if(!t&&!e)return null;let d=e&&(r||o||!t);if(d){if(n.someProp("transformPastedText",v=>{e=v(e,o||r,n)}),o)return e?new ee(W.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ee.empty;let g=n.someProp("clipboardTextParser",v=>v(e,s,r,n));if(g)c=g;else{let v=s.marks(),{schema:b}=n.state,S=ls.fromSchema(b);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let E=l.appendChild(document.createElement("p"));x&&E.appendChild(S.serializeNode(b.text(x,v)))})}}else n.someProp("transformPastedHTML",g=>{t=g(t,n)}),l=_D(t),Sl&&OD(l);let h=l&&l.querySelector("[data-pm-slice]"),p=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let v=l.firstChild;for(;v&&v.nodeType!=1;)v=v.nextSibling;if(!v)break;l=v}if(c||(c=(n.someProp("clipboardParser")||n.someProp("domParser")||ui.fromSchema(n.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(v){return v.nodeName=="BR"&&!v.nextSibling&&v.parentNode&&!TD.test(v.parentNode.nodeName)?{ignore:!0}:null}})),p)c=MD(i1(c,+p[1],+p[2]),p[4]);else if(c=ee.maxOpen(kD(c.content,s),!0),c.openStart||c.openEnd){let g=0,v=0;for(let b=c.content.firstChild;g<c.openStart&&!b.type.spec.isolating;g++,b=b.firstChild);for(let b=c.content.lastChild;v<c.openEnd&&!b.type.spec.isolating;v++,b=b.lastChild);c=i1(c,g,v)}return n.someProp("transformPasted",g=>{c=g(c,n)}),c}const TD=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function kD(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let s=e.node(t).contentMatchAt(e.index(t)),o,l=[];if(n.forEach(c=>{if(!l)return;let d=s.findWrapping(c.type),h;if(!d)return l=null;if(h=l.length&&o.length&&Nx(d,o,c,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=zx(l[l.length-1],o.length));let p=Dx(c,d);l.push(p),s=s.matchType(p.type),o=d}}),l)return W.from(l)}return n}function Dx(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,W.from(n));return n}function Nx(n,e,t,r,s){if(s<n.length&&s<e.length&&n[s]==e[s]){let o=Nx(n,e,t,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==n.length-1?t.type:n[s+1]))return r.copy(r.content.append(W.from(Dx(t,n,s+1))))}}function zx(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,zx(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(W.empty,!0);return n.copy(t.append(r))}function am(n,e,t,r,s,o){let l=e<0?n.firstChild:n.lastChild,c=l.content;return n.childCount>1&&(o=0),s<r-1&&(c=am(c,e,t,r,s+1,o)),s>=t&&(c=e<0?l.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(l.contentMatchAt(l.childCount).fillBefore(W.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,l.copy(c))}function i1(n,e,t){return e<n.openStart&&(n=new ee(am(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ee(am(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const Lx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let s1=null;function Bx(){return s1||(s1=document.implementation.createHTMLDocument("title"))}let yp=null;function CD(n){let e=window.trustedTypes;return e?(yp||(yp=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),yp.createHTML(n)):n}function _D(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Bx().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),s;if((s=r&&Lx[r[1].toLowerCase()])&&(n=s.map(o=>"<"+o+">").join("")+n+s.map(o=>"</"+o+">").reverse().join("")),t.innerHTML=CD(n),s)for(let o=0;o<s.length;o++)t=t.querySelector(s[o])||t;return t}function OD(n){let e=n.querySelectorAll(Nt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function MD(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:s,openStart:o,openEnd:l}=n;for(let c=r.length-2;c>=0;c-=2){let d=t.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;s=W.from(d.create(r[c+1],s)),o++,l++}return new ee(s,o,l)}const Pt={},Ut={},AD={touchstart:!0,touchmove:!0};class RD{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function DD(n){for(let e in Pt){let t=Pt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{zD(n,r)&&!qm(n,r)&&(n.editable||!(r.type in Ut))&&t(n,r)},AD[e]?{passive:!0}:void 0)}jt&&n.dom.addEventListener("input",()=>null),lm(n)}function li(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function ND(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function lm(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>qm(n,r))})}function qm(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function zD(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function LD(n,e){!qm(n,e)&&Pt[e.type]&&(n.editable||!(e.type in Ut))&&Pt[e.type](n,e)}Ut.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Px(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(mr&&Nt&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),So&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",s=>s(n,$i(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||ED(n,t)?t.preventDefault():li(n,"key")};Ut.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Ut.keypress=(n,e)=>{let t=e;if(Px(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||bn&&t.metaKey)return;if(n.someProp("handleKeyPress",s=>s(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof he)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(t.charCode),o=()=>n.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!n.someProp("handleTextInput",l=>l(n,r.$from.pos,r.$to.pos,s,o))&&n.dispatch(o()),t.preventDefault()}};function mf(n){return{left:n.clientX,top:n.clientY}}function BD(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Vm(n,e,t,r,s){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(n.someProp(e,c=>l>o.depth?c(n,t,o.nodeAfter,o.before(l),s,!0):c(n,t,o.node(l),o.before(l),s,!1)))return!0;return!1}function go(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function jD(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&ae.isSelectable(r)?(go(n,new ae(t)),!0):!1}function PD(n,e){if(e==-1)return!1;let t=n.state.selection,r,s;t instanceof ae&&(r=t.node);let o=n.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let c=l>o.depth?o.nodeAfter:o.node(l);if(ae.isSelectable(c)){r&&t.$from.depth>0&&l>=t.$from.depth&&o.before(t.$from.depth+1)==t.$from.pos?s=o.before(t.$from.depth):s=o.before(l);break}}return s!=null?(go(n,ae.create(n.state.doc,s)),!0):!1}function UD(n,e,t,r,s){return Vm(n,"handleClickOn",e,t,r)||n.someProp("handleClick",o=>o(n,e,r))||(s?PD(n,t):jD(n,t))}function HD(n,e,t,r){return Vm(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",s=>s(n,e,r))}function ID(n,e,t,r){return Vm(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",s=>s(n,e,r))||$D(n,t,r)}function $D(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(go(n,he.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(l.inlineContent)go(n,he.create(r,c+1,c+1+l.content.size));else if(ae.isSelectable(l))go(n,ae.create(r,c));else continue;return!0}}function Fm(n){return xc(n)}const jx=bn?"metaKey":"ctrlKey";Pt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=Fm(n),s=Date.now(),o="singleClick";s-n.input.lastClick.time<500&&BD(t,n.input.lastClick)&&!t[jx]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:s,x:t.clientX,y:t.clientY,type:o,button:t.button};let l=n.posAtCoords(mf(t));l&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new qD(n,l,t,!!r)):(o=="doubleClick"?HD:ID)(n,l.pos,l.inside,t)?t.preventDefault():li(n,"pointer"))};class qD{constructor(e,t,r,s){this.view=e,this.pos=t,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[jx],this.allowDefault=r.shiftKey;let o,l;if(t.inside>-1)o=e.state.doc.nodeAt(t.inside),l=t.inside;else{let p=e.state.doc.resolve(t.pos);o=p.parent,l=p.depth?p.before():0}const c=s?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.dom.nodeType==1?d.dom:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof ae&&h.from<=l&&h.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&An&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),li(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>vr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(mf(e))),this.updateAllowDefault(e),this.allowDefault||!t?li(this.view,"pointer"):UD(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||jt&&this.mightDrag&&!this.mightDrag.node.isAtom||Nt&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(go(this.view,ye.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):li(this.view,"pointer")}move(e){this.updateAllowDefault(e),li(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Pt.touchstart=n=>{n.input.lastTouch=Date.now(),Fm(n),li(n,"pointer")};Pt.touchmove=n=>{n.input.lastTouch=Date.now(),li(n,"pointer")};Pt.contextmenu=n=>Fm(n);function Px(n,e){return n.composing?!0:jt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const VD=mr?5e3:-1;Ut.compositionstart=Ut.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof he&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),xc(n,!0),n.markCursor=null;else if(xc(n,!e.selection.empty),An&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let l=o<0?s.lastChild:s.childNodes[o-1];if(!l)break;if(l.nodeType==3){let c=n.domSelection();c&&c.collapse(l,l.nodeValue.length);break}else s=l,o=-1}}n.input.composing=!0}Ux(n,VD)};Ut.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Ux(n,20))};function Ux(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>xc(n),e))}function Hx(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=KD());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function FD(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=jR(e.focusNode,e.focusOffset),r=PR(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let s=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(t==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let l=t.pmViewDesc;if(!(!l||!l.isText(t.nodeValue)))return r}}return t||r}function KD(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function xc(n,e=!1){if(!(mr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Hx(n),e||n.docView&&n.docView.dirty){let t=Hm(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function GD(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const sl=Gt&&ci<15||So&&qR<604;Pt.copy=Ut.cut=(n,e)=>{let t=e,r=n.state.selection,s=t.type=="cut";if(r.empty)return;let o=sl?null:t.clipboardData,l=r.content(),{dom:c,text:d}=$m(n,l);o?(t.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",d)):GD(n,c),s&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function WD(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function YD(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?ol(n,r.value,null,s,e):ol(n,r.textContent,r.innerHTML,s,e)},50)}function ol(n,e,t,r,s){let o=Rx(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",d=>d(n,s,o||ee.empty)))return!0;if(!o)return!1;let l=WD(o),c=l?n.state.tr.replaceSelectionWith(l,r):n.state.tr.replaceSelection(o);return n.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Ix(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Ut.paste=(n,e)=>{let t=e;if(n.composing&&!mr)return;let r=sl?null:t.clipboardData,s=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&ol(n,Ix(r),r.getData("text/html"),s,t)?t.preventDefault():YD(n,t)};class $x{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const XD=bn?"altKey":"ctrlKey";function qx(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[XD]}Pt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=n.state.selection,o=s.empty?null:n.posAtCoords(mf(t)),l;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof ae?s.to-1:s.to))){if(r&&r.mightDrag)l=ae.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let g=n.docView.nearestDesc(t.target,!0);g&&g.node.type.spec.draggable&&g!=n.docView&&(l=ae.create(n.state.doc,g.posBefore))}}let c=(l||n.state.selection).content(),{dom:d,text:h,slice:p}=$m(n,c);(!t.dataTransfer.files.length||!Nt||mx>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(sl?"Text":"text/html",d.innerHTML),t.dataTransfer.effectAllowed="copyMove",sl||t.dataTransfer.setData("text/plain",h),n.dragging=new $x(p,qx(n,t),l)};Pt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Ut.dragover=Ut.dragenter=(n,e)=>e.preventDefault();Ut.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let s=n.posAtCoords(mf(t));if(!s)return;let o=n.state.doc.resolve(s.pos),l=r&&r.slice;l?n.someProp("transformPasted",S=>{l=S(l,n)}):l=Rx(n,Ix(t.dataTransfer),sl?null:t.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&qx(n,t));if(n.someProp("handleDrop",S=>S(n,t,l||ee.empty,c))){t.preventDefault();return}if(!l)return;t.preventDefault();let d=l?ox(n.state.doc,o.pos,l):o.pos;d==null&&(d=o.pos);let h=n.state.tr;if(c){let{node:S}=r;S?S.replace(h):h.deleteSelection()}let p=h.mapping.map(d),g=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,v=h.doc;if(g?h.replaceRangeWith(p,p,l.content.firstChild):h.replaceRange(p,p,l),h.doc.eq(v))return;let b=h.doc.resolve(p);if(g&&ae.isSelectable(l.content.firstChild)&&b.nodeAfter&&b.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new ae(b));else{let S=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((x,E,T,O)=>S=O),h.setSelection(Im(n,b,h.doc.resolve(S)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};Pt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&vr(n)},20))};Pt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Pt.beforeinput=(n,e)=>{if(Nt&&mr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,$i(8,"Backspace")))))return;let{$cursor:s}=n.state.selection;s&&s.pos>0&&n.dispatch(n.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let n in Ut)Pt[n]=Ut[n];function al(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class Ec{constructor(e,t){this.toDOM=e,this.spec=t||Yi,this.side=this.spec.side||0}map(e,t,r,s){let{pos:o,deleted:l}=e.mapResult(t.from+s,this.side<0?-1:1);return l?null:new Bt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Ec&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&al(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class di{constructor(e,t){this.attrs=e,this.spec=t||Yi}map(e,t,r,s){let o=e.map(t.from+s,this.spec.inclusiveStart?-1:1)-r,l=e.map(t.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new Bt(o,l,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof di&&al(this.attrs,e.attrs)&&al(this.spec,e.spec)}static is(e){return e.type instanceof di}destroy(){}}class Km{constructor(e,t){this.attrs=e,this.spec=t||Yi}map(e,t,r,s){let o=e.mapResult(t.from+s,1);if(o.deleted)return null;let l=e.mapResult(t.to+s,-1);return l.deleted||l.pos<=o.pos?null:new Bt(o.pos-r,l.pos-r,this)}valid(e,t){let{index:r,offset:s}=e.content.findIndex(t.from),o;return s==t.from&&!(o=e.child(r)).isText&&s+o.nodeSize==t.to}eq(e){return this==e||e instanceof Km&&al(this.attrs,e.attrs)&&al(this.spec,e.spec)}destroy(){}}class Bt{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new Bt(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new Bt(e,e,new Ec(t,r))}static inline(e,t,r,s){return new Bt(e,t,new di(r,s))}static node(e,t,r,s){return new Bt(e,t,new Km(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof di}get widget(){return this.type instanceof Ec}}const co=[],Yi={};class Ge{constructor(e,t){this.local=e.length?e:co,this.children=t.length?t:co}static create(e,t){return t.length?Tc(t,e,0,Yi):Dt}find(e,t,r){let s=[];return this.findInner(e??0,t??1e9,s,0,r),s}findInner(e,t,r,s,o){for(let l=0;l<this.local.length;l++){let c=this.local[l];c.from<=t&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){let c=this.children[l]+1;this.children[l+2].findInner(e-c,t-c,r,s+c,o)}}map(e,t,r){return this==Dt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Yi)}mapInner(e,t,r,s,o){let l;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,s);d&&d.type.valid(t,d)?(l||(l=[])).push(d):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?JD(this.children,l||[],e,t,r,s,o):l?new Ge(l.sort(Xi),co):Dt}add(e,t){return t.length?this==Dt?Ge.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let s,o=0;e.forEach((c,d)=>{let h=d+r,p;if(p=Fx(t,c,h)){for(s||(s=this.children.slice());o<s.length&&s[o]<d;)o+=3;s[o]==d?s[o+2]=s[o+2].addInner(c,p,h+1):s.splice(o,0,d,d+c.nodeSize,Tc(p,c,h+1,Yi)),o+=3}});let l=Vx(o?Kx(t):t,-r);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||l.splice(c--,1);return new Ge(l.length?this.local.concat(l).sort(Xi):this.local,s||this.children)}remove(e){return e.length==0||this==Dt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let l,c=r[o]+t,d=r[o+1]+t;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>c&&g.to<d&&(e[p]=null,(l||(l=[])).push(g));if(!l)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(l,c+1);h!=Dt?r[o+2]=h:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let c=0;c<s.length;c++)s[c].eq(l,t)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Ge(s,r):Dt}forChild(e,t){if(this==Dt)return this;if(t.isLeaf)return Ge.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,l=o+t.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<l&&d.to>o&&d.type instanceof di){let h=Math.max(o,d.from)-o,p=Math.min(l,d.to)-o;h<p&&(s||(s=[])).push(d.copy(h,p))}}if(s){let c=new Ge(s.sort(Xi),co);return r?new ii([c,r]):c}return r||Dt}eq(e){if(this==e)return!0;if(!(e instanceof Ge)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Gm(this.localsInner(e))}localsInner(e){if(this==Dt)return co;if(e.inlineContent||!this.local.some(di.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof di||t.push(this.local[r]);return t}forEachSet(e){e(this)}}Ge.empty=new Ge([],[]);Ge.removeOverlap=Gm;const Dt=Ge.empty;class ii{constructor(e){this.members=e}map(e,t){const r=this.members.map(s=>s.map(e,t,Yi));return ii.from(r)}forChild(e,t){if(t.isLeaf)return Ge.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,t);o!=Dt&&(o instanceof ii?r=r.concat(o.members):r.push(o))}return ii.from(r)}eq(e){if(!(e instanceof ii)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!t)t=o;else{r&&(t=t.slice(),r=!1);for(let l=0;l<o.length;l++)t.push(o[l])}}return t?Gm(r?t:t.sort(Xi)):co}static from(e){switch(e.length){case 0:return Dt;case 1:return e[0];default:return new ii(e.every(t=>t instanceof Ge)?e:e.reduce((t,r)=>t.concat(r instanceof Ge?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function JD(n,e,t,r,s,o,l){let c=n.slice();for(let h=0,p=o;h<t.maps.length;h++){let g=0;t.maps[h].forEach((v,b,S,x)=>{let E=x-S-(b-v);for(let T=0;T<c.length;T+=3){let O=c[T+1];if(O<0||v>O+p-g)continue;let C=c[T]+p-g;b>=C?c[T+1]=v<=C?-2:-1:v>=p&&E&&(c[T]+=E,c[T+1]+=E)}g+=E}),p=t.maps[h].map(p,-1)}let d=!1;for(let h=0;h<c.length;h+=3)if(c[h+1]<0){if(c[h+1]==-2){d=!0,c[h+1]=-1;continue}let p=t.map(n[h]+o),g=p-s;if(g<0||g>=r.content.size){d=!0;continue}let v=t.map(n[h+1]+o,-1),b=v-s,{index:S,offset:x}=r.content.findIndex(g),E=r.maybeChild(S);if(E&&x==g&&x+E.nodeSize==b){let T=c[h+2].mapInner(t,E,p+1,n[h]+o+1,l);T!=Dt?(c[h]=g,c[h+1]=b,c[h+2]=T):(c[h+1]=-2,d=!0)}else d=!0}if(d){let h=QD(c,n,e,t,s,o,l),p=Tc(h,r,0,l);e=p.local;for(let g=0;g<c.length;g+=3)c[g+1]<0&&(c.splice(g,3),g-=3);for(let g=0,v=0;g<p.children.length;g+=3){let b=p.children[g];for(;v<c.length&&c[v]<b;)v+=3;c.splice(v,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Ge(e.sort(Xi),c)}function Vx(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let s=n[r];t.push(new Bt(s.from+e,s.to+e,s.type))}return t}function QD(n,e,t,r,s,o,l){function c(d,h){for(let p=0;p<d.local.length;p++){let g=d.local[p].map(r,s,h);g?t.push(g):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)c(d.children[p+2],d.children[p]+h+1)}for(let d=0;d<n.length;d+=3)n[d+1]==-1&&c(n[d+2],e[d]+o+1);return t}function Fx(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,s=null;for(let o=0,l;o<n.length;o++)(l=n[o])&&l.from>t&&l.to<r&&((s||(s=[])).push(l),n[o]=null);return s}function Kx(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Tc(n,e,t,r){let s=[],o=!1;e.forEach((c,d)=>{let h=Fx(n,c,d+t);if(h){o=!0;let p=Tc(h,c,t+d+1,r);p!=Dt&&s.push(d,d+c.nodeSize,p)}});let l=Vx(o?Kx(n):n,-t).sort(Xi);for(let c=0;c<l.length;c++)l[c].type.valid(e,l[c])||(r.onRemove&&r.onRemove(l[c].spec),l.splice(c--,1));return l.length||s.length?new Ge(l,s):Dt}function Xi(n,e){return n.from-e.from||n.to-e.to}function Gm(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let s=t+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==n&&(e=n.slice()),e[s]=o.copy(o.from,r.to),o1(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,o.from),o1(e,s,r.copy(o.from,r.to)));break}}}return e}function o1(n,e,t){for(;e<n.length&&Xi(t,n[e])>0;)e++;n.splice(e,0,t)}function vp(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Dt&&e.push(r)}),n.cursorWrapper&&e.push(Ge.create(n.state.doc,[n.cursorWrapper.deco])),ii.from(e)}const ZD={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},eN=Gt&&ci<=11;class tN{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class nN{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new tN,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Gt&&ci<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),eN&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ZD)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(QS(this.view)){if(this.suppressingSelectionUpdates)return vr(this.view);if(Gt&&ci<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ts(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let o=e.focusNode;o;o=bo(o))t.add(o);for(let o=e.anchorNode;o;o=bo(o))if(t.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&QS(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,c=!1,d=[];if(e.editable)for(let p=0;p<t.length;p++){let g=this.registerMutation(t[p],d);g&&(o=o<0?g.from:Math.min(g.from,o),l=l<0?g.to:Math.max(g.to,l),g.typeOver&&(c=!0))}if(An&&d.length){let p=d.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,v]=p;g.parentNode&&g.parentNode.parentNode==v.parentNode?v.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let v of p){let b=v.parentNode;b&&b.nodeName=="LI"&&(!g||sN(e,g)!=b)&&v.remove()}}}let h=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&hf(r)&&(h=Hm(e))&&h.eq(ye.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,vr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,l),rN(e)),this.handleDOMChange(o,l,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||vr(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];t.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Gt&&ci<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:v}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g),(!v||Array.prototype.indexOf.call(e.addedNodes,v)<0)&&(o=v)}let l=s&&s.parentNode==e.target?Ct(s)+1:0,c=r.localPosFromDOM(e.target,l,-1),d=o&&o.parentNode==e.target?Ct(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,d,1);return{from:c,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let a1=new WeakMap,l1=!1;function rN(n){if(!a1.has(n)&&(a1.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=An,l1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),l1=!0}}function u1(n,e){let t=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,l=n.domAtPos(n.state.selection.anchor);return ts(l.node,l.offset,s,o)&&([t,r,s,o]=[s,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:s,focusOffset:o}}function iN(n,e){if(e.getComposedRanges){let s=e.getComposedRanges(n.root)[0];if(s)return u1(n,s)}let t;function r(s){s.preventDefault(),s.stopImmediatePropagation(),t=s.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?u1(n,t):null}function sN(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function oN(n,e,t){let{node:r,fromOffset:s,toOffset:o,from:l,to:c}=n.docView.parseRange(e,t),d=n.domSelectionRange(),h,p=d.anchorNode;if(p&&n.dom.contains(p.nodeType==1?p:p.parentNode)&&(h=[{node:p,offset:d.anchorOffset}],hf(d)||h.push({node:d.focusNode,offset:d.focusOffset})),Nt&&n.input.lastKeyCode===8)for(let E=o;E>s;E--){let T=r.childNodes[E-1],O=T.pmViewDesc;if(T.nodeName=="BR"&&!O){o=E;break}if(!O||O.size)break}let g=n.state.doc,v=n.someProp("domParser")||ui.fromSchema(n.state.schema),b=g.resolve(l),S=null,x=v.parse(r,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:o,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:aN,context:b});if(h&&h[0].pos!=null){let E=h[0].pos,T=h[1]&&h[1].pos;T==null&&(T=E),S={anchor:E+l,head:T+l}}return{doc:x,sel:S,from:l,to:c}}function aN(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(jt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||jt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const lN=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function uN(n,e,t,r,s){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let R=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,q=Hm(n,R);if(q&&!n.state.selection.eq(q)){if(Nt&&mr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",fe=>fe(n,$i(13,"Enter"))))return;let Y=n.state.tr.setSelection(q);R=="pointer"?Y.setMeta("pointer",!0):R=="key"&&Y.scrollIntoView(),o&&Y.setMeta("composition",o),n.dispatch(Y)}return}let l=n.state.doc.resolve(e),c=l.sharedDepth(t);e=l.before(c+1),t=n.state.doc.resolve(t).after(c+1);let d=n.state.selection,h=oN(n,e,t),p=n.state.doc,g=p.slice(h.from,h.to),v,b;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(v=n.state.selection.to,b="end"):(v=n.state.selection.from,b="start"),n.input.lastKeyCode=null;let S=dN(g.content,h.doc.content,h.from,v,b);if(S&&n.input.domChangeCount++,(So&&n.input.lastIOSEnter>Date.now()-225||mr)&&s.some(R=>R.nodeType==1&&!lN.test(R.nodeName))&&(!S||S.endA>=S.endB)&&n.someProp("handleKeyDown",R=>R(n,$i(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!S)if(r&&d instanceof he&&!d.empty&&d.$head.sameParent(d.$anchor)&&!n.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))S={start:d.from,endA:d.to,endB:d.to};else{if(h.sel){let R=c1(n,n.state.doc,h.sel);if(R&&!R.eq(n.state.selection)){let q=n.state.tr.setSelection(R);o&&q.setMeta("composition",o),n.dispatch(q)}}return}n.state.selection.from<n.state.selection.to&&S.start==S.endB&&n.state.selection instanceof he&&(S.start>n.state.selection.from&&S.start<=n.state.selection.from+2&&n.state.selection.from>=h.from?S.start=n.state.selection.from:S.endA<n.state.selection.to&&S.endA>=n.state.selection.to-2&&n.state.selection.to<=h.to&&(S.endB+=n.state.selection.to-S.endA,S.endA=n.state.selection.to)),Gt&&ci<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>h.from&&h.doc.textBetween(S.start-h.from-1,S.start-h.from+1)=="  "&&(S.start--,S.endA--,S.endB--);let x=h.doc.resolveNoCache(S.start-h.from),E=h.doc.resolveNoCache(S.endB-h.from),T=p.resolve(S.start),O=x.sameParent(E)&&x.parent.inlineContent&&T.end()>=S.endA,C;if((So&&n.input.lastIOSEnter>Date.now()-225&&(!O||s.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!O&&x.pos<h.doc.content.size&&(!x.sameParent(E)||!x.parent.inlineContent)&&!/\S/.test(h.doc.textBetween(x.pos,E.pos,"",""))&&(C=ye.findFrom(h.doc.resolve(x.pos+1),1,!0))&&C.head>x.pos)&&n.someProp("handleKeyDown",R=>R(n,$i(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>S.start&&fN(p,S.start,S.endA,x,E)&&n.someProp("handleKeyDown",R=>R(n,$i(8,"Backspace")))){mr&&Nt&&n.domObserver.suppressSelectionUpdates();return}Nt&&S.endB==S.start&&(n.input.lastChromeDelete=Date.now()),mr&&!O&&x.start()!=E.start()&&E.parentOffset==0&&x.depth==E.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==S.endA&&(S.endB-=2,E=h.doc.resolveNoCache(S.endB-h.from),setTimeout(()=>{n.someProp("handleKeyDown",function(R){return R(n,$i(13,"Enter"))})},20));let z=S.start,N=S.endA,j=R=>{let q=R||n.state.tr.replace(z,N,h.doc.slice(S.start-h.from,S.endB-h.from));if(h.sel){let Y=c1(n,q.doc,h.sel);Y&&!(Nt&&n.composing&&Y.empty&&(S.start!=S.endB||n.input.lastChromeDelete<Date.now()-100)&&(Y.head==z||Y.head==q.mapping.map(N)-1)||Gt&&Y.empty&&Y.head==z)&&q.setSelection(Y)}return o&&q.setMeta("composition",o),q.scrollIntoView()},_;if(O){if(x.pos==E.pos){Gt&&ci<=11&&x.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>vr(n),20));let R=j(n.state.tr.delete(z,N)),q=p.resolve(S.start).marksAcross(p.resolve(S.endA));q&&R.ensureMarks(q),n.dispatch(R)}else if(S.endA==S.endB&&(_=cN(x.parent.content.cut(x.parentOffset,E.parentOffset),T.parent.content.cut(T.parentOffset,S.endA-T.start())))){let R=j(n.state.tr);_.type=="add"?R.addMark(z,N,_.mark):R.removeMark(z,N,_.mark),n.dispatch(R)}else if(x.parent.child(x.index()).isText&&x.index()==E.index()-(E.textOffset?0:1)){let R=x.parent.textBetween(x.parentOffset,E.parentOffset),q=()=>j(n.state.tr.insertText(R,z,N));n.someProp("handleTextInput",Y=>Y(n,z,N,R,q))||n.dispatch(q())}}else n.dispatch(j())}function c1(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Im(n,e.resolve(t.anchor),e.resolve(t.head))}function cN(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,s=t,o=r,l,c,d;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<t.length;p++)o=t[p].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],l="add",d=p=>p.mark(c.addToSet(p.marks));else if(s.length==0&&o.length==1)c=o[0],l="remove",d=p=>p.mark(c.removeFromSet(p.marks));else return null;let h=[];for(let p=0;p<e.childCount;p++)h.push(d(e.child(p)));if(W.from(h).eq(n))return{mark:c,type:l}}function fN(n,e,t,r,s){if(t-e<=s.pos-r.pos||bp(r,!0,!1)<s.pos)return!1;let o=n.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&t==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=n.resolve(bp(o,!0,!0));return!l.parent.isTextblock||l.pos>t||bp(l,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function bp(n,e,t){let r=n.depth,s=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,s++,e=!1;if(t){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function dN(n,e,t,r,s){let o=n.findDiffStart(e,t);if(o==null)return null;let{a:l,b:c}=n.findDiffEnd(e,t+n.size,t+e.size);if(s=="end"){let d=Math.max(0,o-Math.min(l,c));r-=l+d-o}if(l<o&&n.size<e.size){let d=r<=o&&r>=l?o-r:0;o-=d,o&&o<e.size&&f1(e.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-l),l=o}else if(c<o){let d=r<=o&&r>=c?o-r:0;o-=d,o&&o<n.size&&f1(n.textBetween(o-1,o+1))&&(o+=d?1:-1),l=o+(l-c),c=o}return{start:o,endA:l,endB:c}}function f1(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class Gx{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new RD,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(g1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=p1(this),h1(this),this.nodeViews=m1(this),this.docView=KS(this.state.doc,d1(this),vp(this),this.dom,this),this.domObserver=new nN(this,(r,s,o,l)=>uN(this,r,s,o,l)),this.domObserver.start(),DD(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&lm(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(g1),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let s=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(Hx(this),l=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(c||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let b=m1(this);pN(b,this.nodeViews)&&(this.nodeViews=b,o=!0)}(c||t.handleDOMEvents!=this._props.handleDOMEvents)&&lm(this),this.editable=p1(this),h1(this);let d=vp(this),h=d1(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",g=o||!this.docView.matchesNode(e.doc,h,d);(g||!e.selection.eq(s.selection))&&(l=!0);let v=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&KR(this);if(l){this.domObserver.stop();let b=g&&(Gt||Nt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&hN(s.selection,e.selection);if(g){let S=Nt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=FD(this)),(o||!this.docView.update(e.doc,h,d,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=KS(e.doc,h,d,this.dom,this)),S&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&gD(this))?vr(this,b):(Ox(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():v&&GR(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof ae){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&HS(this,t.getBoundingClientRect(),e)}else HS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-t.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new $x(e.slice,e.move,s<0?void 0:ae.create(this.state.doc,s))}someProp(e,t){let r=this._props&&this._props[e],s;if(r!=null&&(s=t?t(r):r))return s;for(let l=0;l<this.directPlugins.length;l++){let c=this.directPlugins[l].props[e];if(c!=null&&(s=t?t(c):c))return s}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let c=o[l].props[e];if(c!=null&&(s=t?t(c):c))return s}}hasFocus(){if(Gt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&WR(this.dom),vr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return ZR(this,e)}coordsAtPos(e,t=1){return Sx(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let s=this.docView.posFromDOM(e,t,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,t){return iD(this,t||this.state,e)}pasteHTML(e,t){return ol(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return ol(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return $m(this,e)}destroy(){this.docView&&(ND(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],vp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,LR())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return LD(this,e)}domSelectionRange(){let e=this.domSelection();return e?jt&&this.root.nodeType===11&&HR(this.dom.ownerDocument)==this.dom&&iN(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Gx.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function d1(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[Bt.node(0,n.state.doc.content.size,e)]}function h1(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:Bt.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function p1(n){return!n.someProp("editable",e=>e(n.state)===!1)}function hN(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function m1(n){let e=Object.create(null);function t(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function pN(n,e){let t=0,r=0;for(let s in n){if(n[s]!=e[s])return!0;t++}for(let s in e)r++;return t!=r}function g1(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var hi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},kc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mN=typeof navigator<"u"&&/Mac/.test(navigator.platform),gN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var _t=0;_t<10;_t++)hi[48+_t]=hi[96+_t]=String(_t);for(var _t=1;_t<=24;_t++)hi[_t+111]="F"+_t;for(var _t=65;_t<=90;_t++)hi[_t]=String.fromCharCode(_t+32),kc[_t]=String.fromCharCode(_t);for(var Sp in hi)kc.hasOwnProperty(Sp)||(kc[Sp]=hi[Sp]);function yN(n){var e=mN&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||gN&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?kc:hi)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const vN=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),bN=typeof navigator<"u"&&/Win/.test(navigator.platform);function SN(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,s,o,l;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))vN?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(t="Alt-"+t),s&&(t="Ctrl-"+t),l&&(t="Meta-"+t),o&&(t="Shift-"+t),t}function wN(n){let e=Object.create(null);for(let t in n)e[SN(t)]=n[t];return e}function wp(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function xN(n){return new Ze({props:{handleKeyDown:Wx(n)}})}function Wx(n){let e=wN(n);return function(t,r){let s=yN(r),o,l=e[wp(s,r)];if(l&&l(t.state,t.dispatch,t))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[wp(s,r,!1)];if(c&&c(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(bN&&r.ctrlKey&&r.altKey)&&(o=hi[r.keyCode])&&o!=s){let c=e[wp(o,r)];if(c&&c(t.state,t.dispatch,t))return!0}}return!1}}const Wm=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function Yx(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Xx=(n,e,t)=>{let r=Yx(n,t);if(!r)return!1;let s=Ym(r);if(!s){let l=r.blockRange(),c=l&&Oo(l);return c==null?!1:(e&&e(n.tr.lift(l,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(sE(n,s,e,-1))return!0;if(r.parent.content.size==0&&(wo(o,"end")||ae.isSelectable(o)))for(let l=r.depth;;l--){let c=ff(n.doc,r.before(l),r.after(l),ee.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=n.tr.step(c);d.setSelection(wo(o,"end")?ye.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ae.create(d.doc,s.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},EN=(n,e,t)=>{let r=Yx(n,t);if(!r)return!1;let s=Ym(r);return s?Jx(n,s,e):!1},TN=(n,e,t)=>{let r=Zx(n,t);if(!r)return!1;let s=Xm(r);return s?Jx(n,s,e):!1};function Jx(n,e,t){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let l=e.nodeAfter,c=l,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let h=ff(n.doc,o,d,ee.empty);if(!h||h.from!=o||h instanceof vt&&h.slice.size>=d-o)return!1;if(t){let p=n.tr.step(h);p.setSelection(he.create(p.doc,o)),t(p.scrollIntoView())}return!0}function wo(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Qx=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=Ym(r)}let l=o&&o.nodeBefore;return!l||!ae.isSelectable(l)?!1:(e&&e(n.tr.setSelection(ae.create(n.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function Ym(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Zx(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const eE=(n,e,t)=>{let r=Zx(n,t);if(!r)return!1;let s=Xm(r);if(!s)return!1;let o=s.nodeAfter;if(sE(n,s,e,1))return!0;if(r.parent.content.size==0&&(wo(o,"start")||ae.isSelectable(o))){let l=ff(n.doc,r.before(),r.after(),ee.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=n.tr.step(l);c.setSelection(wo(o,"start")?ye.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):ae.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(n.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},tE=(n,e,t)=>{let{$head:r,empty:s}=n.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=Xm(r)}let l=o&&o.nodeAfter;return!l||!ae.isSelectable(l)?!1:(e&&e(n.tr.setSelection(ae.create(n.doc,o.pos)).scrollIntoView()),!0)};function Xm(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const kN=(n,e)=>{let t=n.selection,r=t instanceof ae,s;if(r){if(t.node.isTextblock||!gi(n.doc,t.from))return!1;s=t.from}else if(s=cf(n.doc,t.from,-1),s==null)return!1;if(e){let o=n.tr.join(s);r&&o.setSelection(ae.create(o.doc,s-n.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},CN=(n,e)=>{let t=n.selection,r;if(t instanceof ae){if(t.node.isTextblock||!gi(n.doc,t.to))return!1;r=t.to}else if(r=cf(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},_N=(n,e)=>{let{$from:t,$to:r}=n.selection,s=t.blockRange(r),o=s&&Oo(s);return o==null?!1:(e&&e(n.tr.lift(s,o).scrollIntoView()),!0)},nE=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Jm(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const ON=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let s=t.node(-1),o=t.indexAfter(-1),l=Jm(s.contentMatchAt(o));if(!l||!s.canReplaceWith(o,o,l))return!1;if(e){let c=t.after(),d=n.tr.replaceWith(c,c,l.createAndFill());d.setSelection(ye.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},rE=(n,e)=>{let t=n.selection,{$from:r,$to:s}=t;if(t instanceof on||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=Jm(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=n.tr.insert(l,o.createAndFill());c.setSelection(he.create(c.doc,l+1)),e(c.scrollIntoView())}return!0},iE=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let o=t.before();if(yr(n.doc,o))return e&&e(n.tr.split(o).scrollIntoView()),!0}let r=t.blockRange(),s=r&&Oo(r);return s==null?!1:(e&&e(n.tr.lift(r,s).scrollIntoView()),!0)};function MN(n){return(e,t)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof ae&&e.selection.node.isBlock)return!r.parentOffset||!yr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],l,c,d=!1,h=!1;for(let b=r.depth;;b--)if(r.node(b).isBlock){d=r.end(b)==r.pos+(r.depth-b),h=r.start(b)==r.pos-(r.depth-b),c=Jm(r.node(b-1).contentMatchAt(r.indexAfter(b-1))),o.unshift(d&&c?{type:c}:null),l=b;break}else{if(b==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof he||e.selection instanceof on)&&p.deleteSelection();let g=p.mapping.map(r.pos),v=yr(p.doc,g,o.length,o);if(v||(o[0]=c?{type:c}:null,v=yr(p.doc,g,o.length,o)),!v)return!1;if(p.split(g,o.length,o),!d&&h&&r.node(l).type!=c){let b=p.mapping.map(r.before(l)),S=p.doc.resolve(b);c&&r.node(l-1).canReplaceWith(S.index(),S.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(l)),c)}return t&&t(p.scrollIntoView()),!0}}const AN=MN(),RN=(n,e)=>{let{$from:t,to:r}=n.selection,s,o=t.sharedDepth(r);return o==0?!1:(s=t.before(o),e&&e(n.tr.setSelection(ae.create(n.doc,s))),!0)};function DN(n,e,t){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||gi(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function sE(n,e,t,r){let s=e.nodeBefore,o=e.nodeAfter,l,c,d=s.type.spec.isolating||o.type.spec.isolating;if(!d&&DN(n,e,t))return!0;let h=!d&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(l[0]||o.type).validEnd){if(t){let b=e.pos+o.nodeSize,S=W.empty;for(let T=l.length-1;T>=0;T--)S=W.from(l[T].create(null,S));S=W.from(s.copy(S));let x=n.tr.step(new bt(e.pos-1,b,e.pos,b,new ee(S,1,0),l.length,!0)),E=x.doc.resolve(b+2*l.length);E.nodeAfter&&E.nodeAfter.type==s.type&&gi(x.doc,E.pos)&&x.join(E.pos),t(x.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&d?null:ye.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),v=g&&Oo(g);if(v!=null&&v>=e.depth)return t&&t(n.tr.lift(g,v).scrollIntoView()),!0;if(h&&wo(o,"start",!0)&&wo(s,"end")){let b=s,S=[];for(;S.push(b),!b.isTextblock;)b=b.lastChild;let x=o,E=1;for(;!x.isTextblock;x=x.firstChild)E++;if(b.canReplace(b.childCount,b.childCount,x.content)){if(t){let T=W.empty;for(let C=S.length-1;C>=0;C--)T=W.from(S[C].copy(T));let O=n.tr.step(new bt(e.pos-S.length,e.pos+o.nodeSize,e.pos+E,e.pos+o.nodeSize-E,new ee(T,S.length,0),0,!0));t(O.scrollIntoView())}return!0}}return!1}function oE(n){return function(e,t){let r=e.selection,s=n<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(t&&t(e.tr.setSelection(he.create(e.doc,n<0?s.start(o):s.end(o)))),!0):!1}}const NN=oE(-1),zN=oE(1);function LN(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,l=s.blockRange(o),c=l&&jm(l,n,e);return c?(r&&r(t.tr.wrap(l,c).scrollIntoView()),!0):!1}}function y1(n,e=null){return function(t,r){let s=!1;for(let o=0;o<t.selection.ranges.length&&!s;o++){let{$from:{pos:l},$to:{pos:c}}=t.selection.ranges[o];t.doc.nodesBetween(l,c,(d,h)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(n,e)))if(d.type==n)s=!0;else{let p=t.doc.resolve(h),g=p.index();s=p.parent.canReplaceWith(g,g+1,n)}})}if(!s)return!1;if(r){let o=t.tr;for(let l=0;l<t.selection.ranges.length;l++){let{$from:{pos:c},$to:{pos:d}}=t.selection.ranges[l];o.setBlockType(c,d,n,e)}r(o.scrollIntoView())}return!0}}function Qm(...n){return function(e,t,r){for(let s=0;s<n.length;s++)if(n[s](e,t,r))return!0;return!1}}Qm(Wm,Xx,Qx);Qm(Wm,eE,tE);Qm(nE,rE,iE,AN);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function BN(n,e=null){return function(t,r){let{$from:s,$to:o}=t.selection,l=s.blockRange(o);if(!l)return!1;let c=r?t.tr:null;return jN(c,l,n,e)?(r&&r(c.scrollIntoView()),!0):!1}}function jN(n,e,t,r=null){let s=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=l.resolve(e.start-2);o=new vc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new vc(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=jm(o,t,r,e);return c?(n&&PN(n,e,c,s,t),!0):!1}function PN(n,e,t,r,s){let o=W.empty;for(let p=t.length-1;p>=0;p--)o=W.from(t[p].type.create(t[p].attrs,o));n.step(new bt(e.start-(r?2:0),e.end,e.start,e.end,new ee(o,0,0),t.length,!0));let l=0;for(let p=0;p<t.length;p++)t[p].type==s&&(l=p+1);let c=t.length-l,d=e.start+t.length-(r?2:0),h=e.parent;for(let p=e.startIndex,g=e.endIndex,v=!0;p<g;p++,v=!1)!v&&yr(n.doc,d,c)&&(n.split(d,c),d+=2*c),d+=h.child(p).nodeSize;return n}function UN(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,l=>l.childCount>0&&l.firstChild.type==n);return o?t?r.node(o.depth-1).type==n?HN(e,t,n,o):IN(e,t,o):!0:!1}}function HN(n,e,t,r){let s=n.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(s.step(new bt(o-1,l,o,l,new ee(W.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new vc(s.doc.resolve(r.$from.pos),s.doc.resolve(l),r.depth));const c=Oo(r);if(c==null)return!1;s.lift(r,c);let d=s.doc.resolve(s.mapping.map(o,-1)-1);return gi(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function IN(n,e,t){let r=n.tr,s=t.parent;for(let b=t.end,S=t.endIndex-1,x=t.startIndex;S>x;S--)b-=s.child(S).nodeSize,r.delete(b-1,b+1);let o=r.doc.resolve(t.start),l=o.nodeAfter;if(r.mapping.map(t.end)!=t.start+o.nodeAfter.nodeSize)return!1;let c=t.startIndex==0,d=t.endIndex==s.childCount,h=o.node(-1),p=o.index(-1);if(!h.canReplace(p+(c?0:1),p+1,l.content.append(d?W.empty:W.from(s))))return!1;let g=o.pos,v=g+l.nodeSize;return r.step(new bt(g-(c?1:0),v+(d?1:0),g+1,v-1,new ee((c?W.empty:W.from(s.copy(W.empty))).append(d?W.empty:W.from(s.copy(W.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function $N(n){return function(e,t){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,h=>h.childCount>0&&h.firstChild.type==n);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let c=o.parent,d=c.child(l-1);if(d.type!=n)return!1;if(t){let h=d.lastChild&&d.lastChild.type==c.type,p=W.from(h?n.create():null),g=new ee(W.from(n.create(null,W.from(c.type.create(null,p)))),h?3:1,0),v=o.start,b=o.end;t(e.tr.step(new bt(v-(h?3:1),b,v,b,g,1,!0)).scrollIntoView())}return!0}}var qN=Object.defineProperty,aE=(n,e)=>{for(var t in e)qN(n,t,{get:e[t],enumerable:!0})};function gf(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:s}=t,{storedMarks:o}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=t.selection,s=t.doc,o=t.storedMarks,t}}}var yf=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:r}=e,{tr:s}=t,o=this.buildProps(s);return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...h)=>{const p=c(...h)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:r,state:s}=this,{view:o}=r,l=[],c=!!n,d=n||s.tr,h=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),l.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(t).map(([g,v])=>[g,(...S)=>{const x=this.buildProps(d,e),E=v(...S)(x);return l.push(E),p}])),run:h};return p}createCan(n){const{rawCommands:e,state:t}=this,r=!1,s=n||t.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...h)=>d(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(n,e=!0){const{rawCommands:t,editor:r,state:s}=this,{view:o}=r,l={tr:n,editor:r,view:o,state:gf({state:s,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([c,d])=>[c,(...h)=>d(...h)(l)]))}};return l}},VN=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(r=>r.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(r=>r!==e):delete this.callbacks[n]),this}once(n,e){const t=(...r)=>{this.off(n,t),e.apply(this,r)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}};function lE(n,e){const t=new fx(n);return e.forEach(r=>{r.steps.forEach(s=>{t.step(s)})}),t}var uE=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&uE(r)}return n};function Ju(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return uE(t)}function ll(n,e,t){if(n instanceof Mn||n instanceof W)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,s=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return W.fromArray(n.map(c=>e.nodeFromJSON(c)));const l=e.nodeFromJSON(n);return t.errorOnInvalidContent&&l.check(),l}catch(o){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),ll("",e,t)}if(s){if(t.errorOnInvalidContent){let l=!1,c="";const d=new Yw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,c=typeof h=="string"?h:h.outerHTML,null)}]}})});if(t.slice?ui.fromSchema(d).parseSlice(Ju(n),t.parseOptions):ui.fromSchema(d).parse(Ju(n),t.parseOptions),t.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=ui.fromSchema(e);return t.slice?o.parseSlice(Ju(n),t.parseOptions).content:o.parse(Ju(n),t.parseOptions)}return ll("",e,t)}function um(n,e,t={},r={}){return ll(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}function FN(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function KN(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(s,o)=>{t(s)&&r.push({node:s,pos:o})}),r}function GN(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function vf(n){return e=>GN(e.$from,n)}function oe(n,e,t){return n.config[e]===void 0&&n.parent?oe(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?oe(n.parent,e,t):null}):n.config[e]}function Zm(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},r=oe(e,"addExtensions",t);return r?[e,...Zm(r())]:e}).flat(10)}function eg(n,e){const t=ls.fromSchema(e).serializeFragment(n),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(t),s.innerHTML}function cE(n){return typeof n=="function"}function Ne(n,e=void 0,...t){return cE(n)?e?n.bind(e)(...t):n(...t):n}function WN(n={}){return Object.keys(n).length===0&&n.constructor===Object}function ul(n){const e=n.filter(s=>s.type==="extension"),t=n.filter(s=>s.type==="node"),r=n.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function fE(n){const e=[],{nodeExtensions:t,markExtensions:r}=ul(n),s=[...t,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage,extensions:s},d=oe(l,"addGlobalAttributes",c);if(!d)return;d().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([v,b])=>{e.push({type:g,name:v,attribute:{...o,...b}})})})})}),s.forEach(l=>{const c={name:l.name,options:l.options,storage:l.storage},d=oe(l,"addAttributes",c);if(!d)return;const h=d();Object.entries(h).forEach(([p,g])=>{const v={...o,...g};typeof v?.default=="function"&&(v.default=v.default()),v?.isRequired&&v?.default===void 0&&delete v.default,e.push({type:l.name,name:p,attribute:v})})}),e}function rt(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],d=r[s]?r[s].split(" "):[],h=c.filter(p=>!d.includes(p));r[s]=[...d,...h].join(" ")}else if(s==="style"){const c=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],h=new Map;d.forEach(p=>{const[g,v]=p.split(":").map(b=>b.trim());h.set(g,v)}),c.forEach(p=>{const[g,v]=p.split(":").map(b=>b.trim());h.set(g,v)}),r[s]=Array.from(h.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else r[s]=o}),r},{})}function Cc(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>rt(t,r),{})}function YN(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function v1(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const s=e.reduce((o,l)=>{const c=l.attribute.parseHTML?l.attribute.parseHTML(t):YN(t.getAttribute(l.name));return c==null?o:{...o,[l.name]:c}},{});return{...r,...s}}}}function b1(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&WN(t)?!1:t!=null))}function XN(n,e){var t;const r=fE(n),{nodeExtensions:s,markExtensions:o}=ul(n),l=(t=s.find(h=>oe(h,"topNode")))==null?void 0:t.name,c=Object.fromEntries(s.map(h=>{const p=r.filter(T=>T.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((T,O)=>{const C=oe(O,"extendNodeSchema",g);return{...T,...C?C(h):{}}},{}),b=b1({...v,content:Ne(oe(h,"content",g)),marks:Ne(oe(h,"marks",g)),group:Ne(oe(h,"group",g)),inline:Ne(oe(h,"inline",g)),atom:Ne(oe(h,"atom",g)),selectable:Ne(oe(h,"selectable",g)),draggable:Ne(oe(h,"draggable",g)),code:Ne(oe(h,"code",g)),whitespace:Ne(oe(h,"whitespace",g)),linebreakReplacement:Ne(oe(h,"linebreakReplacement",g)),defining:Ne(oe(h,"defining",g)),isolating:Ne(oe(h,"isolating",g)),attrs:Object.fromEntries(p.map(T=>{var O,C;return[T.name,{default:(O=T?.attribute)==null?void 0:O.default,validate:(C=T?.attribute)==null?void 0:C.validate}]}))}),S=Ne(oe(h,"parseHTML",g));S&&(b.parseDOM=S.map(T=>v1(T,p)));const x=oe(h,"renderHTML",g);x&&(b.toDOM=T=>x({node:T,HTMLAttributes:Cc(T,p)}));const E=oe(h,"renderText",g);return E&&(b.toText=E),[h.name,b]})),d=Object.fromEntries(o.map(h=>{const p=r.filter(E=>E.type===h.name),g={name:h.name,options:h.options,storage:h.storage,editor:e},v=n.reduce((E,T)=>{const O=oe(T,"extendMarkSchema",g);return{...E,...O?O(h):{}}},{}),b=b1({...v,inclusive:Ne(oe(h,"inclusive",g)),excludes:Ne(oe(h,"excludes",g)),group:Ne(oe(h,"group",g)),spanning:Ne(oe(h,"spanning",g)),code:Ne(oe(h,"code",g)),attrs:Object.fromEntries(p.map(E=>{var T,O;return[E.name,{default:(T=E?.attribute)==null?void 0:T.default,validate:(O=E?.attribute)==null?void 0:O.validate}]}))}),S=Ne(oe(h,"parseHTML",g));S&&(b.parseDOM=S.map(E=>v1(E,p)));const x=oe(h,"renderHTML",g);return x&&(b.toDOM=E=>x({mark:E,HTMLAttributes:Cc(E,p)})),[h.name,b]}));return new Yw({topNode:l,nodes:c,marks:d})}function JN(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}function tg(n){return n.sort((t,r)=>{const s=oe(t,"priority")||100,o=oe(r,"priority")||100;return s>o?-1:s<o?1:0})}function dE(n){const e=tg(Zm(n)),t=JN(e.map(r=>r.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function hE(n,e,t){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:l={}}=t||{};let c="";return n.nodesBetween(r,s,(d,h,p,g)=>{var v;d.isBlock&&h>r&&(c+=o);const b=l?.[d.type.name];if(b)return p&&(c+=b({node:d,pos:h,parent:p,index:g,range:e})),!1;d.isText&&(c+=(v=d?.text)==null?void 0:v.slice(Math.max(r,h)-h,s-h))}),c}function QN(n,e){const t={from:0,to:n.content.size};return hE(n,t,e)}function pE(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function Sr(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}function mE(n,e){const t=Sr(e,n.schema),{from:r,to:s,empty:o}=n.selection,l=[];o?(n.storedMarks&&l.push(...n.storedMarks),l.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,s,d=>{l.push(...d.marks)});const c=l.find(d=>d.type.name===t.name);return c?{...c.attrs}:{}}function lt(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function ZN(n,e){const t=lt(e,n.schema),{from:r,to:s}=n.selection,o=[];n.doc.nodesBetween(r,s,c=>{o.push(c)});const l=o.reverse().find(c=>c.type.name===t.name);return l?{...l.attrs}:{}}function bf(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function gE(n,e){const t=bf(typeof e=="string"?e:e.name,n.schema);return t==="node"?ZN(n,e):t==="mark"?mE(n,e):{}}function e2(n,e=JSON.stringify){const t={};return n.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(t,s)?!1:t[s]=!0})}function t2(n){const e=e2(n);return e.length===1?e:e.filter((t,r)=>!e.filter((o,l)=>l!==r).some(o=>t.oldRange.from>=o.oldRange.from&&t.oldRange.to<=o.oldRange.to&&t.newRange.from>=o.newRange.from&&t.newRange.to<=o.newRange.to))}function yE(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((s,o)=>{const l=[];if(s.ranges.length)s.forEach((c,d)=>{l.push({from:c,to:d})});else{const{from:c,to:d}=t[o];if(c===void 0||d===void 0)return;l.push({from:c,to:d})}l.forEach(({from:c,to:d})=>{const h=e.slice(o).map(c,-1),p=e.slice(o).map(d),g=e.invert().map(h,-1),v=e.invert().map(p);r.push({oldRange:{from:g,to:v},newRange:{from:h,to:p}})})}),t2(r)}function ng(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function _c(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>t.strict?e[s]===n[s]:ng(e[s])?e[s].test(n[s]):e[s]===n[s]):!0}function vE(n,e,t={}){return n.find(r=>r.type===e&&_c(Object.fromEntries(Object.keys(t).map(s=>[s,r.attrs[s]])),t))}function S1(n,e,t={}){return!!vE(n,e,t)}function rg(n,e,t){var r;if(!n||!e)return;let s=n.parent.childAfter(n.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=n.parent.childBefore(n.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(t=t||((r=s.node.marks[0])==null?void 0:r.attrs),!vE([...s.node.marks],e,t)))return;let l=s.index,c=n.start()+s.offset,d=l+1,h=c+s.node.nodeSize;for(;l>0&&S1([...n.parent.child(l-1).marks],e,t);)l-=1,c-=n.parent.child(l).nodeSize;for(;d<n.parent.childCount&&S1([...n.parent.child(d).marks],e,t);)h+=n.parent.child(d).nodeSize,d+=1;return{from:c,to:h}}function ig(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(s=>{const o=t.resolve(n),l=rg(o,s.type);l&&r.push({mark:s,...l})}):t.nodesBetween(n,e,(s,o)=>{!s||s?.nodeSize===void 0||r.push(...s.marks.map(l=>({from:o,to:o+s.nodeSize,mark:l})))}),r}var n2=(n,e,t,r=20)=>{const s=n.doc.resolve(t);let o=r,l=null;for(;o>0&&l===null;){const c=s.node(o);c?.type.name===e?l=c:o-=1}return[l,o]};function xp(n,e){return e.nodes[n]||e.marks[n]||null}function uc(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const s=n.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}var r2=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(s,o,l,c)=>{var d,h;const p=((h=(d=s.type.spec).toText)==null?void 0:h.call(d,{node:s,pos:o,parent:l,index:c}))||s.textContent||"%leaf%";t+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-o))}),t};function cm(n,e,t={}){const{empty:r,ranges:s}=n.selection,o=e?Sr(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(g=>o?o.name===g.type.name:!0).find(g=>_c(g.attrs,t,{strict:!1}));let l=0;const c=[];if(s.forEach(({$from:g,$to:v})=>{const b=g.pos,S=v.pos;n.doc.nodesBetween(b,S,(x,E)=>{if(!x.isText&&!x.marks.length)return;const T=Math.max(b,E),O=Math.min(S,E+x.nodeSize),C=O-T;l+=C,c.push(...x.marks.map(z=>({mark:z,from:T,to:O})))})}),l===0)return!1;const d=c.filter(g=>o?o.name===g.mark.type.name:!0).filter(g=>_c(g.mark.attrs,t,{strict:!1})).reduce((g,v)=>g+v.to-v.from,0),h=c.filter(g=>o?g.mark.type!==o&&g.mark.type.excludes(o):!0).reduce((g,v)=>g+v.to-v.from,0);return(d>0?d+h:d)>=l}function pi(n,e,t={}){const{from:r,to:s,empty:o}=n.selection,l=e?lt(e,n.schema):null,c=[];n.doc.nodesBetween(r,s,(g,v)=>{if(g.isText)return;const b=Math.max(r,v),S=Math.min(s,v+g.nodeSize);c.push({node:g,from:b,to:S})});const d=s-r,h=c.filter(g=>l?l.name===g.node.type.name:!0).filter(g=>_c(g.node.attrs,t,{strict:!1}));return o?!!h.length:h.reduce((g,v)=>g+v.to-v.from,0)>=d}function i2(n,e,t={}){if(!e)return pi(n,null,t)||cm(n,null,t);const r=bf(e,n.schema);return r==="node"?pi(n,e,t):r==="mark"?cm(n,e,t):!1}var s2=(n,e)=>{const{$from:t,$to:r,$anchor:s}=n.selection;if(e){const o=vf(c=>c.type.name===e)(n.selection);if(!o)return!1;const l=n.doc.resolve(o.pos+1);return s.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},o2=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function w1(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function x1(n,e){const{nodeExtensions:t}=ul(e),r=t.find(l=>l.name===n);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=Ne(oe(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Sf(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!=null?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let s=!0;return n.content.forEach(o=>{s!==!1&&(Sf(o,{ignoreWhitespace:t,checkChildren:e})||(s=!1))}),s}return!1}function bE(n){return n instanceof ae}function SE(n){return n instanceof he}function Fi(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function wE(n,e=null){if(!e)return null;const t=ye.atStart(n),r=ye.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const s=t.from,o=r.to;return e==="all"?he.create(n,Fi(0,s,o),Fi(n.content.size,s,o)):he.create(n,Fi(e,s,o),Fi(e,s,o))}function a2(n,e,t){const r=n.steps.length-1;if(r<e)return;const s=n.steps[r];if(!(s instanceof vt||s instanceof bt))return;const o=n.mapping.maps[r];let l=0;o.forEach((c,d,h,p)=>{l===0&&(l=p)}),n.setSelection(ye.near(n.doc.resolve(l),t))}var wf=class{constructor(n){this.find=n.find,this.handler=n.handler}},l2=(n,e)=>{if(ng(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Qu(n){var e;const{editor:t,from:r,to:s,text:o,rules:l,plugin:c}=n,{view:d}=t;if(d.composing)return!1;const h=d.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(v=>v.type.spec.code))return!1;let p=!1;const g=r2(h)+o;return l.forEach(v=>{if(p)return;const b=l2(g,v.find);if(!b)return;const S=d.state.tr,x=gf({state:d.state,transaction:S}),E={from:r-(b[0].length-o.length),to:s},{commands:T,chain:O,can:C}=new yf({editor:t,state:x});v.handler({state:x,range:E,match:b,commands:T,chain:O,can:C})===null||!S.steps.length||(S.setMeta(c,{transform:S,from:r,to:s,text:o}),d.dispatch(S),p=!0)}),p}function u2(n){const{editor:e,rules:t}=n,r=new Ze({state:{init(){return null},apply(s,o,l){const c=s.getMeta(r);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=eg(W.from(p),l.schema);const{from:g}=d,v=g+p.length;Qu({editor:e,from:g,to:v,text:p,rules:t,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,l,c){return Qu({editor:e,from:o,to:l,text:c,rules:t,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&Qu({editor:e,from:o.pos,to:o.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:l}=s.state.selection;return l?Qu({editor:e,from:l.pos,to:l.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function c2(n){return Object.prototype.toString.call(n).slice(8,-1)}function Zu(n){return c2(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function xE(n,e){const t={...n};return Zu(n)&&Zu(e)&&Object.keys(e).forEach(r=>{Zu(e[r])&&Zu(n[r])?t[r]=xE(n[r],e[r]):t[r]=e[r]}),t}var sg=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...Ne(oe(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ne(oe(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>xE(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},vi=class EE extends sg{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new EE(t)}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const l=s.marks();if(!!!l.find(h=>h?.type.name===t.name))return!1;const d=l.find(h=>h?.type.name===t.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function f2(n){return typeof n=="number"}var d2=class{constructor(n){this.find=n.find,this.handler=n.handler}},h2=(n,e,t)=>{if(ng(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=n,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function p2(n){const{editor:e,state:t,from:r,to:s,rule:o,pasteEvent:l,dropEvent:c}=n,{commands:d,chain:h,can:p}=new yf({editor:e,state:t}),g=[];return t.doc.nodesBetween(r,s,(b,S)=>{if(!b.isTextblock||b.type.spec.code)return;const x=Math.max(r,S),E=Math.min(s,S+b.content.size),T=b.textBetween(x-S,E-S,void 0,"￼");h2(T,o.find,l).forEach(C=>{if(C.index===void 0)return;const z=x+C.index+1,N=z+C[0].length,j={from:t.tr.mapping.map(z),to:t.tr.mapping.map(N)},_=o.handler({state:t,range:j,match:C,commands:d,chain:h,can:p,pasteEvent:l,dropEvent:c});g.push(_)})}),g.every(b=>b!==null)}var ec=null,m2=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function g2(n){const{editor:e,rules:t}=n;let r=null,s=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:p,from:g,to:v,rule:b,pasteEvt:S})=>{const x=p.tr,E=gf({state:p,transaction:x});if(!(!p2({editor:e,state:E,from:Math.max(g-1,0),to:v.b-1,rule:b,pasteEvent:S,dropEvent:c})||!x.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return t.map(p=>new Ze({view(g){const v=S=>{var x;r=(x=g.dom.parentElement)!=null&&x.contains(S.target)?g.dom.parentElement:null,r&&(ec=e)},b=()=>{ec&&(ec=null)};return window.addEventListener("dragstart",v),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",v),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(g,v)=>{if(o=r===g.dom.parentElement,c=v,!o){const b=ec;b?.isEditable&&setTimeout(()=>{const S=b.state.selection;S&&b.commands.deleteRange({from:S.from,to:S.to})},10)}return!1},paste:(g,v)=>{var b;const S=(b=v.clipboardData)==null?void 0:b.getData("text/html");return l=v,s=!!S?.includes("data-pm-slice"),!1}}},appendTransaction:(g,v,b)=>{const S=g[0],x=S.getMeta("uiEvent")==="paste"&&!s,E=S.getMeta("uiEvent")==="drop"&&!o,T=S.getMeta("applyPasteRules"),O=!!T;if(!x&&!E&&!O)return;if(O){let{text:N}=T;typeof N=="string"?N=N:N=eg(W.from(N),b.schema);const{from:j}=T,_=j+N.length,R=m2(N);return d({rule:p,state:b,from:j,to:{b:_},pasteEvt:R})}const C=v.doc.content.findDiffStart(b.doc.content),z=v.doc.content.findDiffEnd(b.doc.content);if(!(!f2(C)||!z||C===z.b))return d({rule:p,state:b,from:C,to:z,pasteEvt:l})}}))}var xf=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.extensions=dE(n),this.schema=XN(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:xp(e.name,this.schema)},r=oe(e,"addCommands",t);return r?{...n,...r()}:n},{})}get plugins(){const{editor:n}=this,e=tg([...this.extensions].reverse()),t=[],r=[],s=e.map(o=>{const l={name:o.name,options:o.options,storage:this.editor.extensionStorage[o.name],editor:n,type:xp(o.name,this.schema)},c=[],d=oe(o,"addKeyboardShortcuts",l);let h={};if(o.type==="mark"&&oe(o,"exitable",l)&&(h.ArrowRight=()=>vi.handleExit({editor:n,mark:o})),d){const S=Object.fromEntries(Object.entries(d()).map(([x,E])=>[x,()=>E({editor:n})]));h={...h,...S}}const p=xN(h);c.push(p);const g=oe(o,"addInputRules",l);w1(o,n.options.enableInputRules)&&g&&t.push(...g());const v=oe(o,"addPasteRules",l);w1(o,n.options.enablePasteRules)&&v&&r.push(...v());const b=oe(o,"addProseMirrorPlugins",l);if(b){const S=b();c.push(...S)}return c}).flat();return[u2({editor:n,rules:t}),...g2({editor:n,rules:r}),...s]}get attributes(){return fE(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=ul(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addNodeView")).map(t=>{const r=this.attributes.filter(c=>c.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:lt(t.name,this.schema)},o=oe(t,"addNodeView",s);if(!o)return[];const l=(c,d,h,p,g)=>{const v=Cc(c,r);return o()({node:c,view:d,getPos:h,decorations:p,innerDecorations:g,editor:n,extension:t,HTMLAttributes:v})};return[t.name,l]}))}get markViews(){const{editor:n}=this,{markExtensions:e}=ul(this.extensions);return Object.fromEntries(e.filter(t=>!!oe(t,"addMarkView")).map(t=>{const r=this.attributes.filter(c=>c.type===t.name),s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:Sr(t.name,this.schema)},o=oe(t,"addMarkView",s);if(!o)return[];const l=(c,d,h)=>{const p=Cc(c,r);return o()({mark:c,view:d,inline:h,editor:n,extension:t,HTMLAttributes:p,updateAttributes:g=>{Dz(c,n,g)}})};return[t.name,l]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:xp(e.name,this.schema)};e.type==="mark"&&((t=Ne(oe(e,"keepOnSplit",r)))==null||t)&&this.splittableMarks.push(e.name);const s=oe(e,"onBeforeCreate",r),o=oe(e,"onCreate",r),l=oe(e,"onUpdate",r),c=oe(e,"onSelectionUpdate",r),d=oe(e,"onTransaction",r),h=oe(e,"onFocus",r),p=oe(e,"onBlur",r),g=oe(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),l&&this.editor.on("update",l),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),h&&this.editor.on("focus",h),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};xf.resolve=dE;xf.sort=tg;xf.flatten=Zm;var y2={};aE(y2,{ClipboardTextSerializer:()=>kE,Commands:()=>OE,Delete:()=>ME,Drop:()=>AE,Editable:()=>RE,FocusEvents:()=>NE,Keymap:()=>zE,Paste:()=>LE,Tabindex:()=>BE,focusEventsPluginKey:()=>DE});var Ie=class TE extends sg{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new TE(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},kE=Ie.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ze({key:new wt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:s}=e,{ranges:o}=s,l=Math.min(...o.map(p=>p.$from.pos)),c=Math.max(...o.map(p=>p.$to.pos)),d=pE(t);return hE(r,{from:l,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),CE={};aE(CE,{blur:()=>v2,clearContent:()=>b2,clearNodes:()=>S2,command:()=>w2,createParagraphNear:()=>x2,cut:()=>E2,deleteCurrentNode:()=>T2,deleteNode:()=>k2,deleteRange:()=>C2,deleteSelection:()=>_2,enter:()=>O2,exitCode:()=>M2,extendMarkRange:()=>A2,first:()=>R2,focus:()=>N2,forEach:()=>z2,insertContent:()=>L2,insertContentAt:()=>j2,joinBackward:()=>H2,joinDown:()=>U2,joinForward:()=>I2,joinItemBackward:()=>$2,joinItemForward:()=>q2,joinTextblockBackward:()=>V2,joinTextblockForward:()=>F2,joinUp:()=>P2,keyboardShortcut:()=>G2,lift:()=>W2,liftEmptyBlock:()=>Y2,liftListItem:()=>X2,newlineInCode:()=>J2,resetAttributes:()=>Q2,scrollIntoView:()=>Z2,selectAll:()=>ez,selectNodeBackward:()=>tz,selectNodeForward:()=>nz,selectParentNode:()=>rz,selectTextblockEnd:()=>iz,selectTextblockStart:()=>sz,setContent:()=>oz,setMark:()=>lz,setMeta:()=>uz,setNode:()=>cz,setNodeSelection:()=>fz,setTextSelection:()=>dz,sinkListItem:()=>hz,splitBlock:()=>pz,splitListItem:()=>mz,toggleList:()=>gz,toggleMark:()=>yz,toggleNode:()=>vz,toggleWrap:()=>bz,undoInputRule:()=>Sz,unsetAllMarks:()=>wz,unsetMark:()=>xz,updateAttributes:()=>Ez,wrapIn:()=>Tz,wrapInList:()=>kz});var v2=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),b2=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),S2=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:s}=r;return t&&s.forEach(({$from:o,$to:l})=>{n.doc.nodesBetween(o.pos,l.pos,(c,d)=>{if(c.type.isText)return;const{doc:h,mapping:p}=e,g=h.resolve(p.map(d)),v=h.resolve(p.map(d+c.nodeSize)),b=g.blockRange(v);if(!b)return;const S=Oo(b);if(c.type.isTextblock){const{defaultType:x}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(b.start,x)}(S||S===0)&&e.lift(b,S)})}),!0},w2=n=>e=>n(e),x2=()=>({state:n,dispatch:e})=>rE(n,e),E2=(n,e)=>({editor:t,tr:r})=>{const{state:s}=t,o=s.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const l=r.mapping.map(e);return r.insert(l,o.content),r.setSelection(new he(r.doc.resolve(Math.max(l-1,0)))),!0},T2=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const s=n.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const c=s.before(o),d=s.after(o);n.delete(c,d).scrollIntoView()}return!0}return!1},k2=n=>({tr:e,state:t,dispatch:r})=>{const s=lt(n,t.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===s){if(r){const d=o.before(l),h=o.after(l);e.delete(d,h).scrollIntoView()}return!0}return!1},C2=n=>({tr:e,dispatch:t})=>{const{from:r,to:s}=n;return t&&e.delete(r,s),!0},_2=()=>({state:n,dispatch:e})=>Wm(n,e),O2=()=>({commands:n})=>n.keyboardShortcut("Enter"),M2=()=>({state:n,dispatch:e})=>ON(n,e),A2=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const o=Sr(n,r.schema),{doc:l,selection:c}=t,{$from:d,from:h,to:p}=c;if(s){const g=rg(d,o,e);if(g&&g.from<=h&&g.to>=p){const v=he.create(l,g.from,g.to);t.setSelection(v)}}return!0},R2=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function D2(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function og(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var N2=(n=null,e={})=>({editor:t,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(og()||D2())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!SE(t.state.selection))return l(),!0;const c=wE(s.doc,n)||t.state.selection,d=t.state.selection.eq(c);return o&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},z2=(n,e)=>t=>n.every((r,s)=>e(r,{...t,index:s})),L2=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),B2=n=>!("type"in n),j2=(n,e,t)=>({tr:r,dispatch:s,editor:o})=>{var l;if(s){t={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let c;const{selection:d}=o.state,h=T=>{o.emit("contentError",{editor:o,error:T,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{ll(e,o.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(T){h(T)}try{c=ll(e,o.schema,{parseOptions:p,errorOnInvalidContent:(l=t.errorOnInvalidContent)!=null?l:o.options.enableContentCheck})}catch(T){return h(T),!1}let{from:g,to:v}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},b=!0,S=!0;if((B2(c)?c:[c]).forEach(T=>{T.check(),b=b?T.isText&&T.marks.length===0:!1,S=S?T.isBlock:!1}),g===v&&S){const{parent:T}=r.doc.resolve(g);T.isTextblock&&!T.type.spec.code&&!T.childCount&&(g-=1,v+=1)}let E;if(b){if(Array.isArray(e))E=e.map(T=>T.text||"").join("");else if(e instanceof W){let T="";e.forEach(O=>{O.text&&(T+=O.text)}),E=T}else typeof e=="object"&&e&&e.text?E=e.text:E=e;r.insertText(E,g,v)}else{E=c;const T=d.$from.parentOffset===0,O=d.$from.node().isText||d.$from.node().isTextblock,C=d.$from.node().content.size>0;T&&O&&C&&(g=Math.max(0,g-1)),r.replaceWith(g,v,E)}t.updateSelection&&a2(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:g,text:E}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:g,text:E})}return!0},P2=()=>({state:n,dispatch:e})=>kN(n,e),U2=()=>({state:n,dispatch:e})=>CN(n,e),H2=()=>({state:n,dispatch:e})=>Xx(n,e),I2=()=>({state:n,dispatch:e})=>eE(n,e),$2=()=>({state:n,dispatch:e,tr:t})=>{try{const r=cf(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},q2=()=>({state:n,dispatch:e,tr:t})=>{try{const r=cf(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},V2=()=>({state:n,dispatch:e})=>EN(n,e),F2=()=>({state:n,dispatch:e})=>TN(n,e);function _E(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function K2(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,s,o,l;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))og()||_E()?l=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(t=`Alt-${t}`),s&&(t=`Ctrl-${t}`),l&&(t=`Meta-${t}`),o&&(t=`Shift-${t}`),t}var G2=n=>({editor:e,view:t,tr:r,dispatch:s})=>{const o=K2(n).split(/-(?!$)/),l=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),c=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{t.someProp("handleKeyDown",h=>h(t,c))});return d?.steps.forEach(h=>{const p=h.map(r.mapping);p&&s&&r.maybeStep(p)}),!0},W2=(n,e={})=>({state:t,dispatch:r})=>{const s=lt(n,t.schema);return pi(t,s,e)?_N(t,r):!1},Y2=()=>({state:n,dispatch:e})=>iE(n,e),X2=n=>({state:e,dispatch:t})=>{const r=lt(n,e.schema);return UN(r)(e,t)},J2=()=>({state:n,dispatch:e})=>nE(n,e);function E1(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,s)=>(t.includes(s)||(r[s]=n[s]),r),{})}var Q2=(n,e)=>({tr:t,state:r,dispatch:s})=>{let o=null,l=null;const c=bf(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=lt(n,r.schema)),c==="mark"&&(l=Sr(n,r.schema)),s&&t.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(h,p)=>{o&&o===h.type&&t.setNodeMarkup(p,void 0,E1(h.attrs,e)),l&&h.marks.length&&h.marks.forEach(g=>{l===g.type&&t.addMark(p,p+h.nodeSize,l.create(E1(g.attrs,e)))})})}),!0):!1},Z2=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),ez=()=>({tr:n,dispatch:e})=>{if(e){const t=new on(n.doc);n.setSelection(t)}return!0},tz=()=>({state:n,dispatch:e})=>Qx(n,e),nz=()=>({state:n,dispatch:e})=>tE(n,e),rz=()=>({state:n,dispatch:e})=>RN(n,e),iz=()=>({state:n,dispatch:e})=>zN(n,e),sz=()=>({state:n,dispatch:e})=>NN(n,e),oz=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:r={}}={})=>({editor:s,tr:o,dispatch:l,commands:c})=>{const{doc:d}=o;if(r.preserveWhitespace!=="full"){const h=um(n,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return l&&o.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!t),!0}return l&&o.setMeta("preventUpdate",!t),c.insertContentAt({from:0,to:d.content.size},n,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function az(n,e,t){var r;const{selection:s}=e;let o=null;if(SE(s)&&(o=s.$cursor),o){const c=(r=n.storedMarks)!=null?r:o.marks();return!!t.isInSet(c)||!c.some(d=>d.type.excludes(t))}const{ranges:l}=s;return l.some(({$from:c,$to:d})=>{let h=c.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(c.pos,d.pos,(p,g,v)=>{if(h)return!1;if(p.isInline){const b=!v||v.type.allowsMarkType(t),S=!!t.isInSet(p.marks)||!p.marks.some(x=>x.type.excludes(t));h=b&&S}return!h}),h})}var lz=(n,e={})=>({tr:t,state:r,dispatch:s})=>{const{selection:o}=t,{empty:l,ranges:c}=o,d=Sr(n,r.schema);if(s)if(l){const h=mE(r,d);t.addStoredMark(d.create({...h,...e}))}else c.forEach(h=>{const p=h.$from.pos,g=h.$to.pos;r.doc.nodesBetween(p,g,(v,b)=>{const S=Math.max(b,p),x=Math.min(b+v.nodeSize,g);v.marks.find(T=>T.type===d)?v.marks.forEach(T=>{d===T.type&&t.addMark(S,x,d.create({...T.attrs,...e}))}):t.addMark(S,x,d.create(e))})});return az(r,t,d)},uz=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),cz=(n,e={})=>({state:t,dispatch:r,chain:s})=>{const o=lt(n,t.schema);let l;return t.selection.$anchor.sameParent(t.selection.$head)&&(l=t.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>y1(o,{...l,...e})(t)?!0:c.clearNodes()).command(({state:c})=>y1(o,{...l,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},fz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,s=Fi(n,0,r.content.size),o=ae.create(r,s);e.setSelection(o)}return!0},dz=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:s,to:o}=typeof n=="number"?{from:n,to:n}:n,l=he.atStart(r).from,c=he.atEnd(r).to,d=Fi(s,l,c),h=Fi(o,l,c),p=he.create(r,d,h);e.setSelection(p)}return!0},hz=n=>({state:e,dispatch:t})=>{const r=lt(n,e.schema);return $N(r)(e,t)};function T1(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(s=>e?.includes(s.type.name));n.tr.ensureMarks(r)}}var pz=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:s})=>{const{selection:o,doc:l}=e,{$from:c,$to:d}=o,h=s.extensionManager.attributes,p=uc(h,c.node().type.name,c.node().attrs);if(o instanceof ae&&o.node.isBlock)return!c.parentOffset||!yr(l,c.pos)?!1:(r&&(n&&T1(t,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const g=d.parentOffset===d.parent.content.size,v=c.depth===0?void 0:FN(c.node(-1).contentMatchAt(c.indexAfter(-1)));let b=g&&v?[{type:v,attrs:p}]:void 0,S=yr(e.doc,e.mapping.map(c.pos),1,b);if(!b&&!S&&yr(e.doc,e.mapping.map(c.pos),1,v?[{type:v}]:void 0)&&(S=!0,b=v?[{type:v,attrs:p}]:void 0),r){if(S&&(o instanceof he&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,b),v&&!g&&!c.parentOffset&&c.parent.type!==v)){const x=e.mapping.map(c.before()),E=e.doc.resolve(x);c.node(-1).canReplaceWith(E.index(),E.index()+1,v)&&e.setNodeMarkup(e.mapping.map(c.before()),v)}n&&T1(t,s.extensionManager.splittableMarks),e.scrollIntoView()}return S},mz=(n,e={})=>({tr:t,state:r,dispatch:s,editor:o})=>{var l;const c=lt(n,r.schema),{$from:d,$to:h}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(h))return!1;const g=d.node(-1);if(g.type!==c)return!1;const v=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let T=W.empty;const O=d.index(-1)?1:d.index(-2)?2:3;for(let R=d.depth-O;R>=d.depth-3;R-=1)T=W.from(d.node(R).copy(T));const C=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,z={...uc(v,d.node().type.name,d.node().attrs),...e},N=((l=c.contentMatch.defaultType)==null?void 0:l.createAndFill(z))||void 0;T=T.append(W.from(c.createAndFill(null,N)||void 0));const j=d.before(d.depth-(O-1));t.replace(j,d.after(-C),new ee(T,4-O,0));let _=-1;t.doc.nodesBetween(j,t.doc.content.size,(R,q)=>{if(_>-1)return!1;R.isTextblock&&R.content.size===0&&(_=q+1)}),_>-1&&t.setSelection(he.near(t.doc.resolve(_))),t.scrollIntoView()}return!0}const b=h.pos===d.end()?g.contentMatchAt(0).defaultType:null,S={...uc(v,g.type.name,g.attrs),...e},x={...uc(v,d.node().type.name,d.node().attrs),...e};t.delete(d.pos,h.pos);const E=b?[{type:c,attrs:S},{type:b,attrs:x}]:[{type:c,attrs:S}];if(!yr(t.doc,d.pos,2))return!1;if(s){const{selection:T,storedMarks:O}=r,{splittableMarks:C}=o.extensionManager,z=O||T.$to.parentOffset&&T.$from.marks();if(t.split(d.pos,2,E).scrollIntoView(),!z||!s)return!0;const N=z.filter(j=>C.includes(j.type.name));t.ensureMarks(N)}return!0},Ep=(n,e)=>{const t=vf(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&gi(n.doc,t.pos)&&n.join(t.pos),!0},Tp=(n,e)=>{const t=vf(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const s=n.doc.nodeAt(r);return t.node.type===s?.type&&gi(n.doc,r)&&n.join(r),!0},gz=(n,e,t,r={})=>({editor:s,tr:o,state:l,dispatch:c,chain:d,commands:h,can:p})=>{const{extensions:g,splittableMarks:v}=s.extensionManager,b=lt(n,l.schema),S=lt(e,l.schema),{selection:x,storedMarks:E}=l,{$from:T,$to:O}=x,C=T.blockRange(O),z=E||x.$to.parentOffset&&x.$from.marks();if(!C)return!1;const N=vf(j=>x1(j.type.name,g))(x);if(C.depth>=1&&N&&C.depth-N.depth<=1){if(N.node.type===b)return h.liftListItem(S);if(x1(N.node.type.name,g)&&b.validContent(N.node.content)&&c)return d().command(()=>(o.setNodeMarkup(N.pos,b),!0)).command(()=>Ep(o,b)).command(()=>Tp(o,b)).run()}return!t||!z||!c?d().command(()=>p().wrapInList(b,r)?!0:h.clearNodes()).wrapInList(b,r).command(()=>Ep(o,b)).command(()=>Tp(o,b)).run():d().command(()=>{const j=p().wrapInList(b,r),_=z.filter(R=>v.includes(R.type.name));return o.ensureMarks(_),j?!0:h.clearNodes()}).wrapInList(b,r).command(()=>Ep(o,b)).command(()=>Tp(o,b)).run()},yz=(n,e={},t={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=t,l=Sr(n,r.schema);return cm(r,l,e)?s.unsetMark(l,{extendEmptyMarkRange:o}):s.setMark(l,e)},vz=(n,e,t={})=>({state:r,commands:s})=>{const o=lt(n,r.schema),l=lt(e,r.schema),c=pi(r,o,t);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?s.setNode(l,d):s.setNode(o,{...d,...t})},bz=(n,e={})=>({state:t,commands:r})=>{const s=lt(n,t.schema);return pi(t,s,e)?r.lift(s):r.wrapIn(s,e)},Sz=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const s=t[r];let o;if(s.spec.isInputRules&&(o=s.getState(n))){if(e){const l=n.tr,c=o.transform;for(let d=c.steps.length-1;d>=0;d-=1)l.step(c.steps[d].invert(c.docs[d]));if(o.text){const d=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,n.schema.text(o.text,d))}else l.delete(o.from,o.to)}return!0}}return!1},wz=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:s}=t;return r||e&&s.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},xz=(n,e={})=>({tr:t,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:c}=t,d=Sr(n,r.schema),{$from:h,empty:p,ranges:g}=c;if(!s)return!0;if(p&&l){let{from:v,to:b}=c;const S=(o=h.marks().find(E=>E.type===d))==null?void 0:o.attrs,x=rg(h,d,S);x&&(v=x.from,b=x.to),t.removeMark(v,b,d)}else g.forEach(v=>{t.removeMark(v.$from.pos,v.$to.pos,d)});return t.removeStoredMark(d),!0},Ez=(n,e={})=>({tr:t,state:r,dispatch:s})=>{let o=null,l=null;const c=bf(typeof n=="string"?n:n.name,r.schema);return c?(c==="node"&&(o=lt(n,r.schema)),c==="mark"&&(l=Sr(n,r.schema)),s&&t.selection.ranges.forEach(d=>{const h=d.$from.pos,p=d.$to.pos;let g,v,b,S;t.selection.empty?r.doc.nodesBetween(h,p,(x,E)=>{o&&o===x.type&&(b=Math.max(E,h),S=Math.min(E+x.nodeSize,p),g=E,v=x)}):r.doc.nodesBetween(h,p,(x,E)=>{E<h&&o&&o===x.type&&(b=Math.max(E,h),S=Math.min(E+x.nodeSize,p),g=E,v=x),E>=h&&E<=p&&(o&&o===x.type&&t.setNodeMarkup(E,void 0,{...x.attrs,...e}),l&&x.marks.length&&x.marks.forEach(T=>{if(l===T.type){const O=Math.max(E,h),C=Math.min(E+x.nodeSize,p);t.addMark(O,C,l.create({...T.attrs,...e}))}}))}),v&&(g!==void 0&&t.setNodeMarkup(g,void 0,{...v.attrs,...e}),l&&v.marks.length&&v.marks.forEach(x=>{l===x.type&&t.addMark(b,S,l.create({...x.attrs,...e}))}))}),!0):!1},Tz=(n,e={})=>({state:t,dispatch:r})=>{const s=lt(n,t.schema);return LN(s,e)(t,r)},kz=(n,e={})=>({state:t,dispatch:r})=>{const s=lt(n,t.schema);return BN(s,e)(t,r)},OE=Ie.create({name:"commands",addCommands(){return{...CE}}}),ME=Ie.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,r,s;const o=()=>{var l,c,d,h;if((h=(d=(c=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,n))!=null?h:n.getMeta("y-sync$"))return;const p=lE(n.before,[n,...e]);yE(p).forEach(b=>{p.mapping.mapResult(b.oldRange.from).deletedAfter&&p.mapping.mapResult(b.oldRange.to).deletedBefore&&p.before.nodesBetween(b.oldRange.from,b.oldRange.to,(S,x)=>{const E=x+S.nodeSize-2,T=b.oldRange.from<=x&&E<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:S,from:x,to:E,newFrom:p.mapping.map(x),newTo:p.mapping.map(E),deletedRange:b.oldRange,newRange:b.newRange,partial:!T,editor:this.editor,transaction:n,combinedTransform:p})})});const v=p.mapping;p.steps.forEach((b,S)=>{var x,E;if(b instanceof On){const T=v.slice(S).map(b.from,-1),O=v.slice(S).map(b.to),C=v.invert().map(T,-1),z=v.invert().map(O),N=(x=p.doc.nodeAt(T-1))==null?void 0:x.marks.some(_=>_.eq(b.mark)),j=(E=p.doc.nodeAt(O))==null?void 0:E.marks.some(_=>_.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:C,to:z},newRange:{from:T,to:O},partial:!!(j||N),editor:this.editor,transaction:n,combinedTransform:p})}})};(s=(r=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:r.async)==null||s?setTimeout(o,0):o()}}),AE=Ie.create({name:"drop",addProseMirrorPlugins(){return[new Ze({key:new wt("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),RE=Ie.create({name:"editable",addProseMirrorPlugins(){return[new Ze({key:new wt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),DE=new wt("focusEvents"),NE=Ie.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Ze({key:DE,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),zE=Ie.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:c})=>{const{selection:d,doc:h}=c,{empty:p,$anchor:g}=d,{pos:v,parent:b}=g,S=g.parent.isTextblock&&v>0?c.doc.resolve(v-1):g,x=S.parent.type.spec.isolating,E=g.pos-g.parentOffset,T=x&&S.parent.childCount===1?E===g.pos:ye.atStart(h).from===v;return!p||!b.type.isTextblock||b.textContent.length||!T||T&&g.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return og()||_E()?o:s},addProseMirrorPlugins(){return[new Ze({key:new wt("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(x=>x.getMeta("composition")))return;const r=n.some(x=>x.docChanged)&&!e.doc.eq(t.doc),s=n.some(x=>x.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:l,to:c}=e.selection,d=ye.atStart(e.doc).from,h=ye.atEnd(e.doc).to;if(o||!(l===d&&c===h)||!Sf(t.doc))return;const v=t.tr,b=gf({state:t,transaction:v}),{commands:S}=new yf({editor:this.editor,state:b});if(S.clearNodes(),!!v.steps.length)return v}})]}}),LE=Ie.create({name:"paste",addProseMirrorPlugins(){return[new Ze({key:new wt("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),BE=Ie.create({name:"tabindex",addProseMirrorPlugins(){return[new Ze({key:new wt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Cz=class fo{constructor(e,t,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new fo(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new fo(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new fo(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const s=t.isBlock&&!t.isTextblock,o=t.isAtom&&!t.isText,l=this.pos+r+(o?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(l);if(!s&&c.depth<=this.depth)return;const d=new fo(c,this.editor,s,s?t:null);s&&(d.actualDepth=this.depth+1),e.push(new fo(c,this.editor,s,s?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(t).length>0){const o=s.node.attrs,l=Object.keys(t);for(let c=0;c<l.length;c+=1){const d=l[c];if(o[d]!==t[d])break}}else r=s;s=s.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(t);return this.children.forEach(l=>{r&&s.length>0||(l.node.type.name===e&&o.every(d=>t[d]===l.node.attrs[d])&&s.push(l),!(r&&s.length>0)&&(s=s.concat(l.querySelectorAll(e,t,r))))}),s}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},_z=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Oz(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(s),s}var Mz=class extends VN{constructor(n={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:o})=>this.options.onDrop(r,s,o)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=wE(e,this.options.autofocus);this.editorState=po.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){var n;if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}this.editorView=null,this.isInitialized=!1,(n=this.css)==null||n.remove(),this.css=null}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Oz(_z,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.editorState=this.state.apply(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=cE(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;t=t.filter(l=>!l.key.startsWith(o))}),e.length===t.length)return;const r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}createExtensionManager(){var n,e;const r=[...this.options.enableCoreExtensions?[RE,kE.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),OE,NE,zE,BE,AE,LE,ME].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new xf(r,this)}createCommandManager(){this.commandManager=new yf({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=um(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=um(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){var e;this.editorView=new Gx(n,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.createNodeViews(),this.prependClass(),this.injectCSS();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(h=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(h)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),r=!this.state.selection.eq(e.selection),s=t.includes(n),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:n});const l=t.findLast(h=>h.getMeta("focus")||h.getMeta("blur")),c=l?.getMeta("focus"),d=l?.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:l}),d&&this.emit("blur",{editor:this,event:d.event,transaction:l}),!(n.getMeta("preventUpdate")||!t.some(h=>h.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return gE(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,r=typeof n=="string"?e:n;return i2(this.state,t,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return eg(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return QN(this.state.doc,{blockSeparator:e,textSerializers:{...pE(this.schema),...t}})}get isEmpty(){return Sf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new Cz(e,this)}get $doc(){return this.$pos(0)}};function xo(n){return new wf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Ne(n.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,l=r[r.length-1],c=r[0];if(l){const d=c.search(/\S/),h=t.from+c.indexOf(l),p=h+l.length;if(ig(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(x=>x===n.type&&x!==b.mark.type)).filter(b=>b.to>h).length)return null;p<t.to&&o.delete(p,t.to),h>t.from&&o.delete(t.from+d,h);const v=t.from+d+l.length;o.addMark(t.from+d,v,n.type.create(s||{})),o.removeStoredMark(n.type)}}})}function Az(n){return new wf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=Ne(n.getAttributes,void 0,r)||{},{tr:o}=e,l=t.from;let c=t.to;const d=n.type.create(s);if(r[1]){const h=r[0].lastIndexOf(r[1]);let p=l+h;p>c?p=c:c=p+r[1].length;const g=r[0][r[0].length-1];o.insertText(g,l+r[0].length-1),o.replaceWith(p,c,d)}else if(r[0]){const h=n.type.isInline?l:l-1;o.insert(h,n.type.create(s)).delete(o.mapping.map(l),o.mapping.map(c))}o.scrollIntoView()}})}function fm(n){return new wf({find:n.find,handler:({state:e,range:t,match:r})=>{const s=e.doc.resolve(t.from),o=Ne(n.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,o)}})}function Eo(n){return new wf({find:n.find,handler:({state:e,range:t,match:r,chain:s})=>{const o=Ne(n.getAttributes,void 0,r)||{},l=e.tr.delete(t.from,t.to),d=l.doc.resolve(t.from).blockRange(),h=d&&jm(d,n.type,o);if(!h)return null;if(l.wrap(d,h),n.keepMarks&&n.editor){const{selection:g,storedMarks:v}=e,{splittableMarks:b}=n.editor.extensionManager,S=v||g.$to.parentOffset&&g.$from.marks();if(S){const x=S.filter(E=>b.includes(E.type.name));l.ensureMarks(x)}}if(n.keepAttributes){const g=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(g,o).run()}const p=l.doc.resolve(t.from-1).nodeBefore;p&&p.type===n.type&&gi(l.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,p))&&l.join(t.from-1)}})}function Rz(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof ae){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let s=r.depth;for(;s>=0;){const o=r.index(s);if(r.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}function Dz(n,e,t={}){const{state:r}=e,{doc:s,tr:o}=r,l=n;s.descendants((c,d)=>{const h=o.mapping.map(d),p=o.mapping.map(d)+c.nodeSize;let g=null;if(c.marks.forEach(b=>{if(b!==l)return!1;g=b}),!g)return;let v=!1;if(Object.keys(t).forEach(b=>{t[b]!==g.attrs[b]&&(v=!0)}),v){const b=n.type.create({...n.attrs,...t});o.removeMark(h,p,n.type),o.addMark(h,p,b)}}),o.docChanged&&e.view.dispatch(o)}var an=class jE extends sg{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new jE(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function rs(n){return new d2({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:s})=>{const o=Ne(n.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:l}=e,c=r[r.length-1],d=r[0];let h=t.to;if(c){const p=d.search(/\S/),g=t.from+d.indexOf(c),v=g+c.length;if(ig(t.from,t.to,e.doc).filter(S=>S.mark.type.excluded.find(E=>E===n.type&&E!==S.mark.type)).filter(S=>S.to>g).length)return null;v<t.to&&l.delete(v,t.to),g>t.from&&l.delete(t.from+p,g),h=t.from+p+c.length,l.addMark(t.from+p,h,n.type.create(o||{})),l.removeStoredMark(n.type)}}})}var kp,k1;function Nz(){return k1||(k1=1,kp=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],t.get(s[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s of e.entries())if(!t.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(e[s]!==t[s])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=r;s--!==0;){var l=o[s];if(!(l==="_owner"&&e.$$typeof)&&!n(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}),kp}var zz=Nz();const Lz=dl(zz);var Cp={exports:{}},_p={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function Bz(){if(C1)return _p;C1=1;var n=is(),e=Dw();function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return _p.useSyncExternalStoreWithSelector=function(h,p,g,v,b){var S=o(null);if(S.current===null){var x={hasValue:!1,value:null};S.current=x}else x=S.current;S=c(function(){function T(j){if(!O){if(O=!0,C=j,j=v(j),b!==void 0&&x.hasValue){var _=x.value;if(b(_,j))return z=_}return z=j}if(_=z,r(C,j))return _;var R=v(j);return b!==void 0&&b(_,R)?(C=j,_):(C=j,z=R)}var O=!1,C,z,N=g===void 0?null:g;return[function(){return T(p())},N===null?void 0:function(){return T(N())}]},[p,g,v,b]);var E=s(h,S[0],S[1]);return l(function(){x.hasValue=!0,x.value=E},[E]),d(E),E},_p}var _1;function jz(){return _1||(_1=1,Cp.exports=Bz()),Cp.exports}var Pz=jz(),Uz=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},Hz=({contentComponent:n})=>{const e=Nw.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return J.jsx(J.Fragment,{children:Object.values(e)})};function Iz(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:uO.createPortal(r.reactElement,r.element,t)},n.forEach(s=>s())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(s=>s())}}}var $z=class extends Qi.Component{constructor(n){var e;super(n),this.editorContentRef=Qi.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const n=this.props.editor;if(n&&!n.isDestroyed&&n.options.element){if(n.contentComponent)return;const e=this.editorContentRef.current;e.append(...n.options.element.childNodes),n.setOptions({element:e}),n.contentComponent=Iz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=n.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),n.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!((n=e.options.element)!=null&&n.firstChild)))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:n,innerRef:e,...t}=this.props;return J.jsxs(J.Fragment,{children:[J.jsx("div",{ref:Uz(e,this.editorContentRef),...t}),n?.contentComponent&&J.jsx(Hz,{contentComponent:n.contentComponent})]})}},qz=B.forwardRef((n,e)=>{const t=Qi.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Qi.createElement($z,{key:t,innerRef:e,...n})}),Vz=Qi.memo(qz),Fz=typeof window<"u"?B.useLayoutEffect:B.useEffect,Kz=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function Gz(n){var e;const[t]=B.useState(()=>new Kz(n.editor)),r=Pz.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:Lz);return Fz(()=>t.watch(n.editor),[n.editor,t]),B.useDebugValue(r),r}var Wz=!1,dm=typeof window>"u",Yz=dm||!!(typeof window<"u"&&window.next),Xz=class PE{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?dm||Yz?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...r)},onDelete:(...r)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...r)}};return new Mz(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((s,o)=>{var l;return s===((l=t.extensions)==null?void 0:l[o])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?PE.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Jz(n={},e=[]){const t=B.useRef(n);t.current=n;const[r]=B.useState(()=>new Xz(t)),s=Nw.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return B.useDebugValue(s),B.useEffect(r.onRender(e)),Gz({editor:s,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&o===0?0:o+1}),s}var Qz=B.createContext({editor:null});Qz.Consumer;var Zz=B.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),eL=()=>B.useContext(Zz);Qi.forwardRef((n,e)=>{const{onDragStart:t}=eL(),r=n.as||"div";return J.jsx(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});Qi.createContext({markViewContentRef:()=>{}});var Oc=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...r}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,r,t]},tL=/^\s*>\s$/,nL=an.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return Oc("blockquote",{...rt(this.options.HTMLAttributes,n),children:Oc("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Eo({find:tL,type:this.type})]}}),rL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,iL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,sL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,oL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,aL=vi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return Oc("strong",{...rt(this.options.HTMLAttributes,n),children:Oc("slot",{})})},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xo({find:rL,type:this.type}),xo({find:sL,type:this.type})]},addPasteRules(){return[rs({find:iL,type:this.type}),rs({find:oL,type:this.type})]}}),lL=/(^|[^`])`([^`]+)`(?!`)/,uL=/(^|[^`])`([^`]+)`(?!`)/g,cL=vi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xo({find:lL,type:this.type})]},addPasteRules(){return[rs({find:uL,type:this.type})]}}),fL=/^```([a-z]+)?[\s\n]$/,dL=/^~~~([a-z]+)?[\s\n]$/,hL=an.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options,o=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(t)).map(l=>l.replace(t,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",rt(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!o||!l?!1:n.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:s,empty:o}=t;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?n.commands.command(({tr:h})=>(h.setSelection(ye.near(r.resolve(c))),!0)):n.commands.exitCode()}}},addInputRules(){return[fm({find:fL,type:this.type,getAttributes:n=>({language:n[1]})}),fm({find:dL,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Ze({key:new wt("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s?.mode;if(!t||!o)return!1;const{tr:l,schema:c}=n.state,d=c.text(t.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},d)),l.selection.$from.parent.type!==this.type&&l.setSelection(he.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),n.dispatch(l),!0}}})]}}),pL=an.create({name:"doc",topNode:!0,content:"block+"}),mL=an.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",rt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:s,storedMarks:o}=t;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:c}=r.extensionManager,d=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:p})=>{if(p&&d&&l){const g=d.filter(v=>c.includes(v.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),gL=an.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,rt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>fm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),yL=an.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",rt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!Rz(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:r}=t,s=n();return bE(t)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:l})=>{var c;if(l){const{$to:d}=o.selection,h=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?o.setSelection(he.create(o.doc,d.pos+1)):d.nodeAfter.isBlock?o.setSelection(ae.create(o.doc,d.pos)):o.setSelection(he.create(o.doc,d.pos));else{const p=(c=d.parent.type.contentMatch.defaultType)==null?void 0:c.create();p&&(o.insert(h,p),o.setSelection(he.create(o.doc,h+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Az({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),vL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,bL=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,SL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,wL=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,xL=vi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xo({find:vL,type:this.type}),xo({find:SL,type:this.type})]},addPasteRules(){return[rs({find:bL,type:this.type}),rs({find:wL,type:this.type})]}});const EL="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",TL="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",To=(n,e)=>{for(const t in e)n[t]=e[t];return n},hm="numeric",pm="ascii",mm="alpha",Ga="asciinumeric",Ha="alphanumeric",gm="domain",UE="emoji",kL="scheme",CL="slashscheme",Op="whitespace";function _L(n,e){return n in e||(e[n]=[]),e[n]}function Ki(n,e,t){e[hm]&&(e[Ga]=!0,e[Ha]=!0),e[pm]&&(e[Ga]=!0,e[mm]=!0),e[Ga]&&(e[Ha]=!0),e[mm]&&(e[Ha]=!0),e[Ha]&&(e[gm]=!0),e[UE]&&(e[gm]=!0);for(const r in e){const s=_L(r,t);s.indexOf(n)<0&&s.push(n)}}function OL(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Kt(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Kt.groups={};Kt.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(n))return o}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let s=0;s<n.length;s++)this.tt(n[s],e,t,r)},tr(n,e,t,r){r=r||Kt.groups;let s;return e&&e.j?s=e:(s=new Kt(e),t&&r&&Ki(e,t,r)),this.jr.push([n,s]),s},ts(n,e,t,r){let s=this;const o=n.length;if(!o)return s;for(let l=0;l<o-1;l++)s=s.tt(n[l]);return s.tt(n[o-1],e,t,r)},tt(n,e,t,r){r=r||Kt.groups;const s=this;if(e&&e.j)return s.j[n]=e,e;const o=e;let l,c=s.go(n);if(c?(l=new Kt,To(l.j,c.j),l.jr.push.apply(l.jr,c.jr),l.jd=c.jd,l.t=c.t):l=new Kt,o){if(r)if(l.t&&typeof l.t=="string"){const d=To(OL(l.t,r),t);Ki(o,d,r)}else t&&Ki(o,t,r);l.t=o}return s.j[n]=l,l}};const ve=(n,e,t,r,s)=>n.ta(e,t,r,s),Je=(n,e,t,r,s)=>n.tr(e,t,r,s),O1=(n,e,t,r,s)=>n.ts(e,t,r,s),X=(n,e,t,r,s)=>n.tt(e,t,r,s),dr="WORD",ym="UWORD",HE="ASCIINUMERICAL",IE="ALPHANUMERICAL",cl="LOCALHOST",vm="TLD",bm="UTLD",cc="SCHEME",ho="SLASH_SCHEME",ag="NUM",Sm="WS",lg="NL",Wa="OPENBRACE",Ya="CLOSEBRACE",Mc="OPENBRACKET",Ac="CLOSEBRACKET",Rc="OPENPAREN",Dc="CLOSEPAREN",Nc="OPENANGLEBRACKET",zc="CLOSEANGLEBRACKET",Lc="FULLWIDTHLEFTPAREN",Bc="FULLWIDTHRIGHTPAREN",jc="LEFTCORNERBRACKET",Pc="RIGHTCORNERBRACKET",Uc="LEFTWHITECORNERBRACKET",Hc="RIGHTWHITECORNERBRACKET",Ic="FULLWIDTHLESSTHAN",$c="FULLWIDTHGREATERTHAN",qc="AMPERSAND",Vc="APOSTROPHE",Fc="ASTERISK",ei="AT",Kc="BACKSLASH",Gc="BACKTICK",Wc="CARET",si="COLON",ug="COMMA",Yc="DOLLAR",Un="DOT",Xc="EQUALS",cg="EXCLAMATION",vn="HYPHEN",Xa="PERCENT",Jc="PIPE",Qc="PLUS",Zc="POUND",Ja="QUERY",fg="QUOTE",$E="FULLWIDTHMIDDLEDOT",dg="SEMI",Hn="SLASH",Qa="TILDE",ef="UNDERSCORE",qE="EMOJI",tf="SYM";var VE=Object.freeze({__proto__:null,ALPHANUMERICAL:IE,AMPERSAND:qc,APOSTROPHE:Vc,ASCIINUMERICAL:HE,ASTERISK:Fc,AT:ei,BACKSLASH:Kc,BACKTICK:Gc,CARET:Wc,CLOSEANGLEBRACKET:zc,CLOSEBRACE:Ya,CLOSEBRACKET:Ac,CLOSEPAREN:Dc,COLON:si,COMMA:ug,DOLLAR:Yc,DOT:Un,EMOJI:qE,EQUALS:Xc,EXCLAMATION:cg,FULLWIDTHGREATERTHAN:$c,FULLWIDTHLEFTPAREN:Lc,FULLWIDTHLESSTHAN:Ic,FULLWIDTHMIDDLEDOT:$E,FULLWIDTHRIGHTPAREN:Bc,HYPHEN:vn,LEFTCORNERBRACKET:jc,LEFTWHITECORNERBRACKET:Uc,LOCALHOST:cl,NL:lg,NUM:ag,OPENANGLEBRACKET:Nc,OPENBRACE:Wa,OPENBRACKET:Mc,OPENPAREN:Rc,PERCENT:Xa,PIPE:Jc,PLUS:Qc,POUND:Zc,QUERY:Ja,QUOTE:fg,RIGHTCORNERBRACKET:Pc,RIGHTWHITECORNERBRACKET:Hc,SCHEME:cc,SEMI:dg,SLASH:Hn,SLASH_SCHEME:ho,SYM:tf,TILDE:Qa,TLD:vm,UNDERSCORE:ef,UTLD:bm,UWORD:ym,WORD:dr,WS:Sm});const ur=/[a-z]/,za=new RegExp("\\p{L}","u"),Mp=new RegExp("\\p{Emoji}","u"),cr=/\d/,Ap=/\s/,M1="\r",Rp=`
`,ML="️",AL="‍",Dp="￼";let tc=null,nc=null;function RL(n=[]){const e={};Kt.groups=e;const t=new Kt;tc==null&&(tc=A1(EL)),nc==null&&(nc=A1(TL)),X(t,"'",Vc),X(t,"{",Wa),X(t,"}",Ya),X(t,"[",Mc),X(t,"]",Ac),X(t,"(",Rc),X(t,")",Dc),X(t,"<",Nc),X(t,">",zc),X(t,"（",Lc),X(t,"）",Bc),X(t,"「",jc),X(t,"」",Pc),X(t,"『",Uc),X(t,"』",Hc),X(t,"＜",Ic),X(t,"＞",$c),X(t,"&",qc),X(t,"*",Fc),X(t,"@",ei),X(t,"`",Gc),X(t,"^",Wc),X(t,":",si),X(t,",",ug),X(t,"$",Yc),X(t,".",Un),X(t,"=",Xc),X(t,"!",cg),X(t,"-",vn),X(t,"%",Xa),X(t,"|",Jc),X(t,"+",Qc),X(t,"#",Zc),X(t,"?",Ja),X(t,'"',fg),X(t,"/",Hn),X(t,";",dg),X(t,"~",Qa),X(t,"_",ef),X(t,"\\",Kc),X(t,"・",$E);const r=Je(t,cr,ag,{[hm]:!0});Je(r,cr,r);const s=Je(r,ur,HE,{[Ga]:!0}),o=Je(r,za,IE,{[Ha]:!0}),l=Je(t,ur,dr,{[pm]:!0});Je(l,cr,s),Je(l,ur,l),Je(s,cr,s),Je(s,ur,s);const c=Je(t,za,ym,{[mm]:!0});Je(c,ur),Je(c,cr,o),Je(c,za,c),Je(o,cr,o),Je(o,ur),Je(o,za,o);const d=X(t,Rp,lg,{[Op]:!0}),h=X(t,M1,Sm,{[Op]:!0}),p=Je(t,Ap,Sm,{[Op]:!0});X(t,Dp,p),X(h,Rp,d),X(h,Dp,p),Je(h,Ap,p),X(p,M1),X(p,Rp),Je(p,Ap,p),X(p,Dp,p);const g=Je(t,Mp,qE,{[UE]:!0});X(g,"#"),Je(g,Mp,g),X(g,ML,g);const v=X(g,AL);X(v,"#"),Je(v,Mp,g);const b=[[ur,l],[cr,s]],S=[[ur,null],[za,c],[cr,o]];for(let x=0;x<tc.length;x++)Yr(t,tc[x],vm,dr,b);for(let x=0;x<nc.length;x++)Yr(t,nc[x],bm,ym,S);Ki(vm,{tld:!0,ascii:!0},e),Ki(bm,{utld:!0,alpha:!0},e),Yr(t,"file",cc,dr,b),Yr(t,"mailto",cc,dr,b),Yr(t,"http",ho,dr,b),Yr(t,"https",ho,dr,b),Yr(t,"ftp",ho,dr,b),Yr(t,"ftps",ho,dr,b),Ki(cc,{scheme:!0,ascii:!0},e),Ki(ho,{slashscheme:!0,ascii:!0},e),n=n.sort((x,E)=>x[0]>E[0]?1:-1);for(let x=0;x<n.length;x++){const E=n[x][0],O=n[x][1]?{[kL]:!0}:{[CL]:!0};E.indexOf("-")>=0?O[gm]=!0:ur.test(E)?cr.test(E)?O[Ga]=!0:O[pm]=!0:O[hm]=!0,O1(t,E,E,O)}return O1(t,"localhost",cl,{ascii:!0}),t.jd=new Kt(tf),{start:t,tokens:To({groups:e},VE)}}function FE(n,e){const t=DL(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=t.length,s=[];let o=0,l=0;for(;l<r;){let c=n,d=null,h=0,p=null,g=-1,v=-1;for(;l<r&&(d=c.go(t[l]));)c=d,c.accepts()?(g=0,v=0,p=c):g>=0&&(g+=t[l].length,v++),h+=t[l].length,o+=t[l].length,l++;o-=g,l-=v,h-=g,s.push({t:p.t,v:e.slice(o-h,o),s:o-h,e:o})}return s}function DL(n){const e=[],t=n.length;let r=0;for(;r<t;){let s=n.charCodeAt(r),o,l=s<55296||s>56319||r+1===t||(o=n.charCodeAt(r+1))<56320||o>57343?n[r]:n.slice(r,r+2);e.push(l),r+=l.length}return e}function Yr(n,e,t,r,s){let o;const l=e.length;for(let c=0;c<l-1;c++){const d=e[c];n.j[d]?o=n.j[d]:(o=new Kt(r),o.jr=s.slice(),n.j[d]=o),n=o}return o=new Kt(t),o.jr=s.slice(),n.j[e[l-1]]=o,o}function A1(n){const e=[],t=[];let r=0,s="0123456789";for(;r<n.length;){let o=0;for(;s.indexOf(n[r+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let l=parseInt(n.substring(r,r+o),10);l>0;l--)t.pop();r+=o}else t.push(n[r]),r++}return e}const fl={defaultProtocol:"http",events:null,format:R1,formatHref:R1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function hg(n,e=null){let t=To({},fl);n&&(t=To(t,n instanceof hg?n.o:n));const r=t.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=s}hg.prototype={o:fl,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let s=this.o[n];return s&&(typeof s=="object"?(s=t.t in s?s[t.t]:fl[n],typeof s=="function"&&r&&(s=s(e,t))):typeof s=="function"&&r&&(s=s(e,t.t,t)),s)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function R1(n){return n}function KE(n,e){this.t="token",this.v=n,this.tk=e}KE.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"…":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=fl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),s=n.get("tagName",t,e),o=this.toFormattedString(n),l={},c=n.get("className",t,e),d=n.get("target",t,e),h=n.get("rel",t,e),p=n.getObj("attributes",t,e),g=n.getObj("events",t,e);return l.href=r,c&&(l.class=c),d&&(l.target=d),h&&(l.rel=h),p&&To(l,p),{tagName:s,attributes:l,content:o,eventListeners:g}}};function Ef(n,e){class t extends KE{constructor(s,o){super(s,o),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const D1=Ef("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),N1=Ef("text"),NL=Ef("nl"),rc=Ef("url",{isLink:!0,toHref(n=fl.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==cl&&n[1].t===si}}),yn=n=>new Kt(n);function zL({groups:n}){const e=n.domain.concat([qc,Fc,ei,Kc,Gc,Wc,Yc,Xc,vn,ag,Xa,Jc,Qc,Zc,Hn,tf,Qa,ef]),t=[Vc,si,ug,Un,cg,Xa,Ja,fg,dg,Nc,zc,Wa,Ya,Ac,Mc,Rc,Dc,Lc,Bc,jc,Pc,Uc,Hc,Ic,$c],r=[qc,Vc,Fc,Kc,Gc,Wc,Yc,Xc,vn,Wa,Ya,Xa,Jc,Qc,Zc,Ja,Hn,tf,Qa,ef],s=yn(),o=X(s,Qa);ve(o,r,o),ve(o,n.domain,o);const l=yn(),c=yn(),d=yn();ve(s,n.domain,l),ve(s,n.scheme,c),ve(s,n.slashscheme,d),ve(l,r,o),ve(l,n.domain,l);const h=X(l,ei);X(o,ei,h),X(c,ei,h),X(d,ei,h);const p=X(o,Un);ve(p,r,o),ve(p,n.domain,o);const g=yn();ve(h,n.domain,g),ve(g,n.domain,g);const v=X(g,Un);ve(v,n.domain,g);const b=yn(D1);ve(v,n.tld,b),ve(v,n.utld,b),X(h,cl,b);const S=X(g,vn);X(S,vn,S),ve(S,n.domain,g),ve(b,n.domain,g),X(b,Un,v),X(b,vn,S);const x=X(b,si);ve(x,n.numeric,D1);const E=X(l,vn),T=X(l,Un);X(E,vn,E),ve(E,n.domain,l),ve(T,r,o),ve(T,n.domain,l);const O=yn(rc);ve(T,n.tld,O),ve(T,n.utld,O),ve(O,n.domain,l),ve(O,r,o),X(O,Un,T),X(O,vn,E),X(O,ei,h);const C=X(O,si),z=yn(rc);ve(C,n.numeric,z);const N=yn(rc),j=yn();ve(N,e,N),ve(N,t,j),ve(j,e,N),ve(j,t,j),X(O,Hn,N),X(z,Hn,N);const _=X(c,si),R=X(d,si),q=X(R,Hn),Y=X(q,Hn);ve(c,n.domain,l),X(c,Un,T),X(c,vn,E),ve(d,n.domain,l),X(d,Un,T),X(d,vn,E),ve(_,n.domain,N),X(_,Hn,N),X(_,Ja,N),ve(Y,n.domain,N),ve(Y,e,N),X(Y,Hn,N);const fe=[[Wa,Ya],[Mc,Ac],[Rc,Dc],[Nc,zc],[Lc,Bc],[jc,Pc],[Uc,Hc],[Ic,$c]];for(let re=0;re<fe.length;re++){const[Te,qe]=fe[re],_e=X(N,Te);X(j,Te,_e),X(_e,qe,N);const $=yn(rc);ve(_e,e,$);const Q=yn();ve(_e,t),ve($,e,$),ve($,t,Q),ve(Q,e,$),ve(Q,t,Q),X($,qe,N),X(Q,qe,N)}return X(s,cl,O),X(s,lg,NL),{start:s,tokens:VE}}function LL(n,e,t){let r=t.length,s=0,o=[],l=[];for(;s<r;){let c=n,d=null,h=null,p=0,g=null,v=-1;for(;s<r&&!(d=c.go(t[s].t));)l.push(t[s++]);for(;s<r&&(h=d||c.go(t[s].t));)d=null,c=h,c.accepts()?(v=0,g=c):v>=0&&v++,s++,p++;if(v<0)s-=p,s<r&&(l.push(t[s]),s++);else{l.length>0&&(o.push(Np(N1,e,l)),l=[]),s-=v,p-=v;const b=g.t,S=t.slice(s-p,s);o.push(Np(b,e,S))}}return l.length>0&&o.push(Np(N1,e,l)),o}function Np(n,e,t){const r=t[0].s,s=t[t.length-1].e,o=e.slice(r,s);return new n(o,t)}const BL=typeof console<"u"&&console&&console.warn||(()=>{}),jL="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",$e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function PL(){return Kt.groups={},$e.scanner=null,$e.parser=null,$e.tokenQueue=[],$e.pluginQueue=[],$e.customSchemes=[],$e.initialized=!1,$e}function z1(n,e=!1){if($e.initialized&&BL(`linkifyjs: already initialized - will not register custom scheme "${n}" ${jL}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);$e.customSchemes.push([n,e])}function UL(){$e.scanner=RL($e.customSchemes);for(let n=0;n<$e.tokenQueue.length;n++)$e.tokenQueue[n][1]({scanner:$e.scanner});$e.parser=zL($e.scanner.tokens);for(let n=0;n<$e.pluginQueue.length;n++)$e.pluginQueue[n][1]({scanner:$e.scanner,parser:$e.parser});return $e.initialized=!0,$e}function pg(n){return $e.initialized||UL(),LL($e.parser.start,n,FE($e.scanner.start,n))}pg.scan=FE;function GE(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new hg(t),s=pg(n),o=[];for(let l=0;l<s.length;l++){const c=s[l];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var mg="[\0-   ᠎ -\u2029 　]",HL=new RegExp(mg),IL=new RegExp(`${mg}$`),$L=new RegExp(mg,"g");function qL(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function VL(n){return new Ze({key:new wt("autolink"),appendTransaction:(e,t,r)=>{const s=e.some(h=>h.docChanged)&&!t.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!s||o)return;const{tr:l}=r,c=lE(t.doc,[...e]);if(yE(c).forEach(({newRange:h})=>{const p=KN(r.doc,h,b=>b.isTextblock);let g,v;if(p.length>1)g=p[0],v=r.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const b=r.doc.textBetween(h.from,h.to," "," ");if(!IL.test(b))return;g=p[0],v=r.doc.textBetween(g.pos,h.to,void 0," ")}if(g&&v){const b=v.split(HL).filter(Boolean);if(b.length<=0)return!1;const S=b[b.length-1],x=g.pos+v.lastIndexOf(S);if(!S)return!1;const E=pg(S).map(T=>T.toObject(n.defaultProtocol));if(!qL(E))return!1;E.filter(T=>T.isLink).map(T=>({...T,from:x+T.start+1,to:x+T.end+1})).filter(T=>r.schema.marks.code?!r.doc.rangeHasMark(T.from,T.to,r.schema.marks.code):!0).filter(T=>n.validate(T.value)).filter(T=>n.shouldAutoLink(T.value)).forEach(T=>{ig(T.from,T.to,r.doc).some(O=>O.mark.type===n.type)||l.addMark(T.from,T.to,n.type.create({href:T.href}))})}}),!!l.steps.length)return l}})}function FL(n){return new Ze({key:new wt("handleClickLink"),props:{handleClick:(e,t,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let l=null;if(r.target instanceof HTMLAnchorElement)l=r.target;else{let p=r.target;const g=[];for(;p.nodeName!=="DIV";)g.push(p),p=p.parentNode;l=g.find(v=>v.nodeName==="A")}if(!l)return!1;const c=gE(e.state,n.type.name),d=(s=l?.href)!=null?s:c.href,h=(o=l?.target)!=null?o:c.target;return n.enableClickSelection&&n.editor.commands.extendMarkRange(n.type.name),l&&d?(window.open(d,h),!0):!1}}})}function KL(n){return new Ze({key:new wt("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{state:s}=e,{selection:o}=s,{empty:l}=o;if(l)return!1;let c="";r.content.forEach(h=>{c+=h.textContent});const d=GE(c,{defaultProtocol:n.defaultProtocol}).find(h=>h.isLink&&h.value===c);return!c||!d?!1:n.editor.commands.setMark(n.type,{href:d.href})}}})}function Ui(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&t.push(s)}),!n||n.replace($L,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var GL=vi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){z1(n);return}z1(n.scheme,n.optionalSlashes)})},onDestroy(){PL()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Ui(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Ui(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Ui(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rt(this.options.HTMLAttributes,n),0]:["a",rt(this.options.HTMLAttributes,{...n,href:""}),0]},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Ui(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:r=>!!Ui(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[rs({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,s=GE(n).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:l=>!!Ui(l,t),protocols:t,defaultProtocol:r}));s.length&&s.forEach(o=>e.push({text:o.value,data:{href:o.href},index:o.start}))}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(VL({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Ui(s,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&n.push(FL({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(KL({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),n}}),WL=Object.defineProperty,YL=(n,e)=>{for(var t in e)WL(n,t,{get:e[t],enumerable:!0})},XL="listItem",L1="textStyle",B1=/^\s*([-+*])\s$/,WE=an.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(XL,this.editor.getAttributes(L1)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Eo({find:B1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Eo({find:B1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(L1),editor:this.editor})),[n]}}),YE=an.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",rt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),JL={};YL(JL,{findListItemPos:()=>xl,getNextListDepth:()=>gg,handleBackspace:()=>wm,handleDelete:()=>xm,hasListBefore:()=>XE,hasListItemAfter:()=>QL,hasListItemBefore:()=>JE,listItemHasSubList:()=>QE,nextListIsDeeper:()=>ZE,nextListIsHigher:()=>eT});var xl=(n,e)=>{const{$from:t}=e.selection,r=lt(n,e.schema);let s=null,o=t.depth,l=t.pos,c=null;for(;o>0&&c===null;)s=t.node(o),s.type===r?c=o:(o-=1,l-=1);return c===null?null:{$pos:e.doc.resolve(l),depth:c}},gg=(n,e)=>{const t=xl(n,e);if(!t)return!1;const[,r]=n2(e,n,t.$pos.pos+4);return r},XE=(n,e,t)=>{const{$anchor:r}=n.selection,s=Math.max(0,r.pos-2),o=n.doc.resolve(s).node();return!(!o||!t.includes(o.type.name))},JE=(n,e)=>{var t;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((t=s.nodeBefore)==null?void 0:t.type.name)!==n)},QE=(n,e,t)=>{if(!t)return!1;const r=lt(n,e.schema);let s=!1;return t.descendants(o=>{o.type===r&&(s=!0)}),s},wm=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!pi(n.state,e)&&XE(n.state,e,t)){const{$anchor:c}=n.state.selection,d=n.state.doc.resolve(c.before()-1),h=[];d.node().descendants((v,b)=>{v.type.name===e&&h.push({node:v,pos:b})});const p=h.at(-1);if(!p)return!1;const g=n.state.doc.resolve(d.start()+p.pos+1);return n.chain().cut({from:c.start()-1,to:c.end()+1},g.end()).joinForward().run()}if(!pi(n.state,e)||!o2(n.state))return!1;const r=xl(e,n.state);if(!r)return!1;const o=n.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=QE(e,n.state,o);return JE(e,n.state)&&!l?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},ZE=(n,e)=>{const t=gg(n,e),r=xl(n,e);return!r||!t?!1:t>r.depth},eT=(n,e)=>{const t=gg(n,e),r=xl(n,e);return!r||!t?!1:t<r.depth},xm=(n,e)=>{if(!pi(n.state,e)||!s2(n.state,e))return!1;const{selection:t}=n.state,{$from:r,$to:s}=t;return!t.empty&&r.sameParent(s)?!1:ZE(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():eT(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},QL=(n,e)=>{var t;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((t=s.nodeAfter)==null?void 0:t.type.name)!==n)},tT=Ie.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&xm(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&xm(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&wm(n,t,r)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&wm(n,t,r)&&(e=!0)}),e}}}}),ZL="listItem",j1="textStyle",P1=/^(\d+)\.\s$/,nT=an.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",rt(this.options.HTMLAttributes,t),0]:["ol",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ZL,this.editor.getAttributes(j1)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Eo({find:P1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Eo({find:P1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(j1)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),eB=/^\s*(\[([( |x])?\])\s$/,tB=an.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",rt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),h=()=>{var p,g;c.ariaLabel=((g=(p=this.options.a11y)==null?void 0:p.checkboxLabel)==null?void 0:g.call(p,n,c.checked))||`Task item checkbox for ${n.textContent||"empty task item"}`};return h(),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",p=>p.preventDefault()),c.addEventListener("change",p=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:g}=p.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const b=t();if(typeof b!="number")return!1;const S=v.doc.nodeAt(b);return v.setNodeMarkup(b,void 0,{...S?.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,g)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([p,g])=>{s.setAttribute(p,g)}),s.dataset.checked=n.attrs.checked,c.checked=n.attrs.checked,o.append(c,l),s.append(o,d),Object.entries(e).forEach(([p,g])=>{s.setAttribute(p,g)}),{dom:s,contentDOM:d,update:p=>p.type!==this.type?!1:(s.dataset.checked=p.attrs.checked,c.checked=p.attrs.checked,h(),!0)}}},addInputRules(){return[Eo({find:eB,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),nB=an.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",rt(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Ie.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(WE.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(YE.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(tT.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(nT.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(tB.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(nB.configure(this.options.taskList)),n}});var rB=an.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),iB=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,sB=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,oB=vi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xo({find:iB,type:this.type})]},addPasteRules(){return[rs({find:sB,type:this.type})]}}),aB=an.create({name:"text",group:"inline"}),lB=vi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function uB(n={}){return new Ze({view(e){return new cB(e,n)}})}class cB{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=l=>{this[s](l)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),l=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(t){let g=e.nodeBefore,v=e.nodeAfter;if(g||v){let b=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(b){let S=b.getBoundingClientRect(),x=g?S.bottom:S.top;g&&v&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let E=this.width/2*c;r={left:S.left,right:S.right,top:x-E,bottom:x+E}}}}if(!r){let g=this.editorView.coordsAtPos(this.cursorPos),v=this.width/2*l;r={left:g.left-v,right:g.left+v,top:g.top,bottom:g.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let h,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")h=-pageXOffset,p=-pageYOffset;else{let g=d.getBoundingClientRect(),v=g.width/d.offsetWidth,b=g.height/d.offsetHeight;h=g.left-d.scrollLeft*v,p=g.top-d.scrollTop*b}this.element.style.left=(r.left-h)/l+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,t,e):s;if(t&&!o){let l=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=ox(this.editorView.state.doc,l,this.editorView.dragging.slice);c!=null&&(l=c)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Qe extends ye{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Qe.valid(r)?new Qe(r):ye.near(r)}content(){return ee.empty}eq(e){return e instanceof Qe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Qe(e.resolve(t.pos))}getBookmark(){return new yg(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!fB(e)||!dB(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let s=t.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Qe.valid(e))return e;let s=e.pos,o=null;for(let l=e.depth;;l--){let c=e.node(l);if(t>0?e.indexAfter(l)<c.childCount:e.index(l)>0){o=c.child(t>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;s+=t;let d=e.doc.resolve(s);if(Qe.valid(d))return d}for(;;){let l=t>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!ae.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*t),r=!1;continue e}break}o=l,s+=t;let c=e.doc.resolve(s);if(Qe.valid(c))return c}return null}}}Qe.prototype.visible=!1;Qe.findFrom=Qe.findGapCursorFrom;ye.jsonID("gapcursor",Qe);class yg{constructor(e){this.pos=e}map(e){return new yg(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Qe.valid(t)?new Qe(t):ye.near(t)}}function fB(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function dB(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(t);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function hB(){return new Ze({props:{decorations:yB,createSelectionBetween(n,e,t){return e.pos==t.pos&&Qe.valid(t)?new Qe(t):null},handleClick:mB,handleKeyDown:pB,handleDOMEvents:{beforeinput:gB}}})}const pB=Wx({ArrowLeft:ic("horiz",-1),ArrowRight:ic("horiz",1),ArrowUp:ic("vert",-1),ArrowDown:ic("vert",1)});function ic(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let l=r.selection,c=e>0?l.$to:l.$from,d=l.empty;if(l instanceof he){if(!o.endOfTextblock(t)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let h=Qe.findGapCursorFrom(c,e,d);return h?(s&&s(r.tr.setSelection(new Qe(h))),!0):!1}}function mB(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Qe.valid(r))return!1;let s=n.posAtCoords({left:t.clientX,top:t.clientY});return s&&s.inside>-1&&ae.isSelectable(n.state.doc.nodeAt(s.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Qe(r))),!0)}function gB(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Qe))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let s=W.empty;for(let l=r.length-1;l>=0;l--)s=W.from(r[l].createAndFill(null,s));let o=n.state.tr.replace(t.pos,t.pos,new ee(s,0,0));return o.setSelection(he.near(o.doc.resolve(t.pos+1))),n.dispatch(o),!1}function yB(n){if(!(n.selection instanceof Qe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ge.create(n.doc,[Bt.widget(n.selection.head,e,{key:"gapcursor"})])}var nf=200,St=function(){};St.prototype.append=function(e){return e.length?(e=St.from(e),!this.length&&e||e.length<nf&&this.leafAppend(e)||this.length<nf&&e.leafPrepend(this)||this.appendInner(e)):this};St.prototype.prepend=function(e){return e.length?St.from(e).append(this):this};St.prototype.appendInner=function(e){return new vB(this,e)};St.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?St.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};St.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};St.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};St.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,l){return s.push(e(o,l))},t,r),s};St.from=function(e){return e instanceof St?e:e&&e.length?new rT(e):St.empty};var rT=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,l,c){for(var d=o;d<l;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,l,c){for(var d=o-1;d>=l;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=nf)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=nf)return new e(s.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(St);St.empty=new rT([]);var vB=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,l){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),l)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,l){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,l+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,l)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(St);const bB=500;class _n{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;t&&(s=this.remapping(r,this.items.length),o=s.maps.length);let l=e.tr,c,d,h=[],p=[];return this.items.forEach((g,v)=>{if(!g.step){s||(s=this.remapping(r,v+1),o=s.maps.length),o--,p.push(g);return}if(s){p.push(new In(g.map));let b=g.step.map(s.slice(o)),S;b&&l.maybeStep(b).doc&&(S=l.mapping.maps[l.mapping.maps.length-1],h.push(new In(S,void 0,void 0,h.length+p.length))),o--,S&&s.appendMap(S,o)}else l.maybeStep(g.step);if(g.selection)return c=s?g.selection.map(s.slice(o)):g.selection,d=new _n(this.items.slice(0,r).append(p.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:c}}addTransform(e,t,r,s){let o=[],l=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),v=new In(e.mapping.maps[p],g,t),b;(b=d&&d.merge(v))&&(v=b,p?o.pop():c=c.slice(0,c.length-1)),o.push(v),t&&(l++,t=void 0),s||(d=v)}let h=l-r.depth;return h>wB&&(c=SB(c,h),l-=h),new _n(c.append(o),l)}remapping(e,t){let r=new rl;return this.items.forEach((s,o)=>{let l=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,l)},e,t),r}addMaps(e){return this.eventCount==0?this:new _n(this.items.append(e.map(t=>new In(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-t),o=e.mapping,l=e.steps.length,c=this.eventCount;this.items.forEach(v=>{v.selection&&c--},s);let d=t;this.items.forEach(v=>{let b=o.getMirror(--d);if(b==null)return;l=Math.min(l,b);let S=o.maps[b];if(v.step){let x=e.steps[b].invert(e.docs[b]),E=v.selection&&v.selection.map(o.slice(d+1,b));E&&c++,r.push(new In(S,x,E))}else r.push(new In(S))},s);let h=[];for(let v=t;v<l;v++)h.push(new In(o.maps[v]));let p=this.items.slice(0,s).append(h).append(r),g=new _n(p,c);return g.emptyItemCount()>bB&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,s=[],o=0;return this.items.forEach((l,c)=>{if(c>=e)s.push(l),l.selection&&o++;else if(l.step){let d=l.step.map(t.slice(r)),h=d&&d.getMap();if(r--,h&&t.appendMap(h,r),d){let p=l.selection&&l.selection.map(t.slice(r));p&&o++;let g=new In(h.invert(),d,p),v,b=s.length-1;(v=s.length&&s[b].merge(g))?s[b]=v:s.push(g)}}else l.map&&r--},this.items.length,0),new _n(St.from(s.reverse()),o)}}_n.empty=new _n(St.empty,0);function SB(n,e){let t;return n.forEach((r,s)=>{if(r.selection&&e--==0)return t=s,!1}),n.slice(t)}class In{constructor(e,t,r,s){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new In(t.getMap().invert(),t,this.selection)}}}class ti{constructor(e,t,r,s,o){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const wB=20;function xB(n,e,t,r){let s=t.getMeta(Ji),o;if(s)return s.historyState;t.getMeta(kB)&&(n=new ti(n.done,n.undone,null,0,-1));let l=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(l&&l.getMeta(Ji))return l.getMeta(Ji).redo?new ti(n.done.addTransform(t,void 0,r,fc(e)),n.undone,U1(t.mapping.maps),n.prevTime,n.prevComposition):new ti(n.done,n.undone.addTransform(t,void 0,r,fc(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let c=t.getMeta("composition"),d=n.prevTime==0||!l&&n.prevComposition!=c&&(n.prevTime<(t.time||0)-r.newGroupDelay||!EB(t,n.prevRanges)),h=l?zp(n.prevRanges,t.mapping):U1(t.mapping.maps);return new ti(n.done.addTransform(t,d?e.selection.getBookmark():void 0,r,fc(e)),_n.empty,h,t.time,c??n.prevComposition)}else return(o=t.getMeta("rebased"))?new ti(n.done.rebased(t,o),n.undone.rebased(t,o),zp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new ti(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),zp(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function EB(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(t=!0)}),t}function U1(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,s,o,l)=>e.push(o,l));return e}function zp(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let s=e.map(n[r],1),o=e.map(n[r+1],-1);s<=o&&t.push(s,o)}return t}function TB(n,e,t){let r=fc(e),s=Ji.get(e).spec.config,o=(t?n.undone:n.done).popEvent(e,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),c=(t?n.done:n.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),d=new ti(t?c:o.remaining,t?o.remaining:c,null,0,-1);return o.transform.setSelection(l).setMeta(Ji,{redo:t,historyState:d})}let Lp=!1,H1=null;function fc(n){let e=n.plugins;if(H1!=e){Lp=!1,H1=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Lp=!0;break}}return Lp}const Ji=new wt("history"),kB=new wt("closeHistory");function CB(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Ze({key:Ji,state:{init(){return new ti(_n.empty,_n.empty,null,0,-1)},apply(e,t,r){return xB(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,s=r=="historyUndo"?sT:r=="historyRedo"?oT:null;return s?(t.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function iT(n,e){return(t,r)=>{let s=Ji.getState(t);if(!s||(n?s.undone:s.done).eventCount==0)return!1;if(r){let o=TB(s,t,n);o&&r(e?o.scrollIntoView():o)}return!0}}const sT=iT(!1,!0),oT=iT(!0,!0);Ie.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=n?.node||this.editor.state.doc;if((n?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=n?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new Ze({key:new wt("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const s=this.options.limit;if(s==null||s===0){n=!0;return}const o=this.storage.characters({node:r.doc});if(o>s){const l=o-s,c=0,d=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(c,d);return n=!0,h}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:t.doc}),o=this.storage.characters({node:e.doc});if(o<=r||s>r&&o>r&&o<=s)return!0;if(s>r&&o>r&&o>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=o-r,h=c-d,p=c;return e.deleteRange(h,p),!(this.storage.characters({node:e.doc})>r)}})]}});var _B=Ie.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[uB(this.options)]}});Ie.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ze({key:new wt("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:r}=this.editor,{anchor:s}=e,o=[];if(!t||!r)return Ge.create(n,[]);let l=0;this.options.mode==="deepest"&&n.descendants((d,h)=>{if(d.isText)return;if(!(s>=h&&s<=h+d.nodeSize-1))return!1;l+=1});let c=0;return n.descendants((d,h)=>{if(d.isText||!(s>=h&&s<=h+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&l-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push(Bt.node(h,h+d.nodeSize,{class:this.options.className}))}),Ge.create(n,o)}}})]}});var OB=Ie.create({name:"gapCursor",addProseMirrorPlugins(){return[hB()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Ne(oe(n,"allowGapCursor",t)))!=null?e:null}}});Ie.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ze({key:new wt("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!t)return null;const o=this.editor.isEmpty;return n.descendants((l,c)=>{const d=r>=c&&r<=c+l.nodeSize,h=!l.isLeaf&&Sf(l);if((d||!this.options.showOnlyCurrent)&&h){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const g=Bt.node(c,c+l.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:c,hasAnchor:d}):this.options.placeholder});s.push(g)}return this.options.includeChildren}),Ge.create(n,s)}}})]}});Ie.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new Ze({key:new wt("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||bE(t.selection)||n.view.dragging?null:Ge.create(t.doc,[Bt.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function I1({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||e?.type===n}var MB=Ie.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const n=new wt(this.name),e=Object.entries(this.editor.schema.nodes).map(([,t])=>t).filter(t=>(this.options.notAfter||[]).concat(this.options.node).includes(t.name));return[new Ze({key:n,appendTransaction:(t,r,s)=>{const{doc:o,tr:l,schema:c}=s,d=n.getState(s),h=o.content.size,p=c.nodes[this.options.node];if(d)return l.insert(h,p.create())},state:{init:(t,r)=>{const s=r.tr.doc.lastChild;return!I1({node:s,types:e})},apply:(t,r)=>{if(!t.docChanged)return r;const s=t.doc.lastChild;return!I1({node:s,types:e})}}})]}}),AB=Ie.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>sT(n,e),redo:()=>({state:n,dispatch:e})=>oT(n,e)}},addProseMirrorPlugins(){return[CB(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),RB=Ie.create({name:"starterKit",addExtensions(){var n,e,t,r;const s=[];return this.options.bold!==!1&&s.push(aL.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(nL.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(WE.configure(this.options.bulletList)),this.options.code!==!1&&s.push(cL.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(hL.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(pL.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(_B.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(OB.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(mL.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(gL.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(AB.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(yL.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(xL.configure(this.options.italic)),this.options.listItem!==!1&&s.push(YE.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(tT.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&s.push(GL.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(nT.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(rB.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(oB.configure(this.options.strike)),this.options.text!==!1&&s.push(aB.configure(this.options.text)),this.options.underline!==!1&&s.push(lB.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&s.push(MB.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),DB=RB,NB=n=>{if(!n.children.length)return;const e=n.querySelectorAll("span");e&&e.forEach(t=>{var r,s;const o=t.getAttribute("style"),l=(s=(r=t.parentElement)==null?void 0:r.closest("span"))==null?void 0:s.getAttribute("style");t.setAttribute("style",`${l};${o}`)})},vg=vi.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:n=>n.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&NB(n),{}):!1}]},renderHTML({HTMLAttributes:n}){return["span",rt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleTextStyle:n=>({commands:e})=>e.toggleMark(this.name,n),removeEmptyTextStyle:()=>({tr:n})=>{const{selection:e}=n;return n.doc.nodesBetween(e.from,e.to,(t,r)=>{if(t.isTextblock)return!0;t.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(o=>!!o))||n.removeMark(r,r+t.nodeSize,this.type)}),!0}}}}),zB=Ie.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:n=>{var e;return(e=n.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.backgroundColor?{style:`background-color: ${n.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:n=>({chain:e})=>e().setMark("textStyle",{backgroundColor:n}).run(),unsetBackgroundColor:()=>({chain:n})=>n().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),aT=Ie.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:n=>{var e;return(e=n.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:n=>n.color?{style:`color: ${n.color}`}:{}}}}]},addCommands(){return{setColor:n=>({chain:e})=>e().setMark("textStyle",{color:n}).run(),unsetColor:()=>({chain:n})=>n().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),LB=Ie.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:n=>n.style.fontFamily,renderHTML:n=>n.fontFamily?{style:`font-family: ${n.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:n=>({chain:e})=>e().setMark("textStyle",{fontFamily:n}).run(),unsetFontFamily:()=>({chain:n})=>n().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),BB=Ie.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:n=>n.style.fontSize,renderHTML:n=>n.fontSize?{style:`font-size: ${n.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:n=>({chain:e})=>e().setMark("textStyle",{fontSize:n}).run(),unsetFontSize:()=>({chain:n})=>n().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),jB=Ie.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:n=>n.style.lineHeight,renderHTML:n=>n.lineHeight?{style:`line-height: ${n.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:n=>({chain:e})=>e().setMark("textStyle",{lineHeight:n}).run(),unsetLineHeight:()=>({chain:n})=>n().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Ie.create({name:"textStyleKit",addExtensions(){const n=[];return this.options.backgroundColor!==!1&&n.push(zB.configure(this.options.backgroundColor)),this.options.color!==!1&&n.push(aT.configure(this.options.color)),this.options.fontFamily!==!1&&n.push(LB.configure(this.options.fontFamily)),this.options.fontSize!==!1&&n.push(BB.configure(this.options.fontSize)),this.options.lineHeight!==!1&&n.push(jB.configure(this.options.lineHeight)),this.options.textStyle!==!1&&n.push(vg.configure(this.options.textStyle)),n}});const PB=(n,e)=>{let t;return function(...r){const s=this;clearTimeout(t),t=setTimeout(()=>n.apply(s,r),e)}},UB=vg.extend({addAttributes(){return{fontSize:{default:null,parseHTML:n=>n.style.fontSize,renderHTML:n=>n.fontSize?{style:`font-size: ${n.fontSize}`}:{}}}}}).configure({types:["textStyle"]});function lT({id:n,content:e,selected:t,onSelect:r,onUpdate:s,editable:o=!0,position:l,size:c}){const[d,h]=B.useState(l||{x:50,y:80}),[p,g]=B.useState(c||{width:300,height:"auto"}),[v,b]=B.useState(!1),S=B.useMemo(()=>PB((O,C,z,N)=>{s(O,{content:C,position:z,size:N})},300),[s]),x=Jz({extensions:[DB,vg,aT,UB],content:e,editable:o,onUpdate:({editor:O})=>{o&&S(n,O.getJSON(),d,p)},onFocus:({editor:O})=>{b(!0),o&&r(n,O)},onBlur:()=>{b(!1)}});if(B.useEffect(()=>{x&&(t&&o&&!x.isFocused?x.commands.focus():!t&&x.isFocused&&x.commands.blur())},[t,x,o]),B.useEffect(()=>{l&&h(l)},[l]),B.useEffect(()=>{c&&g(c)},[c]),!x)return null;const E=B.useCallback(O=>{O.stopPropagation(),o&&(x.commands.focus(),Promise.resolve().then(()=>{r(n,x)}))},[n,x,o,r]),T=B.useCallback(O=>{O.stopPropagation(),o&&(x.isFocused||x.commands.focus(),Promise.resolve().then(()=>{r(n,x)}))},[n,x,o,r]);return J.jsx(Rw,{size:{width:p.width,height:p.height},position:{x:d.x,y:d.y},bounds:".contentsBody",dragAxis:v?"none":"both",disableDragging:v,onDragStop:(O,C)=>{o&&(h({x:C.x,y:C.y}),S(n,x.getJSON(),{x:C.x,y:C.y},p))},onResizeStop:(O,C,z,N,j)=>{if(o){const _=z.offsetWidth,R=z.offsetHeight;g({width:_,height:R}),h(j),S(n,x.getJSON(),j,{width:_,height:R})}},style:{border:t?"2px solid #5b9eff":"none",backgroundColor:"white",padding:"4px",borderRadius:"4px",pointerEvents:o?"auto":"none",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",boxSizing:"border-box",cursor:v?"text":"grab",zIndex:t?100:1},enableResizing:o?{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0}:!1,onClick:E,children:J.jsx(Vz,{editor:x,className:"tiptap-editor-content",style:{flexGrow:1,outline:"none",minHeight:"1em",padding:"4px",userSelect:"text",WebkitUserSelect:"text"},onClick:T})})}function HB({editor:n,vertical:e}){if(!n||!n.view)return console.log("Toolbar: Editor instance or editor view not available. Or not mounted yet."),null;B.useEffect(()=>{console.log("Toolbar useEffect: editor or editor.isFocused changed."),console.log("Current editor (inside useEffect):",n),console.log("Current editor.isFocused (inside useEffect):",n.isFocused)},[n,n.isFocused]);const t=B.useCallback(T=>{T.preventDefault(),T.stopPropagation();const O=T.target.value;console.log("setFontSize: Attempting to set size:",O,"Editor focused:",n.isFocused),n.chain().focus().updateAttributes("textStyle",{fontSize:O===""?null:O}).run(),console.log("setFontSize: Command executed successfully.")},[n]),r=B.useCallback(T=>{T.preventDefault(),T.stopPropagation();const O=T.target.value;console.log("setTextColor: Attempting to set color:",O,"Editor focused:",n.isFocused),n.chain().focus().setColor(O).run(),console.log("setTextColor: Command executed successfully.")},[n]),s=B.useCallback(T=>{T.preventDefault(),T.stopPropagation(),n.chain().focus().toggleBold().run()},[n]),o=B.useCallback(T=>{T.preventDefault(),T.stopPropagation(),n.chain().focus().toggleItalic().run()},[n]),l=B.useCallback(T=>{T.preventDefault(),T.stopPropagation(),n.chain().focus().toggleStrike().run()},[n]),c=B.useCallback(T=>{T.preventDefault(),T.stopPropagation(),n.chain().focus().toggleUnderline().run()},[n]),d=B.useCallback(T=>{T.preventDefault(),T.stopPropagation(),n.chain().focus().undo().run()},[n]),h=B.useCallback(T=>{T.preventDefault(),T.stopPropagation(),n.chain().focus().redo().run()},[n]),p={display:"flex",flexDirection:e?"column":"row",gap:"8px",padding:"8px",backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",alignItems:"center",justifyContent:"center"},g={padding:"6px 10px",border:"1px solid #ccc",borderRadius:"3px",backgroundColor:"#eee",cursor:"pointer",fontSize:"14px",lineHeight:"1"},v={...g,backgroundColor:"#a2c2e0",borderColor:"#5b9eff"},b={...g,backgroundColor:"#f5f5f5",color:"#aaa",cursor:"not-allowed"},S={padding:"6px 10px",border:"1px solid #ccc",borderRadius:"3px",backgroundColor:"#eee",fontSize:"14px",cursor:"pointer"},x={width:"30px",height:"30px",border:"1px solid #ccc",borderRadius:"3px",cursor:"pointer",padding:"0"},E=n.isFocused;return J.jsxs("div",{style:p,children:[J.jsxs("select",{onChange:t,value:n.getAttributes("textStyle")?.fontSize||"",disabled:!E,style:S,children:[J.jsx("option",{value:"",children:"크기"}),J.jsx("option",{value:"12px",children:"12px"}),J.jsx("option",{value:"14px",children:"14px"}),J.jsx("option",{value:"16px",children:"16px"}),J.jsx("option",{value:"18px",children:"18px"}),J.jsx("option",{value:"20px",children:"20px"}),J.jsx("option",{value:"24px",children:"24px"}),J.jsx("option",{value:"30px",children:"30px"})]}),J.jsx("input",{type:"color",onChange:r,value:n.getAttributes("textStyle")?.color||"#000000",disabled:!E,style:x}),J.jsx("button",{onClick:s,disabled:!n.can().chain().focus().toggleBold().run(),style:n.isActive("bold")?v:E?g:b,children:"B"}),J.jsx("button",{onClick:o,disabled:!n.can().chain().focus().toggleItalic().run(),style:n.isActive("italic")?v:E?g:b,children:"I"}),J.jsx("button",{onClick:l,disabled:!n.can().chain().focus().toggleStrike().run(),style:n.isActive("strike")?v:E?g:b,children:"S"}),J.jsx("button",{onClick:c,disabled:!n.can().chain().focus().toggleUnderline().run(),style:n.isActive("underline")?v:E?g:b,children:"U"}),J.jsx("button",{onClick:d,disabled:!n.can().undo(),style:E?g:b,children:"Undo"}),J.jsx("button",{onClick:h,disabled:!n.can().redo(),style:E?g:b,children:"Redo"})]})}function uT({id:n,src:e,width:t,height:r,position:s,selected:o,onSelect:l,onUpdate:c,editable:d=!0}){const[h,p]=B.useState(s.x||50),[g,v]=B.useState(s.y||80);B.useEffect(()=>{(s.x!==h||s.y!==g)&&(console.log(`ImageBlock ${n}: Prop position changed to (${s.x}, ${s.y}). Updating internal state.`),p(s.x),v(s.y))},[s.x,s.y]);const b={width:typeof t=="string"?parseInt(t,10):t||300,height:typeof r=="string"&&r!=="auto"?parseInt(r,10):r||"auto"};return J.jsx(Rw,{size:{width:b.width,height:b.height},position:{x:h,y:g},bounds:".contentsBody",dragAxis:d?"both":"none",onDragStart:(S,x)=>{},onDrag:(S,x)=>{p(x.x),v(x.y)},onDragStop:(S,x)=>{d&&(console.log(`ImageBlock ${n}: onDragStop - FINAL new pos (x:${x.x}, y:${x.y}). Calling onUpdate.`),c(n,{position:{x:x.x,y:x.y}}))},onResizeStop:(S,x,E,T,O)=>{if(d){const C=E.offsetWidth,z=E.offsetHeight;console.log(`ImageBlock ${n}: onResizeStop - New size (${C}, ${z}), New pos (${O.x}, ${O.y}). Calling onUpdate.`),c(n,{width:C,height:z,position:O})}},style:{border:o&&d?"2px solid #5b9eff":"none",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:d?"auto":"none",zIndex:o?100:10},enableResizing:d,onClick:S=>{S.stopPropagation(),d&&l(n)},children:J.jsx("img",{src:e,alt:"content image",style:{width:"100%",height:"100%",display:"block",objectFit:"contain"}})},`${n}`)}function $1(){const{id:n}=Z1(),[e,t]=B.useState([]),[r,s]=B.useState(null),[o,l]=B.useState(null),[c,d]=B.useState(""),[h,p]=B.useState(!!n),g=B.useRef(null),v=ml(),[b,S]=B.useState("80vh");B.useEffect(()=>{(async()=>{if(n){p(!0);const{data:_,error:R}=await ri.from("development_log").select("title, raw_elements").eq("id",n).single();if(R){console.error("수정할 게시글 불러오기 실패:",R.message),alert("수정할 게시글을 불러오는 데 실패했습니다."),v("/");return}_&&(d(_.title),_.raw_elements?t(_.raw_elements):t([])),p(!1)}else d(""),t([]),p(!1)})()},[n,v]),B.useEffect(()=>{let j=0;e.forEach(R=>{const q=parseInt(R.size?.height)||(R.type==="text"?100:R.type==="image"?300:0),Y=R.position.y+q;Y>j&&(j=Y)});const _=Math.max(window.innerHeight*.8,j+100);S(`${_}px`)},[e]);const x=async()=>{const j=new Date().toISOString(),_={title:c,raw_elements:e,savedAt:j};console.log("최종 저장/수정할 데이터:",_);try{let R;n?R=await ri.from("development_log").update(_).eq("id",n):R=await ri.from("development_log").insert([_]);const{data:q,error:Y}=R;if(Y)console.error("저장/수정 실패:",Y),alert("저장/수정 실패!");else if(console.log("저장/수정 성공:",q),alert("저장/수정 성공!"),n)v(`/posts/${n}`);else{const fe=q&&q.length>0?q[0].id:null;v(fe?`/post/${fe}`:"/")}}catch(R){console.error("예외 발생:",R),alert("저장/수정 중 예외가 발생했습니다.")}},E=()=>{const j={id:Date.now(),type:"text",content:"새 텍스트 블록입니다.",position:{x:50,y:50},size:{width:300,height:100}};t(_=>[..._,j])},T=()=>{g.current.click()},O=async j=>{const _=Array.from(j.target.files);if(_.length===0)return;p(!0);const R=_.map(async Y=>{const fe=Y.name.split(".").pop(),Te=`public/${`${Date.now()}_${Math.random().toString(36).substring(2,15)}`}.${fe}`,{data:qe,error:_e}=await ri.storage.from("images").upload(Te,Y);if(_e)return console.error(`이미지 업로드 실패 (${Y.name}):`,_e),null;const{data:$}=ri.storage.from("images").getPublicUrl(Te);return $&&$.publicUrl?{id:Date.now()+Math.random(),type:"image",src:$.publicUrl,width:400,height:"auto",position:{x:50+Math.random()*50,y:50+Math.random()*50}}:(console.error(`이미지 공개 URL을 가져올 수 없습니다 (${Y.name}).`),null)}),q=(await Promise.all(R)).filter(Boolean);t(Y=>[...Y,...q]),p(!1),j.target.value=""},C=(j,_)=>{console.log("onSelect called. elementId:",j,"editorInstance:",_),s(j),_?(l(_),console.log("selectedEditor updated to:",_)):(console.log("selectedEditor set to null (editorInstance was null/undefined)."),l(null))},z=(j,_)=>{console.log("onUpdate received:",{elementId:j,update:_}),t(R=>R.map(q=>{if(q.id!==j)return q;let Y={...q};return _.position!==void 0&&(Y.position={...q.position,x:_.position.x!==void 0?_.position.x:q.position.x,y:_.position.y!==void 0?_.position.y:q.position.y}),_.width!==void 0&&(Y.width=_.width),_.height!==void 0&&(Y.height=_.height),_.src!==void 0&&(Y.src=_.src),_.content!==void 0&&(Y.content=_.content),console.log("Updating element:",q.id,"to:",Y),Y}))},N=j=>{j.target.classList.contains("contentsBody")&&(console.log("Background clicked, deselecting all."),s(null),l(null))};return B.useEffect(()=>{const j=_=>{_.key==="Delete"&&r!==null&&(t(e.filter(R=>R.id!==r)),s(null),l(null))};return window.addEventListener("keydown",j),()=>{window.removeEventListener("keydown",j)}},[r,e]),h?J.jsx("div",{children:"게시글 불러오는 중..."}):J.jsxs("div",{className:"contents",style:{paddingTop:"50px",display:"flex",minHeight:"100vh",boxSizing:"border-box"},children:[J.jsx("div",{style:{width:"70px",borderRight:"1px solid #ccc",padding:"12px 8px",boxSizing:"border-box",minHeight:"100%",position:"sticky",top:"50px",backgroundColor:"#f7f8fa",display:"flex",flexDirection:"column",gap:"12px",zIndex:1e3,alignItems:"center",boxShadow:"2px 0 5px rgba(0,0,0,0.05)"},children:o?J.jsx(HB,{editor:o,vertical:!0},`${o.options.element.id||"no-id"}-${o.isFocused?"focused":"blurred"}`):J.jsxs("div",{style:{},children:["선택된 ",J.jsx("br",{}),"텍스트 없음"]})}),J.jsxs("div",{style:{flexGrow:1,padding:"20px",overflowY:"auto",border:"1px solid #ccc",maxHeight:"calc(100vh - 50px)"},children:[J.jsxs("div",{className:"contentsTitle",children:[J.jsx("label",{htmlFor:"titleInput",style:{fontWeight:"bold",fontSize:"16px"},children:"제목"}),J.jsx("input",{id:"titleInput",type:"text",value:c,onChange:j=>d(j.target.value)}),J.jsx("button",{className:"saveButton",onMouseEnter:j=>j.currentTarget.style.backgroundColor="#ddd",onMouseLeave:j=>j.currentTarget.style.backgroundColor="#eee",onClick:x,children:"저장"})]}),J.jsxs("div",{className:"toolButtons",children:[J.jsx("button",{onClick:E,title:"텍스트 박스 추가",children:"T"}),J.jsx("button",{onClick:T,title:"이미지 파일 추가",children:"Image"}),J.jsx("input",{type:"file",accept:"image/*",ref:g,style:{display:"none"},onChange:O,multiple:!0})]}),J.jsx("div",{className:"contentsBody",onClick:N,style:{minHeight:b},children:e.map(j=>j.type==="text"?J.jsx(lT,{id:j.id,content:j.content,position:j.position,size:j.size,selected:r===j.id,onSelect:C,onUpdate:z,editable:!0},j.id):j.type==="image"?J.jsx(uT,{id:j.id,src:j.src,width:j.width,height:j.height,position:j.position,selected:r===j.id,onSelect:C,onUpdate:z,editable:!0},j.id):null)})]})]})}const IB=()=>{const{id:n}=Z1(),[e,t]=B.useState(""),[r,s]=B.useState(""),[o,l]=B.useState(!0),[c,d]=B.useState([]),h=ml();B.useEffect(()=>{(async()=>{const{data:b,error:S}=await ri.from("development_log").select("title, savedAt, raw_elements").eq("id",n).single();if(S){console.error("불러오기 실패:",S.message),l(!1),alert("게시글을 불러오는 데 실패했습니다."),h("/");return}console.log("불러온 데이터:",b),t(b.title),s(b.savedAt),b.raw_elements?d(b.raw_elements):(console.warn("raw_elements 데이터가 없습니다. ContentsPage에서 저장되었는지 확인하세요."),d([])),l(!1)})()},[n,h]);const p=async()=>{if(!window.confirm("정말로 이 게시글을 삭제하시겠습니까?"))return;const{error:v}=await ri.from("development_log").delete().eq("id",n);v?(console.error("게시글 삭제 실패:",v.message),alert("게시글 삭제에 실패했습니다: "+v.message)):(console.log("게시글 삭제 성공"),alert("게시글이 성공적으로 삭제되었습니다."),h("/"))},g=()=>{h(`/edit/${n}`)};return o?J.jsx("div",{children:"불러오는 중..."}):!e&&!c.length&&!o?J.jsx("div",{children:"게시글을 찾을 수 없습니다."}):J.jsxs("div",{className:"postViewContetns",children:[J.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[J.jsx("h1",{style:{fontSize:"28px",marginBottom:"10px"},children:e}),J.jsxs("div",{children:[" ",J.jsx("button",{onClick:g,className:"editButton",children:"수정"}),J.jsx("button",{onClick:p,className:"deleteButton",children:"삭제"})]})]}),J.jsxs("p",{style:{color:"#888",marginBottom:"20px"},children:["저장된 시간: ",new Date(r).toLocaleString("ko-KR")]}),J.jsx("div",{className:"postViewBody",children:c.map(v=>v.type==="text"?J.jsx(lT,{id:v.id,content:v.content,position:v.position,size:v.size,selected:!1,onSelect:()=>{},onUpdate:()=>{},editable:!1},v.id):v.type==="image"?J.jsx(uT,{id:v.id,src:v.src,width:v.width,height:v.height,position:v.position,selected:!1,onSelect:()=>{},onUpdate:()=>{},editable:!1},v.id):null)})]})};function $B(){return J.jsx(Z_,{basename:"/Development-log",children:J.jsxs("div",{className:"mainContainer",children:[J.jsx(cO,{}),J.jsxs(A_,{children:[J.jsx(La,{path:"/",element:J.jsx(mA,{})}),J.jsx(La,{path:"/contents",element:J.jsx($1,{})}),J.jsx(La,{path:"/posts/:id",element:J.jsx(IB,{})}),J.jsx(La,{path:"/edit/:id",element:J.jsx($1,{})})]}),J.jsx(fO,{})]})})}HC.createRoot(document.getElementById("root")).render(J.jsx(B.StrictMode,{children:J.jsx($B,{})}));
